(function(){if(window.youdao){return;
/*
 * jQuery JavaScript Library v1.4.2
 * http://jquery.com/
 *
 * Copyright 2010, John Resig
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 * Copyright 2010, The Dojo Foundation
 * Released under the MIT, BSD, and GPL Licenses.
 *
 * Date: Sat Feb 13 22:33:48 2010 -0500
 */
}(function(window,undefined){var jQuery=function(selector,context){return new jQuery.fn.init(selector,context)},_jQuery=window.jQuery,_$=window.$,document=window.document,rootjQuery,quickExpr=/^[^<]*(<[\w\W]+>)[^>]*$|^#([\w-]+)$/,isSimple=/^.[^:#\[\.,]*$/,rnotwhite=/\S/,rtrim=/^(\s|\u00A0)+|(\s|\u00A0)+$/g,rsingleTag=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,userAgent=navigator.userAgent,browserMatch,readyBound=false,readyList=[],DOMContentLoaded,toString=Object.prototype.toString,hasOwnProperty=Object.prototype.hasOwnProperty,push=Array.prototype.push,slice=Array.prototype.slice,indexOf=Array.prototype.indexOf;jQuery.fn=jQuery.prototype={init:function(selector,context){var match,elem,ret,doc;if(!selector){return this}if(selector.nodeType){this.context=this[0]=selector;this.length=1;return this}if(selector==="body"&&!context){this.context=document;this[0]=document.body;this.selector="body";this.length=1;return this}if(typeof selector==="string"){match=quickExpr.exec(selector);if(match&&(match[1]||!context)){if(match[1]){doc=(context?context.ownerDocument||context:document);ret=rsingleTag.exec(selector);if(ret){if(jQuery.isPlainObject(context)){selector=[document.createElement(ret[1])];jQuery.fn.attr.call(selector,context,true)}else{selector=[doc.createElement(ret[1])]}}else{ret=buildFragment([match[1]],[doc]);selector=(ret.cacheable?ret.fragment.cloneNode(true):ret.fragment).childNodes}return jQuery.merge(this,selector)}else{elem=document.getElementById(match[2]);if(elem){if(elem.id!==match[2]){return rootjQuery.find(selector)}this.length=1;this[0]=elem}this.context=document;this.selector=selector;return this}}else{if(!context&&/^\w+$/.test(selector)){this.selector=selector;this.context=document;selector=document.getElementsByTagName(selector);return jQuery.merge(this,selector)}else{if(!context||context.jquery){return(context||rootjQuery).find(selector)}else{return jQuery(context).find(selector)}}}}else{if(jQuery.isFunction(selector)){return rootjQuery.ready(selector)}}if(selector.selector!==undefined){this.selector=selector.selector;this.context=selector.context}return jQuery.makeArray(selector,this)},selector:"",jquery:"1.4.2",length:0,size:function(){return this.length},toArray:function(){return slice.call(this,0)},get:function(num){return num==null?this.toArray():(num<0?this.slice(num)[0]:this[num])},pushStack:function(elems,name,selector){var ret=jQuery();if(jQuery.isArray(elems)){push.apply(ret,elems)}else{jQuery.merge(ret,elems)}ret.prevObject=this;ret.context=this.context;if(name==="find"){ret.selector=this.selector+(this.selector?" ":"")+selector}else{if(name){ret.selector=this.selector+"."+name+"("+selector+")"}}return ret},each:function(callback,args){return jQuery.each(this,callback,args)},ready:function(fn){jQuery.bindReady();if(jQuery.isReady){fn.call(document,jQuery)}else{if(readyList){readyList.push(fn)}}return this},eq:function(i){return i===-1?this.slice(i):this.slice(i,+i+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(slice.apply(this,arguments),"slice",slice.call(arguments).join(","))},map:function(callback){return this.pushStack(jQuery.map(this,function(elem,i){return callback.call(elem,i,elem)}))},end:function(){return this.prevObject||jQuery(null)},push:push,sort:[].sort,splice:[].splice};jQuery.fn.init.prototype=jQuery.fn;jQuery.extend=jQuery.fn.extend=function(){var target=arguments[0]||{},i=1,length=arguments.length,deep=false,options,name,src,copy;if(typeof target==="boolean"){deep=target;target=arguments[1]||{};i=2}if(typeof target!=="object"&&!jQuery.isFunction(target)){target={}}if(length===i){target=this;--i}for(;i<length;i++){if((options=arguments[i])!=null){for(name in options){src=target[name];copy=options[name];if(target===copy){continue}if(deep&&copy&&(jQuery.isPlainObject(copy)||jQuery.isArray(copy))){var clone=src&&(jQuery.isPlainObject(src)||jQuery.isArray(src))?src:jQuery.isArray(copy)?[]:{};target[name]=jQuery.extend(deep,clone,copy)}else{if(copy!==undefined){target[name]=copy}}}}}return target};jQuery.extend({noConflict:function(deep){window.$=_$;if(deep){window.jQuery=_jQuery}return jQuery},isReady:false,ready:function(){if(!jQuery.isReady){if(!document.body){return setTimeout(jQuery.ready,13)}jQuery.isReady=true;if(readyList){var fn,i=0;while((fn=readyList[i++])){fn.call(document,jQuery)}readyList=null}if(jQuery.fn.triggerHandler){jQuery(document).triggerHandler("ready")}}},bindReady:function(){if(readyBound){return}readyBound=true;if(document.readyState==="complete"){return jQuery.ready()}if(document.addEventListener){document.addEventListener("DOMContentLoaded",DOMContentLoaded,false);window.addEventListener("load",jQuery.ready,false)}else{if(document.attachEvent){document.attachEvent("onreadystatechange",DOMContentLoaded);window.attachEvent("onload",jQuery.ready);var toplevel=false;try{toplevel=window.frameElement==null}catch(e){}if(document.documentElement.doScroll&&toplevel){doScrollCheck()}}}},isFunction:function(obj){return toString.call(obj)==="[object Function]"},isArray:function(obj){return toString.call(obj)==="[object Array]"},isPlainObject:function(obj){if(!obj||toString.call(obj)!=="[object Object]"||obj.nodeType||obj.setInterval){return false}if(obj.constructor&&!hasOwnProperty.call(obj,"constructor")&&!hasOwnProperty.call(obj.constructor.prototype,"isPrototypeOf")){return false}var key;for(key in obj){}return key===undefined||hasOwnProperty.call(obj,key)},isEmptyObject:function(obj){for(var name in obj){return false}return true},error:function(msg){throw msg},parseJSON:function(data){if(typeof data!=="string"||!data){return null}data=jQuery.trim(data);if(/^[\],:{}\s]*$/.test(data.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){return window.JSON&&window.JSON.parse?window.JSON.parse(data):(new Function("return "+data))()}else{jQuery.error("Invalid JSON: "+data)}},noop:function(){},globalEval:function(data){if(data&&rnotwhite.test(data)){var head=document.head||document.getElementsByTagName("head")[0]||document.documentElement,script=document.createElement("script");if(jQuery.support.scriptEval){script.appendChild(document.createTextNode(data))}else{script.text=data}head.insertBefore(script,head.firstChild);head.removeChild(script)}},nodeName:function(elem,name){return elem.nodeName&&elem.nodeName.toUpperCase()===name.toUpperCase()},each:function(object,callback,args){var name,i=0,length=object.length,isObj=length===undefined||jQuery.isFunction(object);if(args){if(isObj){for(name in object){if(callback.apply(object[name],args)===false){break}}}else{for(;i<length;){if(callback.apply(object[i++],args)===false){break}}}}else{if(isObj){for(name in object){if(callback.call(object[name],name,object[name])===false){break}}}else{for(var value=object[0];i<length&&callback.call(value,i,value)!==false;value=object[++i]){}}}return object},trim:function(text){return(text||"").replace(rtrim,"")},makeArray:function(array,results){var ret=results||[];if(array!=null){if(array.length==null||typeof array==="string"||jQuery.isFunction(array)||(typeof array!=="function"&&array.setInterval)){push.call(ret,array)}else{jQuery.merge(ret,array)}}return ret},inArray:function(elem,array){if(array.indexOf){return array.indexOf(elem)}for(var i=0,length=array.length;i<length;i++){if(array[i]===elem){return i}}return -1},merge:function(first,second){var i=first.length,j=0;if(typeof second.length==="number"){for(var l=second.length;j<l;j++){first[i++]=second[j]}}else{while(second[j]!==undefined){first[i++]=second[j++]}}first.length=i;return first},grep:function(elems,callback,inv){var ret=[];for(var i=0,length=elems.length;i<length;i++){if(!inv!==!callback(elems[i],i)){ret.push(elems[i])}}return ret},map:function(elems,callback,arg){var ret=[],value;for(var i=0,length=elems.length;i<length;i++){value=callback(elems[i],i,arg);if(value!=null){ret[ret.length]=value}}return ret.concat.apply([],ret)},guid:1,proxy:function(fn,proxy,thisObject){if(arguments.length===2){if(typeof proxy==="string"){thisObject=fn;fn=thisObject[proxy];proxy=undefined}else{if(proxy&&!jQuery.isFunction(proxy)){thisObject=proxy;proxy=undefined}}}if(!proxy&&fn){proxy=function(){return fn.apply(thisObject||this,arguments)}}if(fn){proxy.guid=fn.guid=fn.guid||proxy.guid||jQuery.guid++}return proxy},uaMatch:function(ua){ua=ua.toLowerCase();var match=/(webkit)[ \/]([\w.]+)/.exec(ua)||/(opera)(?:.*version)?[ \/]([\w.]+)/.exec(ua)||/(msie) ([\w.]+)/.exec(ua)||!/compatible/.test(ua)&&/(mozilla)(?:.*? rv:([\w.]+))?/.exec(ua)||[];return{browser:match[1]||"",version:match[2]||"0"}},browser:{}});browserMatch=jQuery.uaMatch(userAgent);if(browserMatch.browser){jQuery.browser[browserMatch.browser]=true;jQuery.browser.version=browserMatch.version}if(jQuery.browser.webkit){jQuery.browser.safari=true}if(indexOf){jQuery.inArray=function(elem,array){return indexOf.call(array,elem)}}rootjQuery=jQuery(document);if(document.addEventListener){DOMContentLoaded=function(){document.removeEventListener("DOMContentLoaded",DOMContentLoaded,false);jQuery.ready()}}else{if(document.attachEvent){DOMContentLoaded=function(){if(document.readyState==="complete"){document.detachEvent("onreadystatechange",DOMContentLoaded);jQuery.ready()}}}}function doScrollCheck(){if(jQuery.isReady){return}try{document.documentElement.doScroll("left")}catch(error){setTimeout(doScrollCheck,1);return}jQuery.ready()}function evalScript(i,elem){if(elem.src){jQuery.ajax({url:elem.src,async:false,dataType:"script"})}else{jQuery.globalEval(elem.text||elem.textContent||elem.innerHTML||"")}if(elem.parentNode){elem.parentNode.removeChild(elem)}}function access(elems,key,value,exec,fn,pass){var length=elems.length;if(typeof key==="object"){for(var k in key){access(elems,k,key[k],exec,fn,value)}return elems}if(value!==undefined){exec=!pass&&exec&&jQuery.isFunction(value);for(var i=0;i<length;i++){fn(elems[i],key,exec?value.call(elems[i],i,fn(elems[i],key)):value,pass)}return elems}return length?fn(elems[0],key):undefined}function now(){return(new Date).getTime()}(function(){jQuery.support={};var root=document.documentElement,script=document.createElement("script"),div=document.createElement("div"),id="script"+now();div.style.display="none";div.innerHTML="   <link/><table></table><a href='/a' style='color:red;float:left;opacity:.55;'>a</a><input type='checkbox'/>";var all=div.getElementsByTagName("*"),a=div.getElementsByTagName("a")[0];if(!all||!all.length||!a){return}jQuery.support={leadingWhitespace:div.firstChild.nodeType===3,tbody:!div.getElementsByTagName("tbody").length,htmlSerialize:!!div.getElementsByTagName("link").length,style:/red/.test(a.getAttribute("style")),hrefNormalized:a.getAttribute("href")==="/a",opacity:/^0.55$/.test(a.style.opacity),cssFloat:!!a.style.cssFloat,checkOn:div.getElementsByTagName("input")[0].value==="on",optSelected:document.createElement("select").appendChild(document.createElement("option")).selected,parentNode:div.removeChild(div.appendChild(document.createElement("div"))).parentNode===null,deleteExpando:true,checkClone:false,scriptEval:false,noCloneEvent:true,boxModel:null};script.type="text/javascript";try{script.appendChild(document.createTextNode("window."+id+"=1;"))}catch(e){}root.insertBefore(script,root.firstChild);if(window[id]){jQuery.support.scriptEval=true;delete window[id]}try{delete script.test}catch(e){jQuery.support.deleteExpando=false}root.removeChild(script);if(div.attachEvent&&div.fireEvent){div.attachEvent("onclick",function click(){jQuery.support.noCloneEvent=false;div.detachEvent("onclick",click)});div.cloneNode(true).fireEvent("onclick")}div=document.createElement("div");div.innerHTML="<input type='radio' name='radiotest' checked='checked'/>";var fragment=document.createDocumentFragment();fragment.appendChild(div.firstChild);jQuery.support.checkClone=fragment.cloneNode(true).cloneNode(true).lastChild.checked;jQuery(function(){var div=document.createElement("div");div.style.width=div.style.paddingLeft="1px";document.body.appendChild(div);jQuery.boxModel=jQuery.support.boxModel=div.offsetWidth===2;document.body.removeChild(div).style.display="none";div=null});var eventSupported=function(eventName){var el=document.createElement("div");eventName="on"+eventName;var isSupported=(eventName in el);if(!isSupported){el.setAttribute(eventName,"return;");isSupported=typeof el[eventName]==="function"}el=null;return isSupported};jQuery.support.submitBubbles=eventSupported("submit");jQuery.support.changeBubbles=eventSupported("change");root=script=div=all=a=null})();jQuery.props={"for":"htmlFor","class":"className",readonly:"readOnly",maxlength:"maxLength",cellspacing:"cellSpacing",rowspan:"rowSpan",colspan:"colSpan",tabindex:"tabIndex",usemap:"useMap",frameborder:"frameBorder"};var expando="jQuery"+now(),uuid=0,windowData={};jQuery.extend({cache:{},expando:expando,noData:{embed:true,object:true,applet:true},data:function(elem,name,data){if(elem.nodeName&&jQuery.noData[elem.nodeName.toLowerCase()]){return}elem=elem==window?windowData:elem;var id=elem[expando],cache=jQuery.cache,thisCache;if(!id&&typeof name==="string"&&data===undefined){return null}if(!id){id=++uuid}if(typeof name==="object"){elem[expando]=id;thisCache=cache[id]=jQuery.extend(true,{},name)}else{if(!cache[id]){elem[expando]=id;cache[id]={}}}thisCache=cache[id];if(data!==undefined){thisCache[name]=data}return typeof name==="string"?thisCache[name]:thisCache},removeData:function(elem,name){if(elem.nodeName&&jQuery.noData[elem.nodeName.toLowerCase()]){return}elem=elem==window?windowData:elem;var id=elem[expando],cache=jQuery.cache,thisCache=cache[id];if(name){if(thisCache){delete thisCache[name];if(jQuery.isEmptyObject(thisCache)){jQuery.removeData(elem)}}}else{if(jQuery.support.deleteExpando){delete elem[jQuery.expando]}else{if(elem.removeAttribute){elem.removeAttribute(jQuery.expando)}}delete cache[id]}}});jQuery.fn.extend({data:function(key,value){if(typeof key==="undefined"&&this.length){return jQuery.data(this[0])}else{if(typeof key==="object"){return this.each(function(){jQuery.data(this,key)})}}var parts=key.split(".");parts[1]=parts[1]?"."+parts[1]:"";if(value===undefined){var data=this.triggerHandler("getData"+parts[1]+"!",[parts[0]]);if(data===undefined&&this.length){data=jQuery.data(this[0],key)}return data===undefined&&parts[1]?this.data(parts[0]):data}else{return this.trigger("setData"+parts[1]+"!",[parts[0],value]).each(function(){jQuery.data(this,key,value)})}},removeData:function(key){return this.each(function(){jQuery.removeData(this,key)})}});jQuery.extend({queue:function(elem,type,data){if(!elem){return}type=(type||"fx")+"queue";var q=jQuery.data(elem,type);if(!data){return q||[]}if(!q||jQuery.isArray(data)){q=jQuery.data(elem,type,jQuery.makeArray(data))}else{q.push(data)}return q},dequeue:function(elem,type){type=type||"fx";var queue=jQuery.queue(elem,type),fn=queue.shift();if(fn==="inprogress"){fn=queue.shift()}if(fn){if(type==="fx"){queue.unshift("inprogress")}fn.call(elem,function(){jQuery.dequeue(elem,type)})}}});jQuery.fn.extend({queue:function(type,data){if(typeof type!=="string"){data=type;type="fx"}if(data===undefined){return jQuery.queue(this[0],type)}return this.each(function(i,elem){var queue=jQuery.queue(this,type,data);if(type==="fx"&&queue[0]!=="inprogress"){jQuery.dequeue(this,type)}})},dequeue:function(type){return this.each(function(){jQuery.dequeue(this,type)})},delay:function(time,type){time=jQuery.fx?jQuery.fx.speeds[time]||time:time;type=type||"fx";return this.queue(type,function(){var elem=this;setTimeout(function(){jQuery.dequeue(elem,type)},time)})},clearQueue:function(type){return this.queue(type||"fx",[])}});var rclass=/[\n\t]/g,rspace=/\s+/,rreturn=/\r/g,rspecialurl=/href|src|style/,rtype=/(button|input)/i,rfocusable=/(button|input|object|select|textarea)/i,rclickable=/^(a|area)$/i,rradiocheck=/radio|checkbox/;jQuery.fn.extend({attr:function(name,value){return access(this,name,value,true,jQuery.attr)},removeAttr:function(name,fn){return this.each(function(){jQuery.attr(this,name,"");if(this.nodeType===1){this.removeAttribute(name)}})},addClass:function(value){if(jQuery.isFunction(value)){return this.each(function(i){var self=jQuery(this);self.addClass(value.call(this,i,self.attr("class")))})}if(value&&typeof value==="string"){var classNames=(value||"").split(rspace);for(var i=0,l=this.length;i<l;i++){var elem=this[i];if(elem.nodeType===1){if(!elem.className){elem.className=value}else{var className=" "+elem.className+" ",setClass=elem.className;for(var c=0,cl=classNames.length;c<cl;c++){if(className.indexOf(" "+classNames[c]+" ")<0){setClass+=" "+classNames[c]}}elem.className=jQuery.trim(setClass)}}}}return this},removeClass:function(value){if(jQuery.isFunction(value)){return this.each(function(i){var self=jQuery(this);self.removeClass(value.call(this,i,self.attr("class")))})}if((value&&typeof value==="string")||value===undefined){var classNames=(value||"").split(rspace);for(var i=0,l=this.length;i<l;i++){var elem=this[i];if(elem.nodeType===1&&elem.className){if(value){var className=(" "+elem.className+" ").replace(rclass," ");for(var c=0,cl=classNames.length;c<cl;c++){className=className.replace(" "+classNames[c]+" "," ")}elem.className=jQuery.trim(className)}else{elem.className=""}}}}return this},toggleClass:function(value,stateVal){var type=typeof value,isBool=typeof stateVal==="boolean";if(jQuery.isFunction(value)){return this.each(function(i){var self=jQuery(this);self.toggleClass(value.call(this,i,self.attr("class"),stateVal),stateVal)})}return this.each(function(){if(type==="string"){var className,i=0,self=jQuery(this),state=stateVal,classNames=value.split(rspace);while((className=classNames[i++])){state=isBool?state:!self.hasClass(className);self[state?"addClass":"removeClass"](className)}}else{if(type==="undefined"||type==="boolean"){if(this.className){jQuery.data(this,"__className__",this.className)}this.className=this.className||value===false?"":jQuery.data(this,"__className__")||""}}})},hasClass:function(selector){var className=" "+selector+" ";for(var i=0,l=this.length;i<l;i++){if((" "+this[i].className+" ").replace(rclass," ").indexOf(className)>-1){return true}}return false},val:function(value){if(value===undefined){var elem=this[0];if(elem){if(jQuery.nodeName(elem,"option")){return(elem.attributes.value||{}).specified?elem.value:elem.text}if(jQuery.nodeName(elem,"select")){var index=elem.selectedIndex,values=[],options=elem.options,one=elem.type==="select-one";if(index<0){return null}for(var i=one?index:0,max=one?index+1:options.length;i<max;i++){var option=options[i];if(option.selected){value=jQuery(option).val();if(one){return value}values.push(value)}}return values}if(rradiocheck.test(elem.type)&&!jQuery.support.checkOn){return elem.getAttribute("value")===null?"on":elem.value}return(elem.value||"").replace(rreturn,"")}return undefined}var isFunction=jQuery.isFunction(value);return this.each(function(i){var self=jQuery(this),val=value;if(this.nodeType!==1){return}if(isFunction){val=value.call(this,i,self.val())}if(typeof val==="number"){val+=""}if(jQuery.isArray(val)&&rradiocheck.test(this.type)){this.checked=jQuery.inArray(self.val(),val)>=0}else{if(jQuery.nodeName(this,"select")){var values=jQuery.makeArray(val);jQuery("option",this).each(function(){this.selected=jQuery.inArray(jQuery(this).val(),values)>=0});if(!values.length){this.selectedIndex=-1}}else{this.value=val}}})}});jQuery.extend({attrFn:{val:true,css:true,html:true,text:true,data:true,width:true,height:true,offset:true},attr:function(elem,name,value,pass){if(!elem||elem.nodeType===3||elem.nodeType===8){return undefined}if(pass&&name in jQuery.attrFn){return jQuery(elem)[name](value)}var notxml=elem.nodeType!==1||!jQuery.isXMLDoc(elem),set=value!==undefined;name=notxml&&jQuery.props[name]||name;if(elem.nodeType===1){var special=rspecialurl.test(name);if(name==="selected"&&!jQuery.support.optSelected){var parent=elem.parentNode;if(parent){parent.selectedIndex;if(parent.parentNode){parent.parentNode.selectedIndex}}}if(name in elem&&notxml&&!special){if(set){if(name==="type"&&rtype.test(elem.nodeName)&&elem.parentNode){jQuery.error("type property can't be changed")}elem[name]=value}if(jQuery.nodeName(elem,"form")&&elem.getAttributeNode(name)){return elem.getAttributeNode(name).nodeValue}if(name==="tabIndex"){var attributeNode=elem.getAttributeNode("tabIndex");return attributeNode&&attributeNode.specified?attributeNode.value:rfocusable.test(elem.nodeName)||rclickable.test(elem.nodeName)&&elem.href?0:undefined}return elem[name]}if(!jQuery.support.style&&notxml&&name==="style"){if(set){elem.style.cssText=""+value}return elem.style.cssText}if(set){elem.setAttribute(name,""+value)}var attr=!jQuery.support.hrefNormalized&&notxml&&special?elem.getAttribute(name,2):elem.getAttribute(name);return attr===null?undefined:attr}return jQuery.style(elem,name,value)}});var rnamespaces=/\.(.*)$/,fcleanup=function(nm){return nm.replace(/[^\w\s\.\|`]/g,function(ch){return"\\"+ch})};jQuery.event={add:function(elem,types,handler,data){if(elem.nodeType===3||elem.nodeType===8){return}if(elem.setInterval&&(elem!==window&&!elem.frameElement)){elem=window}var handleObjIn,handleObj;if(handler.handler){handleObjIn=handler;handler=handleObjIn.handler}if(!handler.guid){handler.guid=jQuery.guid++}var elemData=jQuery.data(elem);if(!elemData){return}var events=elemData.events=elemData.events||{},eventHandle=elemData.handle,eventHandle;if(!eventHandle){elemData.handle=eventHandle=function(){return typeof jQuery!=="undefined"&&!jQuery.event.triggered?jQuery.event.handle.apply(eventHandle.elem,arguments):undefined}}eventHandle.elem=elem;types=types.split(" ");var type,i=0,namespaces;while((type=types[i++])){handleObj=handleObjIn?jQuery.extend({},handleObjIn):{handler:handler,data:data};if(type.indexOf(".")>-1){namespaces=type.split(".");type=namespaces.shift();handleObj.namespace=namespaces.slice(0).sort().join(".")}else{namespaces=[];handleObj.namespace=""}handleObj.type=type;handleObj.guid=handler.guid;var handlers=events[type],special=jQuery.event.special[type]||{};if(!handlers){handlers=events[type]=[];if(!special.setup||special.setup.call(elem,data,namespaces,eventHandle)===false){if(elem.addEventListener){elem.addEventListener(type,eventHandle,false)}else{if(elem.attachEvent){elem.attachEvent("on"+type,eventHandle)}}}}if(special.add){special.add.call(elem,handleObj);if(!handleObj.handler.guid){handleObj.handler.guid=handler.guid}}handlers.push(handleObj);jQuery.event.global[type]=true}elem=null},global:{},remove:function(elem,types,handler,pos){if(elem.nodeType===3||elem.nodeType===8){return}var ret,type,fn,i=0,all,namespaces,namespace,special,eventType,handleObj,origType,elemData=jQuery.data(elem),events=elemData&&elemData.events;if(!elemData||!events){return}if(types&&types.type){handler=types.handler;types=types.type}if(!types||typeof types==="string"&&types.charAt(0)==="."){types=types||"";for(type in events){jQuery.event.remove(elem,type+types)}return}types=types.split(" ");while((type=types[i++])){origType=type;handleObj=null;all=type.indexOf(".")<0;namespaces=[];if(!all){namespaces=type.split(".");type=namespaces.shift();namespace=new RegExp("(^|\\.)"+jQuery.map(namespaces.slice(0).sort(),fcleanup).join("\\.(?:.*\\.)?")+"(\\.|$)")}eventType=events[type];if(!eventType){continue}if(!handler){for(var j=0;j<eventType.length;j++){handleObj=eventType[j];if(all||namespace.test(handleObj.namespace)){jQuery.event.remove(elem,origType,handleObj.handler,j);eventType.splice(j--,1)}}continue}special=jQuery.event.special[type]||{};for(var j=pos||0;j<eventType.length;j++){handleObj=eventType[j];if(handler.guid===handleObj.guid){if(all||namespace.test(handleObj.namespace)){if(pos==null){eventType.splice(j--,1)}if(special.remove){special.remove.call(elem,handleObj)}}if(pos!=null){break}}}if(eventType.length===0||pos!=null&&eventType.length===1){if(!special.teardown||special.teardown.call(elem,namespaces)===false){removeEvent(elem,type,elemData.handle)}ret=null;delete events[type]}}if(jQuery.isEmptyObject(events)){var handle=elemData.handle;if(handle){handle.elem=null}delete elemData.events;delete elemData.handle;if(jQuery.isEmptyObject(elemData)){jQuery.removeData(elem)}}},trigger:function(event,data,elem){var type=event.type||event,bubbling=arguments[3];if(!bubbling){event=typeof event==="object"?event[expando]?event:jQuery.extend(jQuery.Event(type),event):jQuery.Event(type);if(type.indexOf("!")>=0){event.type=type=type.slice(0,-1);event.exclusive=true}if(!elem){event.stopPropagation();if(jQuery.event.global[type]){jQuery.each(jQuery.cache,function(){if(this.events&&this.events[type]){jQuery.event.trigger(event,data,this.handle.elem)}})}}if(!elem||elem.nodeType===3||elem.nodeType===8){return undefined}event.result=undefined;event.target=elem;data=jQuery.makeArray(data);data.unshift(event)}event.currentTarget=elem;var handle=jQuery.data(elem,"handle");if(handle){handle.apply(elem,data)}var parent=elem.parentNode||elem.ownerDocument;try{if(!(elem&&elem.nodeName&&jQuery.noData[elem.nodeName.toLowerCase()])){if(elem["on"+type]&&elem["on"+type].apply(elem,data)===false){event.result=false}}}catch(e){}if(!event.isPropagationStopped()&&parent){jQuery.event.trigger(event,data,parent,true)}else{if(!event.isDefaultPrevented()){var target=event.target,old,isClick=jQuery.nodeName(target,"a")&&type==="click",special=jQuery.event.special[type]||{};if((!special._default||special._default.call(elem,event)===false)&&!isClick&&!(target&&target.nodeName&&jQuery.noData[target.nodeName.toLowerCase()])){try{if(target[type]){old=target["on"+type];if(old){target["on"+type]=null}jQuery.event.triggered=true;target[type]()}}catch(e){}if(old){target["on"+type]=old}jQuery.event.triggered=false}}}},handle:function(event){var all,handlers,namespaces,namespace,events;event=arguments[0]=jQuery.event.fix(event||window.event);event.currentTarget=this;all=event.type.indexOf(".")<0&&!event.exclusive;if(!all){namespaces=event.type.split(".");event.type=namespaces.shift();namespace=new RegExp("(^|\\.)"+namespaces.slice(0).sort().join("\\.(?:.*\\.)?")+"(\\.|$)")}var events=jQuery.data(this,"events"),handlers=events[event.type];if(events&&handlers){handlers=handlers.slice(0);for(var j=0,l=handlers.length;j<l;j++){var handleObj=handlers[j];if(all||namespace.test(handleObj.namespace)){event.handler=handleObj.handler;event.data=handleObj.data;event.handleObj=handleObj;var ret=handleObj.handler.apply(this,arguments);if(ret!==undefined){event.result=ret;if(ret===false){event.preventDefault();event.stopPropagation()}}if(event.isImmediatePropagationStopped()){break}}}}return event.result},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),fix:function(event){if(event[expando]){return event}var originalEvent=event;event=jQuery.Event(originalEvent);for(var i=this.props.length,prop;i;){prop=this.props[--i];event[prop]=originalEvent[prop]}if(!event.target){event.target=event.srcElement||document}if(event.target.nodeType===3){event.target=event.target.parentNode}if(!event.relatedTarget&&event.fromElement){event.relatedTarget=event.fromElement===event.target?event.toElement:event.fromElement}if(event.pageX==null&&event.clientX!=null){var doc=document.documentElement,body=document.body;event.pageX=event.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0);event.pageY=event.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0)}if(!event.which&&((event.charCode||event.charCode===0)?event.charCode:event.keyCode)){event.which=event.charCode||event.keyCode}if(!event.metaKey&&event.ctrlKey){event.metaKey=event.ctrlKey}if(!event.which&&event.button!==undefined){event.which=(event.button&1?1:(event.button&2?3:(event.button&4?2:0)))}return event},guid:100000000,proxy:jQuery.proxy,special:{ready:{setup:jQuery.bindReady,teardown:jQuery.noop},live:{add:function(handleObj){jQuery.event.add(this,handleObj.origType,jQuery.extend({},handleObj,{handler:liveHandler}))},remove:function(handleObj){var remove=true,type=handleObj.origType.replace(rnamespaces,"");jQuery.each(jQuery.data(this,"events").live||[],function(){if(type===this.origType.replace(rnamespaces,"")){remove=false;return false}});if(remove){jQuery.event.remove(this,handleObj.origType,liveHandler)}}},beforeunload:{setup:function(data,namespaces,eventHandle){if(this.setInterval){this.onbeforeunload=eventHandle}return false},teardown:function(namespaces,eventHandle){if(this.onbeforeunload===eventHandle){this.onbeforeunload=null}}}}};var removeEvent=document.removeEventListener?function(elem,type,handle){elem.removeEventListener(type,handle,false)}:function(elem,type,handle){elem.detachEvent("on"+type,handle)};jQuery.Event=function(src){if(!this.preventDefault){return new jQuery.Event(src)}if(src&&src.type){this.originalEvent=src;this.type=src.type}else{this.type=src}this.timeStamp=now();this[expando]=true};function returnFalse(){return false}function returnTrue(){return true}jQuery.Event.prototype={preventDefault:function(){this.isDefaultPrevented=returnTrue;var e=this.originalEvent;if(!e){return}if(e.preventDefault){e.preventDefault()}e.returnValue=false},stopPropagation:function(){this.isPropagationStopped=returnTrue;var e=this.originalEvent;if(!e){return}if(e.stopPropagation){e.stopPropagation()}e.cancelBubble=true},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=returnTrue;this.stopPropagation()},isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse};var withinElement=function(event){var parent=event.relatedTarget;try{while(parent&&parent!==this){parent=parent.parentNode}if(parent!==this){event.type=event.data;jQuery.event.handle.apply(this,arguments)}}catch(e){}},delegate=function(event){event.type=event.data;jQuery.event.handle.apply(this,arguments)};jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(orig,fix){jQuery.event.special[orig]={setup:function(data){jQuery.event.add(this,fix,data&&data.selector?delegate:withinElement,orig)},teardown:function(data){jQuery.event.remove(this,fix,data&&data.selector?delegate:withinElement)}}});if(!jQuery.support.submitBubbles){jQuery.event.special.submit={setup:function(data,namespaces){if(this.nodeName.toLowerCase()!=="form"){jQuery.event.add(this,"click.specialSubmit",function(e){var elem=e.target,type=elem.type;if((type==="submit"||type==="image")&&jQuery(elem).closest("form").length){return trigger("submit",this,arguments)}});jQuery.event.add(this,"keypress.specialSubmit",function(e){var elem=e.target,type=elem.type;if((type==="text"||type==="password")&&jQuery(elem).closest("form").length&&e.keyCode===13){return trigger("submit",this,arguments)}})}else{return false}},teardown:function(namespaces){jQuery.event.remove(this,".specialSubmit")}}}if(!jQuery.support.changeBubbles){var formElems=/textarea|input|select/i,changeFilters,getVal=function(elem){var type=elem.type,val=elem.value;if(type==="radio"||type==="checkbox"){val=elem.checked}else{if(type==="select-multiple"){val=elem.selectedIndex>-1?jQuery.map(elem.options,function(elem){return elem.selected}).join("-"):""}else{if(elem.nodeName.toLowerCase()==="select"){val=elem.selectedIndex}}}return val},testChange=function testChange(e){var elem=e.target,data,val;if(!formElems.test(elem.nodeName)||elem.readOnly){return}data=jQuery.data(elem,"_change_data");val=getVal(elem);if(e.type!=="focusout"||elem.type!=="radio"){jQuery.data(elem,"_change_data",val)}if(data===undefined||val===data){return}if(data!=null||val){e.type="change";return jQuery.event.trigger(e,arguments[1],elem)}};jQuery.event.special.change={filters:{focusout:testChange,click:function(e){var elem=e.target,type=elem.type;if(type==="radio"||type==="checkbox"||elem.nodeName.toLowerCase()==="select"){return testChange.call(this,e)}},keydown:function(e){var elem=e.target,type=elem.type;if((e.keyCode===13&&elem.nodeName.toLowerCase()!=="textarea")||(e.keyCode===32&&(type==="checkbox"||type==="radio"))||type==="select-multiple"){return testChange.call(this,e)}},beforeactivate:function(e){var elem=e.target;jQuery.data(elem,"_change_data",getVal(elem))}},setup:function(data,namespaces){if(this.type==="file"){return false}for(var type in changeFilters){jQuery.event.add(this,type+".specialChange",changeFilters[type])}return formElems.test(this.nodeName)},teardown:function(namespaces){jQuery.event.remove(this,".specialChange");return formElems.test(this.nodeName)}};changeFilters=jQuery.event.special.change.filters}function trigger(type,elem,args){args[0].type=type;return jQuery.event.handle.apply(elem,args)}if(document.addEventListener){jQuery.each({focus:"focusin",blur:"focusout"},function(orig,fix){jQuery.event.special[fix]={setup:function(){this.addEventListener(orig,handler,true)},teardown:function(){this.removeEventListener(orig,handler,true)}};function handler(e){e=jQuery.event.fix(e);e.type=fix;return jQuery.event.handle.call(this,e)}})}jQuery.each(["bind","one"],function(i,name){jQuery.fn[name]=function(type,data,fn){if(typeof type==="object"){for(var key in type){this[name](key,data,type[key],fn)}return this}if(jQuery.isFunction(data)){fn=data;data=undefined}var handler=name==="one"?jQuery.proxy(fn,function(event){jQuery(this).unbind(event,handler);return fn.apply(this,arguments)}):fn;if(type==="unload"&&name!=="one"){this.one(type,data,fn)}else{for(var i=0,l=this.length;i<l;i++){jQuery.event.add(this[i],type,handler,data)}}return this}});jQuery.fn.extend({unbind:function(type,fn){if(typeof type==="object"&&!type.preventDefault){for(var key in type){this.unbind(key,type[key])}}else{for(var i=0,l=this.length;i<l;i++){jQuery.event.remove(this[i],type,fn)}}return this},delegate:function(selector,types,data,fn){return this.live(types,data,fn,selector)},undelegate:function(selector,types,fn){if(arguments.length===0){return this.unbind("live")}else{return this.die(types,null,fn,selector)}},trigger:function(type,data){return this.each(function(){jQuery.event.trigger(type,data,this)})},triggerHandler:function(type,data){if(this[0]){var event=jQuery.Event(type);event.preventDefault();event.stopPropagation();jQuery.event.trigger(event,data,this[0]);return event.result}},toggle:function(fn){var args=arguments,i=1;while(i<args.length){jQuery.proxy(fn,args[i++])}return this.click(jQuery.proxy(fn,function(event){var lastToggle=(jQuery.data(this,"lastToggle"+fn.guid)||0)%i;jQuery.data(this,"lastToggle"+fn.guid,lastToggle+1);event.preventDefault();return args[lastToggle].apply(this,arguments)||false}))},hover:function(fnOver,fnOut){return this.mouseenter(fnOver).mouseleave(fnOut||fnOver)}});var liveMap={focus:"focusin",blur:"focusout",mouseenter:"mouseover",mouseleave:"mouseout"};jQuery.each(["live","die"],function(i,name){jQuery.fn[name]=function(types,data,fn,origSelector){var type,i=0,match,namespaces,preType,selector=origSelector||this.selector,context=origSelector?this:jQuery(this.context);if(jQuery.isFunction(data)){fn=data;data=undefined}types=(types||"").split(" ");while((type=types[i++])!=null){match=rnamespaces.exec(type);namespaces="";if(match){namespaces=match[0];type=type.replace(rnamespaces,"")}if(type==="hover"){types.push("mouseenter"+namespaces,"mouseleave"+namespaces);continue}preType=type;if(type==="focus"||type==="blur"){types.push(liveMap[type]+namespaces);type=type+namespaces}else{type=(liveMap[type]||type)+namespaces}if(name==="live"){context.each(function(){jQuery.event.add(this,liveConvert(type,selector),{data:data,selector:selector,handler:fn,origType:type,origHandler:fn,preType:preType})})}else{context.unbind(liveConvert(type,selector),fn)}}return this}});function liveHandler(event){var stop,elems=[],selectors=[],args=arguments,related,match,handleObj,elem,j,i,l,data,events=jQuery.data(this,"events");if(event.liveFired===this||!events||!events.live||event.button&&event.type==="click"){return}event.liveFired=this;var live=events.live.slice(0);for(j=0;j<live.length;j++){handleObj=live[j];if(handleObj.origType.replace(rnamespaces,"")===event.type){selectors.push(handleObj.selector)}else{live.splice(j--,1)}}match=jQuery(event.target).closest(selectors,event.currentTarget);for(i=0,l=match.length;i<l;i++){for(j=0;j<live.length;j++){handleObj=live[j];if(match[i].selector===handleObj.selector){elem=match[i].elem;related=null;if(handleObj.preType==="mouseenter"||handleObj.preType==="mouseleave"){related=jQuery(event.relatedTarget).closest(handleObj.selector)[0]}if(!related||related!==elem){elems.push({elem:elem,handleObj:handleObj})}}}}for(i=0,l=elems.length;i<l;i++){match=elems[i];event.currentTarget=match.elem;event.data=match.handleObj.data;event.handleObj=match.handleObj;if(match.handleObj.origHandler.apply(match.elem,args)===false){stop=false;break}}return stop}function liveConvert(type,selector){return"live."+(type&&type!=="*"?type+".":"")+selector.replace(/\./g,"`").replace(/ /g,"&")}jQuery.each(("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error").split(" "),function(i,name){jQuery.fn[name]=function(fn){return fn?this.bind(name,fn):this.trigger(name)};if(jQuery.attrFn){jQuery.attrFn[name]=true}});if(window.attachEvent&&!window.addEventListener){window.attachEvent("onunload",function(){for(var id in jQuery.cache){if(jQuery.cache[id].handle){try{jQuery.event.remove(jQuery.cache[id].handle.elem)}catch(e){}}}});
/*
 * Sizzle CSS Selector Engine - v1.0
 *  Copyright 2009, The Dojo Foundation
 *  Released under the MIT, BSD, and GPL Licenses.
 *  More information: http://sizzlejs.com/
 */
}(function(){var chunker=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^[\]]*\]|['"][^'"]*['"]|[^[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,done=0,toString=Object.prototype.toString,hasDuplicate=false,baseHasDuplicate=true;[0,0].sort(function(){baseHasDuplicate=false;return 0});var Sizzle=function(selector,context,results,seed){results=results||[];var origContext=context=context||document;if(context.nodeType!==1&&context.nodeType!==9){return[]}if(!selector||typeof selector!=="string"){return results}var parts=[],m,set,checkSet,extra,prune=true,contextXML=isXML(context),soFar=selector;while((chunker.exec(""),m=chunker.exec(soFar))!==null){soFar=m[3];parts.push(m[1]);if(m[2]){extra=m[3];break}}if(parts.length>1&&origPOS.exec(selector)){if(parts.length===2&&Expr.relative[parts[0]]){set=posProcess(parts[0]+parts[1],context)}else{set=Expr.relative[parts[0]]?[context]:Sizzle(parts.shift(),context);while(parts.length){selector=parts.shift();if(Expr.relative[selector]){selector+=parts.shift()}set=posProcess(selector,set)}}}else{if(!seed&&parts.length>1&&context.nodeType===9&&!contextXML&&Expr.match.ID.test(parts[0])&&!Expr.match.ID.test(parts[parts.length-1])){var ret=Sizzle.find(parts.shift(),context,contextXML);context=ret.expr?Sizzle.filter(ret.expr,ret.set)[0]:ret.set[0]}if(context){var ret=seed?{expr:parts.pop(),set:makeArray(seed)}:Sizzle.find(parts.pop(),parts.length===1&&(parts[0]==="~"||parts[0]==="+")&&context.parentNode?context.parentNode:context,contextXML);set=ret.expr?Sizzle.filter(ret.expr,ret.set):ret.set;if(parts.length>0){checkSet=makeArray(set)}else{prune=false}while(parts.length){var cur=parts.pop(),pop=cur;if(!Expr.relative[cur]){cur=""}else{pop=parts.pop()}if(pop==null){pop=context}Expr.relative[cur](checkSet,pop,contextXML)}}else{checkSet=parts=[]}}if(!checkSet){checkSet=set}if(!checkSet){Sizzle.error(cur||selector)}if(toString.call(checkSet)==="[object Array]"){if(!prune){results.push.apply(results,checkSet)}else{if(context&&context.nodeType===1){for(var i=0;checkSet[i]!=null;i++){if(checkSet[i]&&(checkSet[i]===true||checkSet[i].nodeType===1&&contains(context,checkSet[i]))){results.push(set[i])}}}else{for(var i=0;checkSet[i]!=null;i++){if(checkSet[i]&&checkSet[i].nodeType===1){results.push(set[i])}}}}}else{makeArray(checkSet,results)}if(extra){Sizzle(extra,origContext,results,seed);Sizzle.uniqueSort(results)}return results};Sizzle.uniqueSort=function(results){if(sortOrder){hasDuplicate=baseHasDuplicate;results.sort(sortOrder);if(hasDuplicate){for(var i=1;i<results.length;i++){if(results[i]===results[i-1]){results.splice(i--,1)}}}}return results};Sizzle.matches=function(expr,set){return Sizzle(expr,null,null,set)};Sizzle.find=function(expr,context,isXML){var set,match;if(!expr){return[]}for(var i=0,l=Expr.order.length;i<l;i++){var type=Expr.order[i],match;if((match=Expr.leftMatch[type].exec(expr))){var left=match[1];match.splice(1,1);if(left.substr(left.length-1)!=="\\"){match[1]=(match[1]||"").replace(/\\/g,"");set=Expr.find[type](match,context,isXML);if(set!=null){expr=expr.replace(Expr.match[type],"");break}}}}if(!set){set=context.getElementsByTagName("*")}return{set:set,expr:expr}};Sizzle.filter=function(expr,set,inplace,not){var old=expr,result=[],curLoop=set,match,anyFound,isXMLFilter=set&&set[0]&&isXML(set[0]);while(expr&&set.length){for(var type in Expr.filter){if((match=Expr.leftMatch[type].exec(expr))!=null&&match[2]){var filter=Expr.filter[type],found,item,left=match[1];anyFound=false;match.splice(1,1);if(left.substr(left.length-1)==="\\"){continue}if(curLoop===result){result=[]}if(Expr.preFilter[type]){match=Expr.preFilter[type](match,curLoop,inplace,result,not,isXMLFilter);if(!match){anyFound=found=true}else{if(match===true){continue}}}if(match){for(var i=0;(item=curLoop[i])!=null;i++){if(item){found=filter(item,match,i,curLoop);var pass=not^!!found;if(inplace&&found!=null){if(pass){anyFound=true}else{curLoop[i]=false}}else{if(pass){result.push(item);anyFound=true}}}}}if(found!==undefined){if(!inplace){curLoop=result}expr=expr.replace(Expr.match[type],"");if(!anyFound){return[]}break}}}if(expr===old){if(anyFound==null){Sizzle.error(expr)}else{break}}old=expr}return curLoop};Sizzle.error=function(msg){throw"Syntax error, unrecognized expression: "+msg};var Expr=Sizzle.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+-]*)\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(elem){return elem.getAttribute("href")}},relative:{"+":function(checkSet,part){var isPartStr=typeof part==="string",isTag=isPartStr&&!/\W/.test(part),isPartStrNotTag=isPartStr&&!isTag;if(isTag){part=part.toLowerCase()}for(var i=0,l=checkSet.length,elem;i<l;i++){if((elem=checkSet[i])){while((elem=elem.previousSibling)&&elem.nodeType!==1){}checkSet[i]=isPartStrNotTag||elem&&elem.nodeName.toLowerCase()===part?elem||false:elem===part}}if(isPartStrNotTag){Sizzle.filter(part,checkSet,true)}},">":function(checkSet,part){var isPartStr=typeof part==="string";if(isPartStr&&!/\W/.test(part)){part=part.toLowerCase();for(var i=0,l=checkSet.length;i<l;i++){var elem=checkSet[i];if(elem){var parent=elem.parentNode;checkSet[i]=parent.nodeName.toLowerCase()===part?parent:false}}}else{for(var i=0,l=checkSet.length;i<l;i++){var elem=checkSet[i];if(elem){checkSet[i]=isPartStr?elem.parentNode:elem.parentNode===part}}if(isPartStr){Sizzle.filter(part,checkSet,true)}}},"":function(checkSet,part,isXML){var doneName=done++,checkFn=dirCheck;if(typeof part==="string"&&!/\W/.test(part)){var nodeCheck=part=part.toLowerCase();checkFn=dirNodeCheck}checkFn("parentNode",part,doneName,checkSet,nodeCheck,isXML)},"~":function(checkSet,part,isXML){var doneName=done++,checkFn=dirCheck;if(typeof part==="string"&&!/\W/.test(part)){var nodeCheck=part=part.toLowerCase();checkFn=dirNodeCheck}checkFn("previousSibling",part,doneName,checkSet,nodeCheck,isXML)}},find:{ID:function(match,context,isXML){if(typeof context.getElementById!=="undefined"&&!isXML){var m=context.getElementById(match[1]);return m?[m]:[]}},NAME:function(match,context){if(typeof context.getElementsByName!=="undefined"){var ret=[],results=context.getElementsByName(match[1]);for(var i=0,l=results.length;i<l;i++){if(results[i].getAttribute("name")===match[1]){ret.push(results[i])}}return ret.length===0?null:ret}},TAG:function(match,context){return context.getElementsByTagName(match[1])}},preFilter:{CLASS:function(match,curLoop,inplace,result,not,isXML){match=" "+match[1].replace(/\\/g,"")+" ";if(isXML){return match}for(var i=0,elem;(elem=curLoop[i])!=null;i++){if(elem){if(not^(elem.className&&(" "+elem.className+" ").replace(/[\t\n]/g," ").indexOf(match)>=0)){if(!inplace){result.push(elem)}}else{if(inplace){curLoop[i]=false}}}}return false},ID:function(match){return match[1].replace(/\\/g,"")},TAG:function(match,curLoop){return match[1].toLowerCase()},CHILD:function(match){if(match[1]==="nth"){var test=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(match[2]==="even"&&"2n"||match[2]==="odd"&&"2n+1"||!/\D/.test(match[2])&&"0n+"+match[2]||match[2]);match[2]=(test[1]+(test[2]||1))-0;match[3]=test[3]-0}match[0]=done++;return match},ATTR:function(match,curLoop,inplace,result,not,isXML){var name=match[1].replace(/\\/g,"");if(!isXML&&Expr.attrMap[name]){match[1]=Expr.attrMap[name]}if(match[2]==="~="){match[4]=" "+match[4]+" "}return match},PSEUDO:function(match,curLoop,inplace,result,not){if(match[1]==="not"){if((chunker.exec(match[3])||"").length>1||/^\w/.test(match[3])){match[3]=Sizzle(match[3],null,null,curLoop)}else{var ret=Sizzle.filter(match[3],curLoop,inplace,true^not);if(!inplace){result.push.apply(result,ret)}return false}}else{if(Expr.match.POS.test(match[0])||Expr.match.CHILD.test(match[0])){return true}}return match},POS:function(match){match.unshift(true);return match}},filters:{enabled:function(elem){return elem.disabled===false&&elem.type!=="hidden"},disabled:function(elem){return elem.disabled===true},checked:function(elem){return elem.checked===true},selected:function(elem){elem.parentNode.selectedIndex;return elem.selected===true},parent:function(elem){return !!elem.firstChild},empty:function(elem){return !elem.firstChild},has:function(elem,i,match){return !!Sizzle(match[3],elem).length},header:function(elem){return/h\d/i.test(elem.nodeName)},text:function(elem){return"text"===elem.type},radio:function(elem){return"radio"===elem.type},checkbox:function(elem){return"checkbox"===elem.type},file:function(elem){return"file"===elem.type},password:function(elem){return"password"===elem.type},submit:function(elem){return"submit"===elem.type},image:function(elem){return"image"===elem.type},reset:function(elem){return"reset"===elem.type},button:function(elem){return"button"===elem.type||elem.nodeName.toLowerCase()==="button"},input:function(elem){return/input|select|textarea|button/i.test(elem.nodeName)}},setFilters:{first:function(elem,i){return i===0},last:function(elem,i,match,array){return i===array.length-1},even:function(elem,i){return i%2===0},odd:function(elem,i){return i%2===1},lt:function(elem,i,match){return i<match[3]-0},gt:function(elem,i,match){return i>match[3]-0},nth:function(elem,i,match){return match[3]-0===i},eq:function(elem,i,match){return match[3]-0===i}},filter:{PSEUDO:function(elem,match,i,array){var name=match[1],filter=Expr.filters[name];if(filter){return filter(elem,i,match,array)}else{if(name==="contains"){return(elem.textContent||elem.innerText||getText([elem])||"").indexOf(match[3])>=0}else{if(name==="not"){var not=match[3];for(var i=0,l=not.length;i<l;i++){if(not[i]===elem){return false}}return true}else{Sizzle.error("Syntax error, unrecognized expression: "+name)}}}},CHILD:function(elem,match){var type=match[1],node=elem;switch(type){case"only":case"first":while((node=node.previousSibling)){if(node.nodeType===1){return false}}if(type==="first"){return true}node=elem;case"last":while((node=node.nextSibling)){if(node.nodeType===1){return false}}return true;case"nth":var first=match[2],last=match[3];if(first===1&&last===0){return true}var doneName=match[0],parent=elem.parentNode;if(parent&&(parent.sizcache!==doneName||!elem.nodeIndex)){var count=0;for(node=parent.firstChild;node;node=node.nextSibling){if(node.nodeType===1){node.nodeIndex=++count}}parent.sizcache=doneName}var diff=elem.nodeIndex-last;if(first===0){return diff===0}else{return(diff%first===0&&diff/first>=0)}}},ID:function(elem,match){return elem.nodeType===1&&elem.getAttribute("id")===match},TAG:function(elem,match){return(match==="*"&&elem.nodeType===1)||elem.nodeName.toLowerCase()===match},CLASS:function(elem,match){return(" "+(elem.className||elem.getAttribute("class"))+" ").indexOf(match)>-1},ATTR:function(elem,match){var name=match[1],result=Expr.attrHandle[name]?Expr.attrHandle[name](elem):elem[name]!=null?elem[name]:elem.getAttribute(name),value=result+"",type=match[2],check=match[4];return result==null?type==="!=":type==="="?value===check:type==="*="?value.indexOf(check)>=0:type==="~="?(" "+value+" ").indexOf(check)>=0:!check?value&&result!==false:type==="!="?value!==check:type==="^="?value.indexOf(check)===0:type==="$="?value.substr(value.length-check.length)===check:type==="|="?value===check||value.substr(0,check.length+1)===check+"-":false},POS:function(elem,match,i,array){var name=match[2],filter=Expr.setFilters[name];if(filter){return filter(elem,i,match,array)}}}};var origPOS=Expr.match.POS;for(var type in Expr.match){Expr.match[type]=new RegExp(Expr.match[type].source+/(?![^\[]*\])(?![^\(]*\))/.source);Expr.leftMatch[type]=new RegExp(/(^(?:.|\r|\n)*?)/.source+Expr.match[type].source.replace(/\\(\d+)/g,function(all,num){return"\\"+(num-0+1)}))}var makeArray=function(array,results){array=Array.prototype.slice.call(array,0);if(results){results.push.apply(results,array);return results}return array};try{Array.prototype.slice.call(document.documentElement.childNodes,0)[0].nodeType}catch(e){makeArray=function(array,results){var ret=results||[];if(toString.call(array)==="[object Array]"){Array.prototype.push.apply(ret,array)}else{if(typeof array.length==="number"){for(var i=0,l=array.length;i<l;i++){ret.push(array[i])}}else{for(var i=0;array[i];i++){ret.push(array[i])}}}return ret}}var sortOrder;if(document.documentElement.compareDocumentPosition){sortOrder=function(a,b){if(!a.compareDocumentPosition||!b.compareDocumentPosition){if(a==b){hasDuplicate=true}return a.compareDocumentPosition?-1:1}var ret=a.compareDocumentPosition(b)&4?-1:a===b?0:1;if(ret===0){hasDuplicate=true}return ret}}else{if("sourceIndex" in document.documentElement){sortOrder=function(a,b){if(!a.sourceIndex||!b.sourceIndex){if(a==b){hasDuplicate=true}return a.sourceIndex?-1:1}var ret=a.sourceIndex-b.sourceIndex;if(ret===0){hasDuplicate=true}return ret}}else{if(document.createRange){sortOrder=function(a,b){if(!a.ownerDocument||!b.ownerDocument){if(a==b){hasDuplicate=true}return a.ownerDocument?-1:1}var aRange=a.ownerDocument.createRange(),bRange=b.ownerDocument.createRange();aRange.setStart(a,0);aRange.setEnd(a,0);bRange.setStart(b,0);bRange.setEnd(b,0);var ret=aRange.compareBoundaryPoints(Range.START_TO_END,bRange);if(ret===0){hasDuplicate=true}return ret}}}}function getText(elems){var ret="",elem;for(var i=0;elems[i];i++){elem=elems[i];if(elem.nodeType===3||elem.nodeType===4){ret+=elem.nodeValue}else{if(elem.nodeType!==8){ret+=getText(elem.childNodes)}}}return ret}(function(){var form=document.createElement("div"),id="script"+(new Date).getTime();form.innerHTML="<a name='"+id+"'/>";var root=document.documentElement;root.insertBefore(form,root.firstChild);if(document.getElementById(id)){Expr.find.ID=function(match,context,isXML){if(typeof context.getElementById!=="undefined"&&!isXML){var m=context.getElementById(match[1]);return m?m.id===match[1]||typeof m.getAttributeNode!=="undefined"&&m.getAttributeNode("id").nodeValue===match[1]?[m]:undefined:[]}};Expr.filter.ID=function(elem,match){var node=typeof elem.getAttributeNode!=="undefined"&&elem.getAttributeNode("id");return elem.nodeType===1&&node&&node.nodeValue===match}}root.removeChild(form);root=form=null})();(function(){var div=document.createElement("div");div.appendChild(document.createComment(""));if(div.getElementsByTagName("*").length>0){Expr.find.TAG=function(match,context){var results=context.getElementsByTagName(match[1]);if(match[1]==="*"){var tmp=[];for(var i=0;results[i];i++){if(results[i].nodeType===1){tmp.push(results[i])}}results=tmp}return results}}div.innerHTML="<a href='#'></a>";if(div.firstChild&&typeof div.firstChild.getAttribute!=="undefined"&&div.firstChild.getAttribute("href")!=="#"){Expr.attrHandle.href=function(elem){return elem.getAttribute("href",2)}}div=null})();if(document.querySelectorAll){(function(){var oldSizzle=Sizzle,div=document.createElement("div");div.innerHTML="<p class='TEST'></p>";if(div.querySelectorAll&&div.querySelectorAll(".TEST").length===0){return}Sizzle=function(query,context,extra,seed){context=context||document;if(!seed&&context.nodeType===9&&!isXML(context)){try{return makeArray(context.querySelectorAll(query),extra)}catch(e){}}return oldSizzle(query,context,extra,seed)};for(var prop in oldSizzle){Sizzle[prop]=oldSizzle[prop]}div=null})()}(function(){var div=document.createElement("div");div.innerHTML="<div class='test e'></div><div class='test'></div>";if(!div.getElementsByClassName||div.getElementsByClassName("e").length===0){return}div.lastChild.className="e";if(div.getElementsByClassName("e").length===1){return}Expr.order.splice(1,0,"CLASS");Expr.find.CLASS=function(match,context,isXML){if(typeof context.getElementsByClassName!=="undefined"&&!isXML){return context.getElementsByClassName(match[1])}};div=null})();function dirNodeCheck(dir,cur,doneName,checkSet,nodeCheck,isXML){for(var i=0,l=checkSet.length;i<l;i++){var elem=checkSet[i];if(elem){elem=elem[dir];var match=false;while(elem){if(elem.sizcache===doneName){match=checkSet[elem.sizset];break}if(elem.nodeType===1&&!isXML){elem.sizcache=doneName;elem.sizset=i}if(elem.nodeName.toLowerCase()===cur){match=elem;break}elem=elem[dir]}checkSet[i]=match}}}function dirCheck(dir,cur,doneName,checkSet,nodeCheck,isXML){for(var i=0,l=checkSet.length;i<l;i++){var elem=checkSet[i];if(elem){elem=elem[dir];var match=false;while(elem){if(elem.sizcache===doneName){match=checkSet[elem.sizset];break}if(elem.nodeType===1){if(!isXML){elem.sizcache=doneName;elem.sizset=i}if(typeof cur!=="string"){if(elem===cur){match=true;break}}else{if(Sizzle.filter(cur,[elem]).length>0){match=elem;break}}}elem=elem[dir]}checkSet[i]=match}}}var contains=document.compareDocumentPosition?function(a,b){return !!(a.compareDocumentPosition(b)&16)}:function(a,b){return a!==b&&(a.contains?a.contains(b):true)};var isXML=function(elem){var documentElement=(elem?elem.ownerDocument||elem:0).documentElement;return documentElement?documentElement.nodeName!=="HTML":false};var posProcess=function(selector,context){var tmpSet=[],later="",match,root=context.nodeType?[context]:context;while((match=Expr.match.PSEUDO.exec(selector))){later+=match[0];selector=selector.replace(Expr.match.PSEUDO,"")}selector=Expr.relative[selector]?selector+"*":selector;for(var i=0,l=root.length;i<l;i++){Sizzle(selector,root[i],tmpSet)}return Sizzle.filter(later,tmpSet)};jQuery.find=Sizzle;jQuery.expr=Sizzle.selectors;jQuery.expr[":"]=jQuery.expr.filters;jQuery.unique=Sizzle.uniqueSort;jQuery.text=getText;jQuery.isXMLDoc=isXML;jQuery.contains=contains;return;window.Sizzle=Sizzle})();var runtil=/Until$/,rparentsprev=/^(?:parents|prevUntil|prevAll)/,rmultiselector=/,/,slice=Array.prototype.slice;var winnow=function(elements,qualifier,keep){if(jQuery.isFunction(qualifier)){return jQuery.grep(elements,function(elem,i){return !!qualifier.call(elem,i,elem)===keep})}else{if(qualifier.nodeType){return jQuery.grep(elements,function(elem,i){return(elem===qualifier)===keep})}else{if(typeof qualifier==="string"){var filtered=jQuery.grep(elements,function(elem){return elem.nodeType===1});if(isSimple.test(qualifier)){return jQuery.filter(qualifier,filtered,!keep)}else{qualifier=jQuery.filter(qualifier,filtered)}}}}return jQuery.grep(elements,function(elem,i){return(jQuery.inArray(elem,qualifier)>=0)===keep})};jQuery.fn.extend({find:function(selector){var ret=this.pushStack("","find",selector),length=0;for(var i=0,l=this.length;i<l;i++){length=ret.length;jQuery.find(selector,this[i],ret);if(i>0){for(var n=length;n<ret.length;n++){for(var r=0;r<length;r++){if(ret[r]===ret[n]){ret.splice(n--,1);break}}}}}return ret},has:function(target){var targets=jQuery(target);return this.filter(function(){for(var i=0,l=targets.length;i<l;i++){if(jQuery.contains(this,targets[i])){return true}}})},not:function(selector){return this.pushStack(winnow(this,selector,false),"not",selector)},filter:function(selector){return this.pushStack(winnow(this,selector,true),"filter",selector)},is:function(selector){return !!selector&&jQuery.filter(selector,this).length>0},closest:function(selectors,context){if(jQuery.isArray(selectors)){var ret=[],cur=this[0],match,matches={},selector;if(cur&&selectors.length){for(var i=0,l=selectors.length;i<l;i++){selector=selectors[i];if(!matches[selector]){matches[selector]=jQuery.expr.match.POS.test(selector)?jQuery(selector,context||this.context):selector}}while(cur&&cur.ownerDocument&&cur!==context){for(selector in matches){match=matches[selector];if(match.jquery?match.index(cur)>-1:jQuery(cur).is(match)){ret.push({selector:selector,elem:cur});delete matches[selector]}}cur=cur.parentNode}}return ret}var pos=jQuery.expr.match.POS.test(selectors)?jQuery(selectors,context||this.context):null;return this.map(function(i,cur){while(cur&&cur.ownerDocument&&cur!==context){if(pos?pos.index(cur)>-1:jQuery(cur).is(selectors)){return cur}cur=cur.parentNode}return null})},index:function(elem){if(!elem||typeof elem==="string"){return jQuery.inArray(this[0],elem?jQuery(elem):this.parent().children())}return jQuery.inArray(elem.jquery?elem[0]:elem,this)},add:function(selector,context){var set=typeof selector==="string"?jQuery(selector,context||this.context):jQuery.makeArray(selector),all=jQuery.merge(this.get(),set);return this.pushStack(isDisconnected(set[0])||isDisconnected(all[0])?all:jQuery.unique(all))},andSelf:function(){return this.add(this.prevObject)}});function isDisconnected(node){return !node||!node.parentNode||node.parentNode.nodeType===11}jQuery.each({parent:function(elem){var parent=elem.parentNode;return parent&&parent.nodeType!==11?parent:null},parents:function(elem){return jQuery.dir(elem,"parentNode")},parentsUntil:function(elem,i,until){return jQuery.dir(elem,"parentNode",until)},next:function(elem){return jQuery.nth(elem,2,"nextSibling")},prev:function(elem){return jQuery.nth(elem,2,"previousSibling")},nextAll:function(elem){return jQuery.dir(elem,"nextSibling")},prevAll:function(elem){return jQuery.dir(elem,"previousSibling")},nextUntil:function(elem,i,until){return jQuery.dir(elem,"nextSibling",until)},prevUntil:function(elem,i,until){return jQuery.dir(elem,"previousSibling",until)},siblings:function(elem){return jQuery.sibling(elem.parentNode.firstChild,elem)},children:function(elem){return jQuery.sibling(elem.firstChild)},contents:function(elem){return jQuery.nodeName(elem,"iframe")?elem.contentDocument||elem.contentWindow.document:jQuery.makeArray(elem.childNodes)}},function(name,fn){jQuery.fn[name]=function(until,selector){var ret=jQuery.map(this,fn,until);if(!runtil.test(name)){selector=until}if(selector&&typeof selector==="string"){ret=jQuery.filter(selector,ret)}ret=this.length>1?jQuery.unique(ret):ret;if((this.length>1||rmultiselector.test(selector))&&rparentsprev.test(name)){ret=ret.reverse()}return this.pushStack(ret,name,slice.call(arguments).join(","))}});jQuery.extend({filter:function(expr,elems,not){if(not){expr=":not("+expr+")"}return jQuery.find.matches(expr,elems)},dir:function(elem,dir,until){var matched=[],cur=elem[dir];while(cur&&cur.nodeType!==9&&(until===undefined||cur.nodeType!==1||!jQuery(cur).is(until))){if(cur.nodeType===1){matched.push(cur)}cur=cur[dir]}return matched},nth:function(cur,result,dir,elem){result=result||1;var num=0;for(;cur;cur=cur[dir]){if(cur.nodeType===1&&++num===result){break}}return cur},sibling:function(n,elem){var r=[];for(;n;n=n.nextSibling){if(n.nodeType===1&&n!==elem){r.push(n)}}return r}});var rinlinejQuery=/ jQuery\d+="(?:\d+|null)"/g,rleadingWhitespace=/^\s+/,rxhtmlTag=/(<([\w:]+)[^>]*?)\/>/g,rselfClosing=/^(?:area|br|col|embed|hr|img|input|link|meta|param)$/i,rtagName=/<([\w:]+)/,rtbody=/<tbody/i,rhtml=/<|&#?\w+;/,rnocache=/<script|<object|<embed|<option|<style/i,rchecked=/checked\s*(?:[^=]|=\s*.checked.)/i,fcloseTag=function(all,front,tag){return rselfClosing.test(tag)?all:front+"></"+tag+">"},wrapMap={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};wrapMap.optgroup=wrapMap.option;wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead;wrapMap.th=wrapMap.td;if(!jQuery.support.htmlSerialize){wrapMap._default=[1,"div<div>","</div>"]}jQuery.fn.extend({text:function(text){if(jQuery.isFunction(text)){return this.each(function(i){var self=jQuery(this);self.text(text.call(this,i,self.text()))})}if(typeof text!=="object"&&text!==undefined){return this.empty().append((this[0]&&this[0].ownerDocument||document).createTextNode(text))}return jQuery.text(this)},wrapAll:function(html){if(jQuery.isFunction(html)){return this.each(function(i){jQuery(this).wrapAll(html.call(this,i))})}if(this[0]){var wrap=jQuery(html,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){wrap.insertBefore(this[0])}wrap.map(function(){var elem=this;while(elem.firstChild&&elem.firstChild.nodeType===1){elem=elem.firstChild}return elem}).append(this)}return this},wrapInner:function(html){if(jQuery.isFunction(html)){return this.each(function(i){jQuery(this).wrapInner(html.call(this,i))})}return this.each(function(){var self=jQuery(this),contents=self.contents();if(contents.length){contents.wrapAll(html)}else{self.append(html)}})},wrap:function(html){return this.each(function(){jQuery(this).wrapAll(html)})},unwrap:function(){return this.parent().each(function(){if(!jQuery.nodeName(this,"body")){jQuery(this).replaceWith(this.childNodes)}}).end()},append:function(){return this.domManip(arguments,true,function(elem){if(this.nodeType===1){this.appendChild(elem)}})},prepend:function(){return this.domManip(arguments,true,function(elem){if(this.nodeType===1){this.insertBefore(elem,this.firstChild)}})},before:function(){if(this[0]&&this[0].parentNode){return this.domManip(arguments,false,function(elem){this.parentNode.insertBefore(elem,this)})}else{if(arguments.length){var set=jQuery(arguments[0]);set.push.apply(set,this.toArray());return this.pushStack(set,"before",arguments)}}},after:function(){if(this[0]&&this[0].parentNode){return this.domManip(arguments,false,function(elem){this.parentNode.insertBefore(elem,this.nextSibling)})}else{if(arguments.length){var set=this.pushStack(this,"after",arguments);set.push.apply(set,jQuery(arguments[0]).toArray());return set}}},remove:function(selector,keepData){for(var i=0,elem;(elem=this[i])!=null;i++){if(!selector||jQuery.filter(selector,[elem]).length){if(!keepData&&elem.nodeType===1){jQuery.cleanData(elem.getElementsByTagName("*"));jQuery.cleanData([elem])}if(elem.parentNode){elem.parentNode.removeChild(elem)}}}return this},empty:function(){for(var i=0,elem;(elem=this[i])!=null;i++){if(elem.nodeType===1){jQuery.cleanData(elem.getElementsByTagName("*"))}while(elem.firstChild){elem.removeChild(elem.firstChild)}}return this},clone:function(events){var ret=this.map(function(){if(!jQuery.support.noCloneEvent&&!jQuery.isXMLDoc(this)){var html=this.outerHTML,ownerDocument=this.ownerDocument;if(!html){var div=ownerDocument.createElement("div");div.appendChild(this.cloneNode(true));html=div.innerHTML}return jQuery.clean([html.replace(rinlinejQuery,"").replace(/=([^="'>\s]+\/)>/g,'="$1">').replace(rleadingWhitespace,"")],ownerDocument)[0]}else{return this.cloneNode(true)}});if(events===true){cloneCopyEvent(this,ret);cloneCopyEvent(this.find("*"),ret.find("*"))}return ret},html:function(value){if(value===undefined){return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(rinlinejQuery,""):null}else{if(typeof value==="string"&&!rnocache.test(value)&&(jQuery.support.leadingWhitespace||!rleadingWhitespace.test(value))&&!wrapMap[(rtagName.exec(value)||["",""])[1].toLowerCase()]){value=value.replace(rxhtmlTag,fcloseTag);try{for(var i=0,l=this.length;i<l;i++){if(this[i].nodeType===1){jQuery.cleanData(this[i].getElementsByTagName("*"));this[i].innerHTML=value}}}catch(e){this.empty().append(value)}}else{if(jQuery.isFunction(value)){this.each(function(i){var self=jQuery(this),old=self.html();self.empty().append(function(){return value.call(this,i,old)})})}else{this.empty().append(value)}}}return this},replaceWith:function(value){if(this[0]&&this[0].parentNode){if(jQuery.isFunction(value)){return this.each(function(i){var self=jQuery(this),old=self.html();self.replaceWith(value.call(this,i,old))})}if(typeof value!=="string"){value=jQuery(value).detach()}return this.each(function(){var next=this.nextSibling,parent=this.parentNode;jQuery(this).remove();if(next){jQuery(next).before(value)}else{jQuery(parent).append(value)}})}else{return this.pushStack(jQuery(jQuery.isFunction(value)?value():value),"replaceWith",value)}},detach:function(selector){return this.remove(selector,true)},domManip:function(args,table,callback){var results,first,value=args[0],scripts=[],fragment,parent;if(!jQuery.support.checkClone&&arguments.length===3&&typeof value==="string"&&rchecked.test(value)){return this.each(function(){jQuery(this).domManip(args,table,callback,true)})}if(jQuery.isFunction(value)){return this.each(function(i){var self=jQuery(this);args[0]=value.call(this,i,table?self.html():undefined);self.domManip(args,table,callback)})}if(this[0]){parent=value&&value.parentNode;if(jQuery.support.parentNode&&parent&&parent.nodeType===11&&parent.childNodes.length===this.length){results={fragment:parent}}else{results=buildFragment(args,this,scripts)}fragment=results.fragment;if(fragment.childNodes.length===1){first=fragment=fragment.firstChild}else{first=fragment.firstChild}if(first){table=table&&jQuery.nodeName(first,"tr");for(var i=0,l=this.length;i<l;i++){callback.call(table?root(this[i],first):this[i],i>0||results.cacheable||this.length>1?fragment.cloneNode(true):fragment)}}if(scripts.length){jQuery.each(scripts,evalScript)}}return this;function root(elem,cur){return jQuery.nodeName(elem,"table")?(elem.getElementsByTagName("tbody")[0]||elem.appendChild(elem.ownerDocument.createElement("tbody"))):elem}}});function cloneCopyEvent(orig,ret){var i=0;ret.each(function(){if(this.nodeName!==(orig[i]&&orig[i].nodeName)){return}var oldData=jQuery.data(orig[i++]),curData=jQuery.data(this,oldData),events=oldData&&oldData.events;if(events){delete curData.handle;curData.events={};for(var type in events){for(var handler in events[type]){jQuery.event.add(this,type,events[type][handler],events[type][handler].data)}}}})}function buildFragment(args,nodes,scripts){var fragment,cacheable,cacheresults,doc=(nodes&&nodes[0]?nodes[0].ownerDocument||nodes[0]:document);if(args.length===1&&typeof args[0]==="string"&&args[0].length<512&&doc===document&&!rnocache.test(args[0])&&(jQuery.support.checkClone||!rchecked.test(args[0]))){cacheable=true;cacheresults=jQuery.fragments[args[0]];if(cacheresults){if(cacheresults!==1){fragment=cacheresults}}}if(!fragment){fragment=doc.createDocumentFragment();jQuery.clean(args,doc,fragment,scripts)}if(cacheable){jQuery.fragments[args[0]]=cacheresults?fragment:1}return{fragment:fragment,cacheable:cacheable}}jQuery.fragments={};jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(name,original){jQuery.fn[name]=function(selector){var ret=[],insert=jQuery(selector),parent=this.length===1&&this[0].parentNode;if(parent&&parent.nodeType===11&&parent.childNodes.length===1&&insert.length===1){insert[original](this[0]);return this}else{for(var i=0,l=insert.length;i<l;i++){var elems=(i>0?this.clone(true):this).get();jQuery.fn[original].apply(jQuery(insert[i]),elems);ret=ret.concat(elems)}return this.pushStack(ret,name,insert.selector)}}});jQuery.extend({clean:function(elems,context,fragment,scripts){context=context||document;if(typeof context.createElement==="undefined"){context=context.ownerDocument||context[0]&&context[0].ownerDocument||document}var ret=[];for(var i=0,elem;(elem=elems[i])!=null;i++){if(typeof elem==="number"){elem+=""}if(!elem){continue}if(typeof elem==="string"&&!rhtml.test(elem)){elem=context.createTextNode(elem)}else{if(typeof elem==="string"){elem=elem.replace(rxhtmlTag,fcloseTag);var tag=(rtagName.exec(elem)||["",""])[1].toLowerCase(),wrap=wrapMap[tag]||wrapMap._default,depth=wrap[0],div=context.createElement("div");div.innerHTML=wrap[1]+elem+wrap[2];while(depth--){div=div.lastChild}if(!jQuery.support.tbody){var hasBody=rtbody.test(elem),tbody=tag==="table"&&!hasBody?div.firstChild&&div.firstChild.childNodes:wrap[1]==="<table>"&&!hasBody?div.childNodes:[];for(var j=tbody.length-1;j>=0;--j){if(jQuery.nodeName(tbody[j],"tbody")&&!tbody[j].childNodes.length){tbody[j].parentNode.removeChild(tbody[j])}}}if(!jQuery.support.leadingWhitespace&&rleadingWhitespace.test(elem)){div.insertBefore(context.createTextNode(rleadingWhitespace.exec(elem)[0]),div.firstChild)}elem=div.childNodes}}if(elem.nodeType){ret.push(elem)}else{ret=jQuery.merge(ret,elem)}}if(fragment){for(var i=0;ret[i];i++){if(scripts&&jQuery.nodeName(ret[i],"script")&&(!ret[i].type||ret[i].type.toLowerCase()==="text/javascript")){scripts.push(ret[i].parentNode?ret[i].parentNode.removeChild(ret[i]):ret[i])}else{if(ret[i].nodeType===1){ret.splice.apply(ret,[i+1,0].concat(jQuery.makeArray(ret[i].getElementsByTagName("script"))))}fragment.appendChild(ret[i])}}}return ret},cleanData:function(elems){var data,id,cache=jQuery.cache,special=jQuery.event.special,deleteExpando=jQuery.support.deleteExpando;for(var i=0,elem;(elem=elems[i])!=null;i++){id=elem[jQuery.expando];if(id){data=cache[id];if(data.events){for(var type in data.events){if(special[type]){jQuery.event.remove(elem,type)}else{removeEvent(elem,type,data.handle)}}}if(deleteExpando){delete elem[jQuery.expando]}else{if(elem.removeAttribute){elem.removeAttribute(jQuery.expando)}}delete cache[id]}}}});var rexclude=/z-?index|font-?weight|opacity|zoom|line-?height/i,ralpha=/alpha\([^)]*\)/,ropacity=/opacity=([^)]*)/,rfloat=/float/i,rdashAlpha=/-([a-z])/ig,rupper=/([A-Z])/g,rnumpx=/^-?\d+(?:px)?$/i,rnum=/^-?\d/,cssShow={position:"absolute",visibility:"hidden",display:"block"},cssWidth=["Left","Right"],cssHeight=["Top","Bottom"],getComputedStyle=document.defaultView&&document.defaultView.getComputedStyle,styleFloat=jQuery.support.cssFloat?"cssFloat":"styleFloat",fcamelCase=function(all,letter){return letter.toUpperCase()};jQuery.fn.css=function(name,value){return access(this,name,value,true,function(elem,name,value){if(value===undefined){return jQuery.curCSS(elem,name)}if(typeof value==="number"&&!rexclude.test(name)){value+="px"}jQuery.style(elem,name,value)})};jQuery.extend({style:function(elem,name,value){if(!elem||elem.nodeType===3||elem.nodeType===8){return undefined}if((name==="width"||name==="height")&&parseFloat(value)<0){value=undefined}var style=elem.style||elem,set=value!==undefined;if(!jQuery.support.opacity&&name==="opacity"){if(set){style.zoom=1;var opacity=parseInt(value,10)+""==="NaN"?"":"alpha(opacity="+value*100+")";var filter=style.filter||jQuery.curCSS(elem,"filter")||"";style.filter=ralpha.test(filter)?filter.replace(ralpha,opacity):opacity}return style.filter&&style.filter.indexOf("opacity=")>=0?(parseFloat(ropacity.exec(style.filter)[1])/100)+"":""}if(rfloat.test(name)){name=styleFloat}name=name.replace(rdashAlpha,fcamelCase);if(set){style[name]=value}return style[name]},css:function(elem,name,force,extra){if(name==="width"||name==="height"){var val,props=cssShow,which=name==="width"?cssWidth:cssHeight;function getWH(){val=name==="width"?elem.offsetWidth:elem.offsetHeight;if(extra==="border"){return}jQuery.each(which,function(){if(!extra){val-=parseFloat(jQuery.curCSS(elem,"padding"+this,true))||0}if(extra==="margin"){val+=parseFloat(jQuery.curCSS(elem,"margin"+this,true))||0}else{val-=parseFloat(jQuery.curCSS(elem,"border"+this+"Width",true))||0}})}if(elem.offsetWidth!==0){getWH()}else{jQuery.swap(elem,props,getWH)}return Math.max(0,Math.round(val))}return jQuery.curCSS(elem,name,force)},curCSS:function(elem,name,force){var ret,style=elem.style,filter;if(!jQuery.support.opacity&&name==="opacity"&&elem.currentStyle){ret=ropacity.test(elem.currentStyle.filter||"")?(parseFloat(RegExp.$1)/100)+"":"";return ret===""?"1":ret}if(rfloat.test(name)){name=styleFloat}if(!force&&style&&style[name]){ret=style[name]}else{if(getComputedStyle){if(rfloat.test(name)){name="float"}name=name.replace(rupper,"-$1").toLowerCase();var defaultView=elem.ownerDocument.defaultView;if(!defaultView){return null}var computedStyle=defaultView.getComputedStyle(elem,null);if(computedStyle){ret=computedStyle.getPropertyValue(name)}if(name==="opacity"&&ret===""){ret="1"}}else{if(elem.currentStyle){var camelCase=name.replace(rdashAlpha,fcamelCase);ret=elem.currentStyle[name]||elem.currentStyle[camelCase];if(!rnumpx.test(ret)&&rnum.test(ret)){var left=style.left,rsLeft=elem.runtimeStyle.left;elem.runtimeStyle.left=elem.currentStyle.left;style.left=camelCase==="fontSize"?"1em":(ret||0);ret=style.pixelLeft+"px";style.left=left;elem.runtimeStyle.left=rsLeft}}}}return ret},swap:function(elem,options,callback){var old={};for(var name in options){old[name]=elem.style[name];elem.style[name]=options[name]}callback.call(elem);for(var name in options){elem.style[name]=old[name]}}});if(jQuery.expr&&jQuery.expr.filters){jQuery.expr.filters.hidden=function(elem){var width=elem.offsetWidth,height=elem.offsetHeight,skip=elem.nodeName.toLowerCase()==="tr";return width===0&&height===0&&!skip?true:width>0&&height>0&&!skip?false:jQuery.curCSS(elem,"display")==="none"};jQuery.expr.filters.visible=function(elem){return !jQuery.expr.filters.hidden(elem)}}var jsc=now(),rscript=/<script(.|\s)*?\/script>/gi,rselectTextarea=/select|textarea/i,rinput=/color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week/i,jsre=/=\?(&|$)/,rquery=/\?/,rts=/(\?|&)_=.*?(&|$)/,rurl=/^(\w+:)?\/\/([^\/?#]+)/,r20=/%20/g,_load=jQuery.fn.load;jQuery.fn.extend({load:function(url,params,callback){if(typeof url!=="string"){return _load.call(this,url)}else{if(!this.length){return this}}var off=url.indexOf(" ");if(off>=0){var selector=url.slice(off,url.length);url=url.slice(0,off)}var type="GET";if(params){if(jQuery.isFunction(params)){callback=params;params=null}else{if(typeof params==="object"){params=jQuery.param(params,jQuery.ajaxSettings.traditional);type="POST"}}}var self=this;jQuery.ajax({url:url,type:type,dataType:"html",data:params,complete:function(res,status){if(status==="success"||status==="notmodified"){self.html(selector?jQuery("<div />").append(res.responseText.replace(rscript,"")).find(selector):res.responseText)}if(callback){self.each(callback,[res.responseText,status,res])}}});return this},serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?jQuery.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||rselectTextarea.test(this.nodeName)||rinput.test(this.type))}).map(function(i,elem){var val=jQuery(this).val();return val==null?null:jQuery.isArray(val)?jQuery.map(val,function(val,i){return{name:elem.name,value:val}}):{name:elem.name,value:val}}).get()}});jQuery.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(i,o){jQuery.fn[o]=function(f){return this.bind(o,f)}});jQuery.extend({get:function(url,data,callback,type){if(jQuery.isFunction(data)){type=type||callback;callback=data;data=null}return jQuery.ajax({type:"GET",url:url,data:data,success:callback,dataType:type})},getScript:function(url,callback){return jQuery.get(url,null,callback,"script")},getJSON:function(url,data,callback){return jQuery.get(url,data,callback,"json")},post:function(url,data,callback,type){if(jQuery.isFunction(data)){type=type||callback;callback=data;data={}}return jQuery.ajax({type:"POST",url:url,data:data,success:callback,dataType:type})},ajaxSetup:function(settings){jQuery.extend(jQuery.ajaxSettings,settings)},ajaxSettings:{url:location.href,global:true,type:"GET",contentType:"application/x-www-form-urlencoded",processData:true,async:true,xhr:window.XMLHttpRequest&&(window.location.protocol!=="file:"||!window.ActiveXObject)?function(){return new window.XMLHttpRequest()}:function(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}},accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"}},lastModified:{},etag:{},ajax:function(origSettings){var s=jQuery.extend(true,{},jQuery.ajaxSettings,origSettings);var jsonp,status,data,callbackContext=origSettings&&origSettings.context||s,type=s.type.toUpperCase();if(s.data&&s.processData&&typeof s.data!=="string"){s.data=jQuery.param(s.data,s.traditional)}if(s.dataType==="jsonp"){if(type==="GET"){if(!jsre.test(s.url)){s.url+=(rquery.test(s.url)?"&":"?")+(s.jsonp||"callback")+"=?"}}else{if(!s.data||!jsre.test(s.data)){s.data=(s.data?s.data+"&":"")+(s.jsonp||"callback")+"=?"}}s.dataType="json"}if(s.dataType==="json"&&(s.data&&jsre.test(s.data)||jsre.test(s.url))){jsonp=s.jsonpCallback||("jsonp"+jsc++);if(s.data){s.data=(s.data+"").replace(jsre,"="+jsonp+"$1")}s.url=s.url.replace(jsre,"="+jsonp+"$1");s.dataType="script";window[jsonp]=window[jsonp]||function(tmp){data=tmp;success();complete();window[jsonp]=undefined;try{delete window[jsonp]}catch(e){}if(head){head.removeChild(script)}}}if(s.dataType==="script"&&s.cache===null){s.cache=false}if(s.cache===false&&type==="GET"){var ts=now();var ret=s.url.replace(rts,"$1_="+ts+"$2");s.url=ret+((ret===s.url)?(rquery.test(s.url)?"&":"?")+"_="+ts:"")}if(s.data&&type==="GET"){s.url+=(rquery.test(s.url)?"&":"?")+s.data}if(s.global&&!jQuery.active++){jQuery.event.trigger("ajaxStart")}var parts=rurl.exec(s.url),remote=parts&&(parts[1]&&parts[1]!==location.protocol||parts[2]!==location.host);if(s.dataType==="script"&&type==="GET"&&remote){var head=document.head||document.getElementsByTagName("head")[0]||document.documentElement;var script=document.createElement("script");script.src=s.url;if(s.scriptCharset){script.charset=s.scriptCharset}if(!jsonp){var done=false;script.onload=script.onreadystatechange=function(){if(!done&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){done=true;success();complete();script.onload=script.onreadystatechange=null;if(head&&script.parentNode){head.removeChild(script)}}}}head.insertBefore(script,head.firstChild);return undefined}var requestDone=false;var xhr=s.xhr();if(!xhr){return}if(s.username){xhr.open(type,s.url,s.async,s.username,s.password)}else{xhr.open(type,s.url,s.async)}try{if(s.data||origSettings&&origSettings.contentType){xhr.setRequestHeader("Content-Type",s.contentType)}if(s.ifModified){if(jQuery.lastModified[s.url]){xhr.setRequestHeader("If-Modified-Since",jQuery.lastModified[s.url])}if(jQuery.etag[s.url]){xhr.setRequestHeader("If-None-Match",jQuery.etag[s.url])}}if(!remote){xhr.setRequestHeader("X-Requested-With","XMLHttpRequest")}xhr.setRequestHeader("Accept",s.dataType&&s.accepts[s.dataType]?s.accepts[s.dataType]+", */*":s.accepts._default)}catch(e){}if(s.beforeSend&&s.beforeSend.call(callbackContext,xhr,s)===false){if(s.global&&!--jQuery.active){jQuery.event.trigger("ajaxStop")}xhr.abort();return false}if(s.global){trigger("ajaxSend",[xhr,s])}var onreadystatechange=xhr.onreadystatechange=function(isTimeout){if(!xhr||xhr.readyState===0||isTimeout==="abort"){if(!requestDone){complete()}requestDone=true;if(xhr){xhr.onreadystatechange=jQuery.noop}}else{if(!requestDone&&xhr&&(xhr.readyState===4||isTimeout==="timeout")){requestDone=true;xhr.onreadystatechange=jQuery.noop;status=isTimeout==="timeout"?"timeout":!jQuery.httpSuccess(xhr)?"error":s.ifModified&&jQuery.httpNotModified(xhr,s.url)?"notmodified":"success";var errMsg;if(status==="success"){try{data=jQuery.httpData(xhr,s.dataType,s)}catch(err){status="parsererror";errMsg=err}}if(status==="success"||status==="notmodified"){if(!jsonp){success()}}else{jQuery.handleError(s,xhr,status,errMsg)}complete();if(isTimeout==="timeout"){xhr.abort()}if(s.async){xhr=null}}}};try{var oldAbort=xhr.abort;xhr.abort=function(){if(xhr){oldAbort.call(xhr)}onreadystatechange("abort")}}catch(e){}if(s.async&&s.timeout>0){setTimeout(function(){if(xhr&&!requestDone){onreadystatechange("timeout")}},s.timeout)}try{xhr.send(type==="POST"||type==="PUT"||type==="DELETE"?s.data:null)}catch(e){jQuery.handleError(s,xhr,null,e);complete()}if(!s.async){onreadystatechange()}function success(){if(s.success){s.success.call(callbackContext,data,status,xhr)}if(s.global){trigger("ajaxSuccess",[xhr,s])}}function complete(){if(s.complete){s.complete.call(callbackContext,xhr,status)}if(s.global){trigger("ajaxComplete",[xhr,s])}if(s.global&&!--jQuery.active){jQuery.event.trigger("ajaxStop")}}function trigger(type,args){(s.context?jQuery(s.context):jQuery.event).trigger(type,args)}return xhr},handleError:function(s,xhr,status,e){if(s.error){s.error.call(s.context||s,xhr,status,e)}if(s.global){(s.context?jQuery(s.context):jQuery.event).trigger("ajaxError",[xhr,s,e])}},active:0,httpSuccess:function(xhr){try{return !xhr.status&&location.protocol==="file:"||(xhr.status>=200&&xhr.status<300)||xhr.status===304||xhr.status===1223||xhr.status===0}catch(e){}return false},httpNotModified:function(xhr,url){var lastModified=xhr.getResponseHeader("Last-Modified"),etag=xhr.getResponseHeader("Etag");if(lastModified){jQuery.lastModified[url]=lastModified}if(etag){jQuery.etag[url]=etag}return xhr.status===304||xhr.status===0},httpData:function(xhr,type,s){var ct=xhr.getResponseHeader("content-type")||"",xml=type==="xml"||!type&&ct.indexOf("xml")>=0,data=xml?xhr.responseXML:xhr.responseText;if(xml&&data.documentElement.nodeName==="parsererror"){jQuery.error("parsererror")}if(s&&s.dataFilter){data=s.dataFilter(data,type)}if(typeof data==="string"){if(type==="json"||!type&&ct.indexOf("json")>=0){data=jQuery.parseJSON(data)}else{if(type==="script"||!type&&ct.indexOf("javascript")>=0){jQuery.globalEval(data)}}}return data},param:function(a,traditional){var s=[];if(traditional===undefined){traditional=jQuery.ajaxSettings.traditional}if(jQuery.isArray(a)||a.jquery){jQuery.each(a,function(){add(this.name,this.value)})}else{for(var prefix in a){buildParams(prefix,a[prefix])}}return s.join("&").replace(r20,"+");function buildParams(prefix,obj){if(jQuery.isArray(obj)){jQuery.each(obj,function(i,v){if(traditional||/\[\]$/.test(prefix)){add(prefix,v)}else{buildParams(prefix+"["+(typeof v==="object"||jQuery.isArray(v)?i:"")+"]",v)}})}else{if(!traditional&&obj!=null&&typeof obj==="object"){jQuery.each(obj,function(k,v){buildParams(prefix+"["+k+"]",v)})}else{add(prefix,obj)}}}function add(key,value){value=jQuery.isFunction(value)?value():value;s[s.length]=encodeURIComponent(key)+"="+encodeURIComponent(value)}}});var elemdisplay={},rfxtypes=/toggle|show|hide/,rfxnum=/^([+-]=)?([\d+-.]+)(.*)$/,timerId,fxAttrs=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];jQuery.fn.extend({show:function(speed,callback){if(speed||speed===0){return this.animate(genFx("show",3),speed,callback)}else{for(var i=0,l=this.length;i<l;i++){var old=jQuery.data(this[i],"olddisplay");this[i].style.display=old||"";if(jQuery.css(this[i],"display")==="none"){var nodeName=this[i].nodeName,display;if(elemdisplay[nodeName]){display=elemdisplay[nodeName]}else{var elem=jQuery("<"+nodeName+" />").appendTo("body");display=elem.css("display");if(display==="none"){display="block"}elem.remove();elemdisplay[nodeName]=display}jQuery.data(this[i],"olddisplay",display)}}for(var j=0,k=this.length;j<k;j++){this[j].style.display=jQuery.data(this[j],"olddisplay")||""}return this}},hide:function(speed,callback){if(speed||speed===0){return this.animate(genFx("hide",3),speed,callback)}else{for(var i=0,l=this.length;i<l;i++){var old=jQuery.data(this[i],"olddisplay");if(!old&&old!=="none"){jQuery.data(this[i],"olddisplay",jQuery.css(this[i],"display"))}}for(var j=0,k=this.length;j<k;j++){this[j].style.display="none"}return this}},_toggle:jQuery.fn.toggle,toggle:function(fn,fn2){var bool=typeof fn==="boolean";if(jQuery.isFunction(fn)&&jQuery.isFunction(fn2)){this._toggle.apply(this,arguments)}else{if(fn==null||bool){this.each(function(){var state=bool?fn:jQuery(this).is(":hidden");jQuery(this)[state?"show":"hide"]()})}else{this.animate(genFx("toggle",3),fn,fn2)}}return this},fadeTo:function(speed,to,callback){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:to},speed,callback)},animate:function(prop,speed,easing,callback){var optall=jQuery.speed(speed,easing,callback);if(jQuery.isEmptyObject(prop)){return this.each(optall.complete)}return this[optall.queue===false?"each":"queue"](function(){var opt=jQuery.extend({},optall),p,hidden=this.nodeType===1&&jQuery(this).is(":hidden"),self=this;for(p in prop){var name=p.replace(rdashAlpha,fcamelCase);if(p!==name){prop[name]=prop[p];delete prop[p];p=name}if(prop[p]==="hide"&&hidden||prop[p]==="show"&&!hidden){return opt.complete.call(this)}if((p==="height"||p==="width")&&this.style){opt.display=jQuery.css(this,"display");opt.overflow=this.style.overflow}if(jQuery.isArray(prop[p])){(opt.specialEasing=opt.specialEasing||{})[p]=prop[p][1];prop[p]=prop[p][0]}}if(opt.overflow!=null){this.style.overflow="hidden"}opt.curAnim=jQuery.extend({},prop);jQuery.each(prop,function(name,val){var e=new jQuery.fx(self,opt,name);if(rfxtypes.test(val)){e[val==="toggle"?hidden?"show":"hide":val](prop)}else{var parts=rfxnum.exec(val),start=e.cur(true)||0;if(parts){var end=parseFloat(parts[2]),unit=parts[3]||"px";if(unit!=="px"){self.style[name]=(end||1)+unit;start=((end||1)/e.cur(true))*start;self.style[name]=start+unit}if(parts[1]){end=((parts[1]==="-="?-1:1)*end)+start}e.custom(start,end,unit)}else{e.custom(start,val,"")}}});return true})},stop:function(clearQueue,gotoEnd){var timers=jQuery.timers;if(clearQueue){this.queue([])}this.each(function(){for(var i=timers.length-1;i>=0;i--){if(timers[i].elem===this){if(gotoEnd){timers[i](true)}timers.splice(i,1)}}});if(!gotoEnd){this.dequeue()}return this}});jQuery.each({slideDown:genFx("show",1),slideUp:genFx("hide",1),slideToggle:genFx("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"}},function(name,props){jQuery.fn[name]=function(speed,callback){return this.animate(props,speed,callback)}});jQuery.extend({speed:function(speed,easing,fn){var opt=speed&&typeof speed==="object"?speed:{complete:fn||!fn&&easing||jQuery.isFunction(speed)&&speed,duration:speed,easing:fn&&easing||easing&&!jQuery.isFunction(easing)&&easing};opt.duration=jQuery.fx.off?0:typeof opt.duration==="number"?opt.duration:jQuery.fx.speeds[opt.duration]||jQuery.fx.speeds._default;opt.old=opt.complete;opt.complete=function(){if(opt.queue!==false){jQuery(this).dequeue()}if(jQuery.isFunction(opt.old)){opt.old.call(this)}};return opt},easing:{linear:function(p,n,firstNum,diff){return firstNum+diff*p},swing:function(p,n,firstNum,diff){return((-Math.cos(p*Math.PI)/2)+0.5)*diff+firstNum}},timers:[],fx:function(elem,options,prop){this.options=options;this.elem=elem;this.prop=prop;if(!options.orig){options.orig={}}}});jQuery.fx.prototype={update:function(){if(this.options.step){this.options.step.call(this.elem,this.now,this)}(jQuery.fx.step[this.prop]||jQuery.fx.step._default)(this);if((this.prop==="height"||this.prop==="width")&&this.elem.style){this.elem.style.display="block"}},cur:function(force){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null)){return this.elem[this.prop]}var r=parseFloat(jQuery.css(this.elem,this.prop,force));return r&&r>-10000?r:parseFloat(jQuery.curCSS(this.elem,this.prop))||0},custom:function(from,to,unit){this.startTime=now();this.start=from;this.end=to;this.unit=unit||this.unit||"px";this.now=this.start;this.pos=this.state=0;var self=this;function t(gotoEnd){return self.step(gotoEnd)}t.elem=this.elem;if(t()&&jQuery.timers.push(t)&&!timerId){timerId=setInterval(jQuery.fx.tick,13)}},show:function(){this.options.orig[this.prop]=jQuery.style(this.elem,this.prop);this.options.show=true;this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur());jQuery(this.elem).show()},hide:function(){this.options.orig[this.prop]=jQuery.style(this.elem,this.prop);this.options.hide=true;this.custom(this.cur(),0)},step:function(gotoEnd){var t=now(),done=true;if(gotoEnd||t>=this.options.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();this.options.curAnim[this.prop]=true;for(var i in this.options.curAnim){if(this.options.curAnim[i]!==true){done=false}}if(done){if(this.options.display!=null){this.elem.style.overflow=this.options.overflow;var old=jQuery.data(this.elem,"olddisplay");this.elem.style.display=old?old:this.options.display;if(jQuery.css(this.elem,"display")==="none"){this.elem.style.display="block"}}if(this.options.hide){jQuery(this.elem).hide()}if(this.options.hide||this.options.show){for(var p in this.options.curAnim){jQuery.style(this.elem,p,this.options.orig[p])}}this.options.complete.call(this.elem)}return false}else{var n=t-this.startTime;this.state=n/this.options.duration;var specialEasing=this.options.specialEasing&&this.options.specialEasing[this.prop];var defaultEasing=this.options.easing||(jQuery.easing.swing?"swing":"linear");this.pos=jQuery.easing[specialEasing||defaultEasing](this.state,n,0,1,this.options.duration);this.now=this.start+((this.end-this.start)*this.pos);this.update()}return true}};jQuery.extend(jQuery.fx,{tick:function(){var timers=jQuery.timers;for(var i=0;i<timers.length;i++){if(!timers[i]()){timers.splice(i--,1)}}if(!timers.length){jQuery.fx.stop()}},stop:function(){clearInterval(timerId);timerId=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(fx){jQuery.style(fx.elem,"opacity",fx.now)},_default:function(fx){if(fx.elem.style&&fx.elem.style[fx.prop]!=null){fx.elem.style[fx.prop]=(fx.prop==="width"||fx.prop==="height"?Math.max(0,fx.now):fx.now)+fx.unit}else{fx.elem[fx.prop]=fx.now}}}});if(jQuery.expr&&jQuery.expr.filters){jQuery.expr.filters.animated=function(elem){return jQuery.grep(jQuery.timers,function(fn){return elem===fn.elem}).length}}function genFx(type,num){var obj={};jQuery.each(fxAttrs.concat.apply([],fxAttrs.slice(0,num)),function(){obj[this]=type});return obj}if("getBoundingClientRect" in document.documentElement){jQuery.fn.offset=function(options){var elem=this[0];if(options){return this.each(function(i){jQuery.offset.setOffset(this,options,i)})}if(!elem||!elem.ownerDocument){return null}if(elem===elem.ownerDocument.body){return jQuery.offset.bodyOffset(elem)}var box=elem.getBoundingClientRect(),doc=elem.ownerDocument,body=doc.body,docElem=doc.documentElement,clientTop=docElem.clientTop||body.clientTop||0,clientLeft=docElem.clientLeft||body.clientLeft||0,top=box.top+(self.pageYOffset||jQuery.support.boxModel&&docElem.scrollTop||body.scrollTop)-clientTop,left=box.left+(self.pageXOffset||jQuery.support.boxModel&&docElem.scrollLeft||body.scrollLeft)-clientLeft;return{top:top,left:left}}}else{jQuery.fn.offset=function(options){var elem=this[0];if(options){return this.each(function(i){jQuery.offset.setOffset(this,options,i)})}if(!elem||!elem.ownerDocument){return null}if(elem===elem.ownerDocument.body){return jQuery.offset.bodyOffset(elem)}jQuery.offset.initialize();var offsetParent=elem.offsetParent,prevOffsetParent=elem,doc=elem.ownerDocument,computedStyle,docElem=doc.documentElement,body=doc.body,defaultView=doc.defaultView,prevComputedStyle=defaultView?defaultView.getComputedStyle(elem,null):elem.currentStyle,top=elem.offsetTop,left=elem.offsetLeft;while((elem=elem.parentNode)&&elem!==body&&elem!==docElem){if(jQuery.offset.supportsFixedPosition&&prevComputedStyle.position==="fixed"){break}computedStyle=defaultView?defaultView.getComputedStyle(elem,null):elem.currentStyle;top-=elem.scrollTop;left-=elem.scrollLeft;if(elem===offsetParent){top+=elem.offsetTop;left+=elem.offsetLeft;if(jQuery.offset.doesNotAddBorder&&!(jQuery.offset.doesAddBorderForTableAndCells&&/^t(able|d|h)$/i.test(elem.nodeName))){top+=parseFloat(computedStyle.borderTopWidth)||0;left+=parseFloat(computedStyle.borderLeftWidth)||0}prevOffsetParent=offsetParent,offsetParent=elem.offsetParent}if(jQuery.offset.subtractsBorderForOverflowNotVisible&&computedStyle.overflow!=="visible"){top+=parseFloat(computedStyle.borderTopWidth)||0;left+=parseFloat(computedStyle.borderLeftWidth)||0}prevComputedStyle=computedStyle}if(prevComputedStyle.position==="relative"||prevComputedStyle.position==="static"){top+=body.offsetTop;left+=body.offsetLeft}if(jQuery.offset.supportsFixedPosition&&prevComputedStyle.position==="fixed"){top+=Math.max(docElem.scrollTop,body.scrollTop);left+=Math.max(docElem.scrollLeft,body.scrollLeft)}return{top:top,left:left}}}jQuery.offset={initialize:function(){var body=document.body,container=document.createElement("div"),innerDiv,checkDiv,table,td,bodyMarginTop=parseFloat(jQuery.curCSS(body,"marginTop",true))||0,html="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";jQuery.extend(container.style,{position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"});container.innerHTML=html;body.insertBefore(container,body.firstChild);innerDiv=container.firstChild;checkDiv=innerDiv.firstChild;td=innerDiv.nextSibling.firstChild.firstChild;this.doesNotAddBorder=(checkDiv.offsetTop!==5);this.doesAddBorderForTableAndCells=(td.offsetTop===5);checkDiv.style.position="fixed",checkDiv.style.top="20px";this.supportsFixedPosition=(checkDiv.offsetTop===20||checkDiv.offsetTop===15);checkDiv.style.position=checkDiv.style.top="";innerDiv.style.overflow="hidden",innerDiv.style.position="relative";this.subtractsBorderForOverflowNotVisible=(checkDiv.offsetTop===-5);this.doesNotIncludeMarginInBodyOffset=(body.offsetTop!==bodyMarginTop);body.removeChild(container);body=container=innerDiv=checkDiv=table=td=null;jQuery.offset.initialize=jQuery.noop},bodyOffset:function(body){var top=body.offsetTop,left=body.offsetLeft;jQuery.offset.initialize();if(jQuery.offset.doesNotIncludeMarginInBodyOffset){top+=parseFloat(jQuery.curCSS(body,"marginTop",true))||0;left+=parseFloat(jQuery.curCSS(body,"marginLeft",true))||0}return{top:top,left:left}},setOffset:function(elem,options,i){if(/static/.test(jQuery.curCSS(elem,"position"))){elem.style.position="relative"}var curElem=jQuery(elem),curOffset=curElem.offset(),curTop=parseInt(jQuery.curCSS(elem,"top",true),10)||0,curLeft=parseInt(jQuery.curCSS(elem,"left",true),10)||0;if(jQuery.isFunction(options)){options=options.call(elem,i,curOffset)}var props={top:(options.top-curOffset.top)+curTop,left:(options.left-curOffset.left)+curLeft};if("using" in options){options.using.call(elem,props)}else{curElem.css(props)}}};jQuery.fn.extend({position:function(){if(!this[0]){return null}var elem=this[0],offsetParent=this.offsetParent(),offset=this.offset(),parentOffset=/^body|html$/i.test(offsetParent[0].nodeName)?{top:0,left:0}:offsetParent.offset();offset.top-=parseFloat(jQuery.curCSS(elem,"marginTop",true))||0;offset.left-=parseFloat(jQuery.curCSS(elem,"marginLeft",true))||0;parentOffset.top+=parseFloat(jQuery.curCSS(offsetParent[0],"borderTopWidth",true))||0;parentOffset.left+=parseFloat(jQuery.curCSS(offsetParent[0],"borderLeftWidth",true))||0;return{top:offset.top-parentOffset.top,left:offset.left-parentOffset.left}},offsetParent:function(){return this.map(function(){var offsetParent=this.offsetParent||document.body;while(offsetParent&&(!/^body|html$/i.test(offsetParent.nodeName)&&jQuery.css(offsetParent,"position")==="static")){offsetParent=offsetParent.offsetParent}return offsetParent})}});jQuery.each(["Left","Top"],function(i,name){var method="scroll"+name;jQuery.fn[method]=function(val){var elem=this[0],win;if(!elem){return null}if(val!==undefined){return this.each(function(){win=getWindow(this);if(win){win.scrollTo(!i?val:jQuery(win).scrollLeft(),i?val:jQuery(win).scrollTop())}else{this[method]=val}})}else{win=getWindow(elem);return win?("pageXOffset" in win)?win[i?"pageYOffset":"pageXOffset"]:jQuery.support.boxModel&&win.document.documentElement[method]||win.document.body[method]:elem[method]}}});function getWindow(elem){return("scrollTo" in elem&&elem.document)?elem:elem.nodeType===9?elem.defaultView||elem.parentWindow:false}jQuery.each(["Height","Width"],function(i,name){var type=name.toLowerCase();jQuery.fn["inner"+name]=function(){return this[0]?jQuery.css(this[0],type,false,"padding"):null};jQuery.fn["outer"+name]=function(margin){return this[0]?jQuery.css(this[0],type,false,margin?"margin":"border"):null};jQuery.fn[type]=function(size){var elem=this[0];if(!elem){return size==null?null:this}if(jQuery.isFunction(size)){return this.each(function(i){var self=jQuery(this);self[type](size.call(this,i,self[type]()))})}return("scrollTo" in elem&&elem.document)?elem.document.compatMode==="CSS1Compat"&&elem.document.documentElement["client"+name]||elem.document.body["client"+name]:(elem.nodeType===9)?Math.max(elem.documentElement["client"+name],elem.body["scroll"+name],elem.documentElement["scroll"+name],elem.body["offset"+name],elem.documentElement["offset"+name]):size===undefined?jQuery.css(elem,type):this.css(type,typeof size==="string"?size:size+"px")}});window.youdao=window.youdao||{};window.youdao.jQuery=jQuery})(window);(function(){window.youdao=window.youdao||{};var root=window.youdao;var previousUnderscore=root._;var breaker={};var ArrayProto=Array.prototype,ObjProto=Object.prototype,FuncProto=Function.prototype;var slice=ArrayProto.slice,unshift=ArrayProto.unshift,toString=ObjProto.toString,hasOwnProperty=ObjProto.hasOwnProperty;var nativeForEach=ArrayProto.forEach,nativeMap=ArrayProto.map,nativeReduce=ArrayProto.reduce,nativeReduceRight=ArrayProto.reduceRight,nativeFilter=ArrayProto.filter,nativeEvery=ArrayProto.every,nativeSome=ArrayProto.some,nativeIndexOf=ArrayProto.indexOf,nativeLastIndexOf=ArrayProto.lastIndexOf,nativeIsArray=Array.isArray,nativeKeys=Object.keys,nativeBind=FuncProto.bind;var _=function(obj){return new wrapper(obj)};if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports){exports=module.exports=_}exports._=_}else{if(typeof define==="function"&&define.amd){define("underscore",function(){return _})}else{root._=_}}_.VERSION="1.2.3";var each=_.each=_.forEach=function(obj,iterator,context){if(obj==null){return}if(nativeForEach&&obj.forEach===nativeForEach){obj.forEach(iterator,context)}else{if(obj.length===+obj.length){for(var i=0,l=obj.length;i<l;i++){if(i in obj&&iterator.call(context,obj[i],i,obj)===breaker){return}}}else{for(var key in obj){if(hasOwnProperty.call(obj,key)){if(iterator.call(context,obj[key],key,obj)===breaker){return}}}}}};_.map=function(obj,iterator,context){var results=[];if(obj==null){return results}if(nativeMap&&obj.map===nativeMap){return obj.map(iterator,context)}each(obj,function(value,index,list){results[results.length]=iterator.call(context,value,index,list)});if(obj.length===+obj.length){results.length=obj.length}return results};_.reduce=_.foldl=_.inject=function(obj,iterator,memo,context){var initial=arguments.length>2;if(obj==null){obj=[]}if(nativeReduce&&obj.reduce===nativeReduce){if(context){iterator=_.bind(iterator,context)}return initial?obj.reduce(iterator,memo):obj.reduce(iterator)}each(obj,function(value,index,list){if(!initial){memo=value;initial=true}else{memo=iterator.call(context,memo,value,index,list)}});if(!initial){throw new TypeError("Reduce of empty array with no initial value")}return memo};_.reduceRight=_.foldr=function(obj,iterator,memo,context){var initial=arguments.length>2;if(obj==null){obj=[]}if(nativeReduceRight&&obj.reduceRight===nativeReduceRight){if(context){iterator=_.bind(iterator,context)}return initial?obj.reduceRight(iterator,memo):obj.reduceRight(iterator)}var reversed=_.toArray(obj).reverse();if(context&&!initial){iterator=_.bind(iterator,context)}return initial?_.reduce(reversed,iterator,memo,context):_.reduce(reversed,iterator)};_.find=_.detect=function(obj,iterator,context){var result;any(obj,function(value,index,list){if(iterator.call(context,value,index,list)){result=value;return true}});return result};_.filter=_.select=function(obj,iterator,context){var results=[];if(obj==null){return results}if(nativeFilter&&obj.filter===nativeFilter){return obj.filter(iterator,context)}each(obj,function(value,index,list){if(iterator.call(context,value,index,list)){results[results.length]=value}});return results};_.reject=function(obj,iterator,context){var results=[];if(obj==null){return results}each(obj,function(value,index,list){if(!iterator.call(context,value,index,list)){results[results.length]=value}});return results};_.every=_.all=function(obj,iterator,context){var result=true;if(obj==null){return result}if(nativeEvery&&obj.every===nativeEvery){return obj.every(iterator,context)}each(obj,function(value,index,list){if(!(result=result&&iterator.call(context,value,index,list))){return breaker}});return result};var any=_.some=_.any=function(obj,iterator,context){iterator||(iterator=_.identity);var result=false;if(obj==null){return result}if(nativeSome&&obj.some===nativeSome){return obj.some(iterator,context)}each(obj,function(value,index,list){if(result||(result=iterator.call(context,value,index,list))){return breaker}});return !!result};_.include=_.contains=function(obj,target){var found=false;if(obj==null){return found}if(nativeIndexOf&&obj.indexOf===nativeIndexOf){return obj.indexOf(target)!=-1}found=any(obj,function(value){return value===target});return found};_.invoke=function(obj,method){var args=slice.call(arguments,2);return _.map(obj,function(value){return(_.isFunction(method)?method||value:value[method]).apply(value,args)})};_.pluck=function(obj,key){return _.map(obj,function(value){return value[key]})};_.max=function(obj,iterator,context){if(!iterator&&_.isArray(obj)){return Math.max.apply(Math,obj)}if(!iterator&&_.isEmpty(obj)){return -Infinity}var result={computed:-Infinity};each(obj,function(value,index,list){var computed=iterator?iterator.call(context,value,index,list):value;computed>=result.computed&&(result={value:value,computed:computed})});return result.value};_.min=function(obj,iterator,context){if(!iterator&&_.isArray(obj)){return Math.min.apply(Math,obj)}if(!iterator&&_.isEmpty(obj)){return Infinity}var result={computed:Infinity};each(obj,function(value,index,list){var computed=iterator?iterator.call(context,value,index,list):value;computed<result.computed&&(result={value:value,computed:computed})});return result.value};_.shuffle=function(obj){var shuffled=[],rand;each(obj,function(value,index,list){if(index==0){shuffled[0]=value}else{rand=Math.floor(Math.random()*(index+1));shuffled[index]=shuffled[rand];shuffled[rand]=value}});return shuffled};_.sortBy=function(obj,iterator,context){return _.pluck(_.map(obj,function(value,index,list){return{value:value,criteria:iterator.call(context,value,index,list)}}).sort(function(left,right){var a=left.criteria,b=right.criteria;return a<b?-1:a>b?1:0}),"value")};_.groupBy=function(obj,val){var result={};var iterator=_.isFunction(val)?val:function(obj){return obj[val]};each(obj,function(value,index){var key=iterator(value,index);(result[key]||(result[key]=[])).push(value)});return result};_.sortedIndex=function(array,obj,iterator){iterator||(iterator=_.identity);var low=0,high=array.length;while(low<high){var mid=(low+high)>>1;iterator(array[mid])<iterator(obj)?low=mid+1:high=mid}return low};_.toArray=function(iterable){if(!iterable){return[]}if(iterable.toArray){return iterable.toArray()}if(_.isArray(iterable)){return slice.call(iterable)}if(_.isArguments(iterable)){return slice.call(iterable)}return _.values(iterable)};_.size=function(obj){return _.toArray(obj).length};_.first=_.head=function(array,n,guard){return(n!=null)&&!guard?slice.call(array,0,n):array[0]};_.initial=function(array,n,guard){return slice.call(array,0,array.length-((n==null)||guard?1:n))};_.last=function(array,n,guard){if((n!=null)&&!guard){return slice.call(array,Math.max(array.length-n,0))}else{return array[array.length-1]}};_.rest=_.tail=function(array,index,guard){return slice.call(array,(index==null)||guard?1:index)};_.compact=function(array){return _.filter(array,function(value){return !!value})};_.flatten=function(array,shallow){return _.reduce(array,function(memo,value){if(_.isArray(value)){return memo.concat(shallow?value:_.flatten(value))}memo[memo.length]=value;return memo},[])};_.without=function(array){return _.difference(array,slice.call(arguments,1))};_.uniq=_.unique=function(array,isSorted,iterator){var initial=iterator?_.map(array,iterator):array;var result=[];_.reduce(initial,function(memo,el,i){if(0==i||(isSorted===true?_.last(memo)!=el:!_.include(memo,el))){memo[memo.length]=el;result[result.length]=array[i]}return memo},[]);return result};_.union=function(){return _.uniq(_.flatten(arguments,true))};_.intersection=_.intersect=function(array){var rest=slice.call(arguments,1);return _.filter(_.uniq(array),function(item){return _.every(rest,function(other){return _.indexOf(other,item)>=0})})};_.difference=function(array){var rest=_.flatten(slice.call(arguments,1));return _.filter(array,function(value){return !_.include(rest,value)})};_.zip=function(){var args=slice.call(arguments);var length=_.max(_.pluck(args,"length"));var results=new Array(length);for(var i=0;i<length;i++){results[i]=_.pluck(args,""+i)}return results};_.indexOf=function(array,item,isSorted){if(array==null){return -1}var i,l;if(isSorted){i=_.sortedIndex(array,item);return array[i]===item?i:-1}if(nativeIndexOf&&array.indexOf===nativeIndexOf){return array.indexOf(item)}for(i=0,l=array.length;i<l;i++){if(i in array&&array[i]===item){return i}}return -1};_.lastIndexOf=function(array,item){if(array==null){return -1}if(nativeLastIndexOf&&array.lastIndexOf===nativeLastIndexOf){return array.lastIndexOf(item)}var i=array.length;while(i--){if(i in array&&array[i]===item){return i}}return -1};_.range=function(start,stop,step){if(arguments.length<=1){stop=start||0;start=0}step=arguments[2]||1;var len=Math.max(Math.ceil((stop-start)/step),0);var idx=0;var range=new Array(len);while(idx<len){range[idx++]=start;start+=step}return range};var ctor=function(){};_.bind=function bind(func,context){var bound,args;if(func.bind===nativeBind&&nativeBind){return nativeBind.apply(func,slice.call(arguments,1))}if(!_.isFunction(func)){throw new TypeError}args=slice.call(arguments,2);return bound=function(){if(!(this instanceof bound)){return func.apply(context,args.concat(slice.call(arguments)))}ctor.prototype=func.prototype;var self=new ctor;var result=func.apply(self,args.concat(slice.call(arguments)));if(Object(result)===result){return result}return self}};_.bindAll=function(obj){var funcs=slice.call(arguments,1);if(funcs.length==0){funcs=_.functions(obj)}each(funcs,function(f){obj[f]=_.bind(obj[f],obj)});return obj};_.memoize=function(func,hasher){var memo={};hasher||(hasher=_.identity);return function(){var key=hasher.apply(this,arguments);return hasOwnProperty.call(memo,key)?memo[key]:(memo[key]=func.apply(this,arguments))}};_.delay=function(func,wait){var args=slice.call(arguments,2);return setTimeout(function(){return func.apply(func,args)},wait)};_.defer=function(func){return _.delay.apply(_,[func,1].concat(slice.call(arguments,1)))};_.throttle=function(func,wait){var context,args,timeout,throttling,more;var whenDone=_.debounce(function(){more=throttling=false},wait);return function(){context=this;args=arguments;var later=function(){timeout=null;if(more){func.apply(context,args)}whenDone()};if(!timeout){timeout=setTimeout(later,wait)}if(throttling){more=true}else{func.apply(context,args)}whenDone();throttling=true}};_.debounce=function(func,wait){var timeout;return function(){var context=this,args=arguments;var later=function(){timeout=null;func.apply(context,args)};clearTimeout(timeout);timeout=setTimeout(later,wait)}};_.once=function(func){var ran=false,memo;return function(){if(ran){return memo}ran=true;return memo=func.apply(this,arguments)}};_.wrap=function(func,wrapper){return function(){var args=[func].concat(slice.call(arguments,0));return wrapper.apply(this,args)}};_.compose=function(){var funcs=arguments;return function(){var args=arguments;for(var i=funcs.length-1;i>=0;i--){args=[funcs[i].apply(this,args)]}return args[0]}};_.after=function(times,func){if(times<=0){return func()}return function(){if(--times<1){return func.apply(this,arguments)}}};_.keys=nativeKeys||function(obj){if(obj!==Object(obj)){throw new TypeError("Invalid object")}var keys=[];for(var key in obj){if(hasOwnProperty.call(obj,key)){keys[keys.length]=key}}return keys};_.values=function(obj){return _.map(obj,_.identity)};_.functions=_.methods=function(obj){var names=[];for(var key in obj){if(_.isFunction(obj[key])){names.push(key)}}return names.sort()};_.extend=function(obj){each(slice.call(arguments,1),function(source){for(var prop in source){if(source[prop]!==void 0){obj[prop]=source[prop]}}});return obj};_.defaults=function(obj){each(slice.call(arguments,1),function(source){for(var prop in source){if(obj[prop]==null){obj[prop]=source[prop]}}});return obj};_.clone=function(obj){if(!_.isObject(obj)){return obj}return _.isArray(obj)?obj.slice():_.extend({},obj)};_.tap=function(obj,interceptor){interceptor(obj);return obj};function eq(a,b,stack){if(a===b){return a!==0||1/a==1/b}if(a==null||b==null){return a===b}if(a._chain){a=a._wrapped}if(b._chain){b=b._wrapped}if(a.isEqual&&_.isFunction(a.isEqual)){return a.isEqual(b)}if(b.isEqual&&_.isFunction(b.isEqual)){return b.isEqual(a)}var className=toString.call(a);if(className!=toString.call(b)){return false}switch(className){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:(a==0?1/a==1/b:a==+b);case"[object Date]":case"[object Boolean]":return +a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if(typeof a!="object"||typeof b!="object"){return false}var length=stack.length;while(length--){if(stack[length]==a){return true}}stack.push(a);var size=0,result=true;if(className=="[object Array]"){size=a.length;result=size==b.length;if(result){while(size--){if(!(result=size in a==size in b&&eq(a[size],b[size],stack))){break}}}}else{if("constructor" in a!="constructor" in b||a.constructor!=b.constructor){return false}for(var key in a){if(hasOwnProperty.call(a,key)){size++;if(!(result=hasOwnProperty.call(b,key)&&eq(a[key],b[key],stack))){break}}}if(result){for(key in b){if(hasOwnProperty.call(b,key)&&!(size--)){break}}result=!size}}stack.pop();return result}_.isEqual=function(a,b){return eq(a,b,[])};_.isEmpty=function(obj){if(_.isArray(obj)||_.isString(obj)){return obj.length===0}for(var key in obj){if(hasOwnProperty.call(obj,key)){return false}}return true};_.isElement=function(obj){return !!(obj&&obj.nodeType==1)};_.isArray=nativeIsArray||function(obj){return toString.call(obj)=="[object Array]"};_.isObject=function(obj){return obj===Object(obj)};_.isArguments=function(obj){return toString.call(obj)=="[object Arguments]"};if(!_.isArguments(arguments)){_.isArguments=function(obj){return !!(obj&&hasOwnProperty.call(obj,"callee"))}}_.isFunction=function(obj){return toString.call(obj)=="[object Function]"};_.isString=function(obj){return toString.call(obj)=="[object String]"};_.isNumber=function(obj){return toString.call(obj)=="[object Number]"};_.isNaN=function(obj){return obj!==obj};_.isBoolean=function(obj){return obj===true||obj===false||toString.call(obj)=="[object Boolean]"};_.isDate=function(obj){return toString.call(obj)=="[object Date]"};_.isRegExp=function(obj){return toString.call(obj)=="[object RegExp]"};_.isNull=function(obj){return obj===null};_.isUndefined=function(obj){return obj===void 0};_.noConflict=function(){root._=previousUnderscore;return this};_.identity=function(value){return value};_.times=function(n,iterator,context){for(var i=0;i<n;i++){iterator.call(context,i)}};_.escape=function(string){return(""+string).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")};_.mixin=function(obj){each(_.functions(obj),function(name){addToWrapper(name,_[name]=obj[name])})};var idCounter=0;_.uniqueId=function(prefix){var id=idCounter++;return prefix?prefix+id:id};_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};_.template=function(str,data){var c=_.templateSettings;var tmpl="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+str.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(c.escape,function(match,code){return"',_.escape("+code.replace(/\\'/g,"'")+"),'"}).replace(c.interpolate,function(match,code){return"',"+code.replace(/\\'/g,"'")+",'"}).replace(c.evaluate||null,function(match,code){return"');"+code.replace(/\\'/g,"'").replace(/[\r\n\t]/g," ").replace(/\\\\/g,"\\")+";__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');";var func=new Function("obj","_",tmpl);if(data){return func(data,_)}return function(data){return func.call(this,data,_)}};var wrapper=function(obj){this._wrapped=obj};_.prototype=wrapper.prototype;var result=function(obj,chain){return chain?_(obj).chain():obj};var addToWrapper=function(name,func){wrapper.prototype[name]=function(){var args=slice.call(arguments);unshift.call(args,this._wrapped);return result(func.apply(_,args),this._chain)}};_.mixin(_);each(["pop","push","reverse","shift","sort","splice","unshift"],function(name){var method=ArrayProto[name];wrapper.prototype[name]=function(){var wrapped=this._wrapped;method.apply(wrapped,arguments);var length=wrapped.length;if((name=="shift"||name=="splice")&&length===0){delete wrapped[0]}return result(wrapped,this._chain)}});each(["concat","join","slice"],function(name){var method=ArrayProto[name];wrapper.prototype[name]=function(){return result(method.apply(this._wrapped,arguments),this._chain)}});wrapper.prototype.chain=function(){this._chain=true;return this};wrapper.prototype.value=function(){return this._wrapped}}).call(this);var JSON;if(!JSON){JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}());(function(){window.swfobject=function(){var D="undefined",r="object",S="Shockwave Flash",W="ShockwaveFlash.ShockwaveFlash",q="application/x-shockwave-flash",R="SWFObjectExprInst",x="onreadystatechange",O=window,j=document,t=navigator,T=false,U=[h],o=[],N=[],I=[],l,Q,E,B,J=false,a=false,n,G,m=true,M=function(){var aa=typeof j.getElementById!=D&&typeof j.getElementsByTagName!=D&&typeof j.createElement!=D,ah=t.userAgent.toLowerCase(),Y=t.platform.toLowerCase(),ae=Y?/win/.test(Y):/win/.test(ah),ac=Y?/mac/.test(Y):/mac/.test(ah),af=/webkit/.test(ah)?parseFloat(ah.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false,X=!+"\v1",ag=[0,0,0],ab=null;if(typeof t.plugins!=D&&typeof t.plugins[S]==r){ab=t.plugins[S].description;if(ab&&!(typeof t.mimeTypes!=D&&t.mimeTypes[q]&&!t.mimeTypes[q].enabledPlugin)){T=true;X=false;ab=ab.replace(/^.*\s+(\S+\s+\S+$)/,"$1");ag[0]=parseInt(ab.replace(/^(.*)\..*$/,"$1"),10);ag[1]=parseInt(ab.replace(/^.*\.(.*)\s.*$/,"$1"),10);ag[2]=/[a-zA-Z]/.test(ab)?parseInt(ab.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0}}else{if(typeof O.ActiveXObject!=D){try{var ad=new ActiveXObject(W);if(ad){ab=ad.GetVariable("$version");if(ab){X=true;ab=ab.split(" ")[1].split(",");ag=[parseInt(ab[0],10),parseInt(ab[1],10),parseInt(ab[2],10)]}}}catch(Z){}}}return{w3:aa,pv:ag,wk:af,ie:X,win:ae,mac:ac}}(),k=function(){if(!M.w3){return}if((typeof j.readyState!=D&&j.readyState=="complete")||(typeof j.readyState==D&&(j.getElementsByTagName("body")[0]||j.body))){f()}if(!J){if(typeof j.addEventListener!=D){j.addEventListener("DOMContentLoaded",f,false)}if(M.ie&&M.win){j.attachEvent(x,function(){if(j.readyState=="complete"){j.detachEvent(x,arguments.callee);f()}});if(O==top){(function(){if(J){return}try{j.documentElement.doScroll("left")}catch(X){setTimeout(arguments.callee,0);return}f()})()}}if(M.wk){(function(){if(J){return}if(!/loaded|complete/.test(j.readyState)){setTimeout(arguments.callee,0);return}f()})()}s(f)}}();function f(){if(J){return}try{var Z=j.getElementsByTagName("body")[0].appendChild(C("span"));Z.parentNode.removeChild(Z)}catch(aa){return}J=true;var X=U.length;for(var Y=0;Y<X;Y++){U[Y]()}}function K(X){if(J){X()}else{U[U.length]=X}}function s(Y){if(typeof O.addEventListener!=D){O.addEventListener("load",Y,false)}else{if(typeof j.addEventListener!=D){j.addEventListener("load",Y,false)}else{if(typeof O.attachEvent!=D){i(O,"onload",Y)}else{if(typeof O.onload=="function"){var X=O.onload;O.onload=function(){X();Y()}}else{O.onload=Y}}}}}function h(){if(T){V()}else{H()}}function V(){var X=j.getElementsByTagName("body")[0];var aa=C(r);aa.setAttribute("type",q);var Z=X.appendChild(aa);if(Z){var Y=0;(function(){if(typeof Z.GetVariable!=D){var ab=Z.GetVariable("$version");if(ab){ab=ab.split(" ")[1].split(",");M.pv=[parseInt(ab[0],10),parseInt(ab[1],10),parseInt(ab[2],10)]}}else{if(Y<10){Y++;setTimeout(arguments.callee,10);return}}X.removeChild(aa);Z=null;H()})()}else{H()}}function H(){var ag=o.length;if(ag>0){for(var af=0;af<ag;af++){var Y=o[af].id;var ab=o[af].callbackFn;var aa={success:false,id:Y};if(M.pv[0]>0){var ae=c(Y);if(ae){if(F(o[af].swfVersion)&&!(M.wk&&M.wk<312)){w(Y,true);if(ab){aa.success=true;aa.ref=z(Y);ab(aa)}}else{if(o[af].expressInstall&&A()){var ai={};ai.data=o[af].expressInstall;ai.width=ae.getAttribute("width")||"0";ai.height=ae.getAttribute("height")||"0";if(ae.getAttribute("class")){ai.styleclass=ae.getAttribute("class")}if(ae.getAttribute("align")){ai.align=ae.getAttribute("align")}var ah={};var X=ae.getElementsByTagName("param");var ac=X.length;for(var ad=0;ad<ac;ad++){if(X[ad].getAttribute("name").toLowerCase()!="movie"){ah[X[ad].getAttribute("name")]=X[ad].getAttribute("value")}}P(ai,ah,Y,ab)}else{p(ae);if(ab){ab(aa)}}}}}else{w(Y,true);if(ab){var Z=z(Y);if(Z&&typeof Z.SetVariable!=D){aa.success=true;aa.ref=Z}ab(aa)}}}}}function z(aa){var X=null;var Y=c(aa);if(Y&&Y.nodeName=="OBJECT"){if(typeof Y.SetVariable!=D){X=Y}else{var Z=Y.getElementsByTagName(r)[0];if(Z){X=Z}}}return X}function A(){return !a&&F("6.0.65")&&(M.win||M.mac)&&!(M.wk&&M.wk<312)}function P(aa,ab,X,Z){a=true;E=Z||null;B={success:false,id:X};var ae=c(X);if(ae){if(ae.nodeName=="OBJECT"){l=g(ae);Q=null}else{l=ae;Q=X}aa.id=R;if(typeof aa.width==D||(!/%$/.test(aa.width)&&parseInt(aa.width,10)<310)){aa.width="310"}if(typeof aa.height==D||(!/%$/.test(aa.height)&&parseInt(aa.height,10)<137)){aa.height="137"}j.title=j.title.slice(0,47)+" - Flash Player Installation";var ad=M.ie&&M.win?"ActiveX":"PlugIn",ac="MMredirectURL="+O.location.toString().replace(/&/g,"%26")+"&MMplayerType="+ad+"&MMdoctitle="+j.title;if(typeof ab.flashvars!=D){ab.flashvars+="&"+ac}else{ab.flashvars=ac}if(M.ie&&M.win&&ae.readyState!=4){var Y=C("div");X+="SWFObjectNew";Y.setAttribute("id",X);ae.parentNode.insertBefore(Y,ae);ae.style.display="none";(function(){if(ae.readyState==4){ae.parentNode.removeChild(ae)}else{setTimeout(arguments.callee,10)}})()}u(aa,ab,X)}}function p(Y){if(M.ie&&M.win&&Y.readyState!=4){var X=C("div");Y.parentNode.insertBefore(X,Y);X.parentNode.replaceChild(g(Y),X);Y.style.display="none";(function(){if(Y.readyState==4){Y.parentNode.removeChild(Y)}else{setTimeout(arguments.callee,10)}})()}else{Y.parentNode.replaceChild(g(Y),Y)}}function g(ab){var aa=C("div");if(M.win&&M.ie){aa.innerHTML=ab.innerHTML}else{var Y=ab.getElementsByTagName(r)[0];if(Y){var ad=Y.childNodes;if(ad){var X=ad.length;for(var Z=0;Z<X;Z++){if(!(ad[Z].nodeType==1&&ad[Z].nodeName=="PARAM")&&!(ad[Z].nodeType==8)){aa.appendChild(ad[Z].cloneNode(true))}}}}}return aa}function u(ai,ag,Y){var X,aa=c(Y);if(M.wk&&M.wk<312){return X}if(aa){if(typeof ai.id==D){ai.id=Y}if(M.ie&&M.win){var ah="";for(var ae in ai){if(ai[ae]!=Object.prototype[ae]){if(ae.toLowerCase()=="data"){ag.movie=ai[ae]}else{if(ae.toLowerCase()=="styleclass"){ah+=' class="'+ai[ae]+'"'}else{if(ae.toLowerCase()!="classid"){ah+=" "+ae+'="'+ai[ae]+'"'}}}}}var af="";for(var ad in ag){if(ag[ad]!=Object.prototype[ad]){af+='<param name="'+ad+'" value="'+ag[ad]+'" />'}}aa.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+ah+">"+af+"</object>";N[N.length]=ai.id;X=c(ai.id)}else{var Z=C(r);Z.setAttribute("type",q);for(var ac in ai){if(ai[ac]!=Object.prototype[ac]){if(ac.toLowerCase()=="styleclass"){Z.setAttribute("class",ai[ac])}else{if(ac.toLowerCase()!="classid"){Z.setAttribute(ac,ai[ac])}}}}for(var ab in ag){if(ag[ab]!=Object.prototype[ab]&&ab.toLowerCase()!="movie"){e(Z,ab,ag[ab])}}aa.parentNode.replaceChild(Z,aa);X=Z}}return X}function e(Z,X,Y){var aa=C("param");aa.setAttribute("name",X);aa.setAttribute("value",Y);Z.appendChild(aa)}function y(Y){var X=c(Y);if(X&&X.nodeName=="OBJECT"){if(M.ie&&M.win){X.style.display="none";(function(){if(X.readyState==4){b(Y)}else{setTimeout(arguments.callee,10)}})()}else{X.parentNode.removeChild(X)}}}function b(Z){var Y=c(Z);if(Y){for(var X in Y){if(typeof Y[X]=="function"){Y[X]=null}}Y.parentNode.removeChild(Y)}}function c(Z){var X=null;try{X=j.getElementById(Z)}catch(Y){}return X}function C(X){return j.createElement(X)}function i(Z,X,Y){Z.attachEvent(X,Y);I[I.length]=[Z,X,Y]}function F(Z){var Y=M.pv,X=Z.split(".");X[0]=parseInt(X[0],10);X[1]=parseInt(X[1],10)||0;X[2]=parseInt(X[2],10)||0;return(Y[0]>X[0]||(Y[0]==X[0]&&Y[1]>X[1])||(Y[0]==X[0]&&Y[1]==X[1]&&Y[2]>=X[2]))?true:false}function v(ac,Y,ad,ab){if(M.ie&&M.mac){return}var aa=j.getElementsByTagName("head")[0];if(!aa){return}var X=(ad&&typeof ad=="string")?ad:"screen";if(ab){n=null;G=null}if(!n||G!=X){var Z=C("style");Z.setAttribute("type","text/css");Z.setAttribute("media",X);n=aa.appendChild(Z);if(M.ie&&M.win&&typeof j.styleSheets!=D&&j.styleSheets.length>0){n=j.styleSheets[j.styleSheets.length-1]}G=X}if(M.ie&&M.win){if(n&&typeof n.addRule==r){n.addRule(ac,Y)}}else{if(n&&typeof j.createTextNode!=D){n.appendChild(j.createTextNode(ac+" {"+Y+"}"))}}}function w(Z,X){if(!m){return}var Y=X?"visible":"hidden";if(J&&c(Z)){c(Z).style.visibility=Y}else{v("#"+Z,"visibility:"+Y)}}function L(Y){var Z=/[\\\"<>\.;]/;var X=Z.exec(Y)!=null;return X&&typeof encodeURIComponent!=D?encodeURIComponent(Y):Y}var d=function(){if(M.ie&&M.win){window.attachEvent("onunload",function(){var ac=I.length;for(var ab=0;ab<ac;ab++){I[ab][0].detachEvent(I[ab][1],I[ab][2])}var Z=N.length;for(var aa=0;aa<Z;aa++){y(N[aa])}for(var Y in M){M[Y]=null}M=null;for(var X in swfobject){swfobject[X]=null}swfobject=null})}}();return{registerObject:function(ab,X,aa,Z){if(M.w3&&ab&&X){var Y={};Y.id=ab;Y.swfVersion=X;Y.expressInstall=aa;Y.callbackFn=Z;o[o.length]=Y;w(ab,false)}else{if(Z){Z({success:false,id:ab})}}},getObjectById:function(X){if(M.w3){return z(X)}},embedSWF:function(ab,ah,ae,ag,Y,aa,Z,ad,af,ac){var X={success:false,id:ah};if(M.w3&&!(M.wk&&M.wk<312)&&ab&&ah&&ae&&ag&&Y){w(ah,false);(function(){ae+="";ag+="";var aj={};if(af&&typeof af===r){for(var al in af){aj[al]=af[al]}}aj.data=ab;aj.width=ae;aj.height=ag;var am={};if(ad&&typeof ad===r){for(var ak in ad){am[ak]=ad[ak]}}if(Z&&typeof Z===r){for(var ai in Z){if(typeof am.flashvars!=D){am.flashvars+="&"+ai+"="+Z[ai]}else{am.flashvars=ai+"="+Z[ai]}}}if(F(Y)){var an=u(aj,am,ah);if(aj.id==ah){w(ah,true)}X.success=true;X.ref=an}else{if(aa&&A()){aj.data=aa;P(aj,am,ah,ac);return}else{w(ah,true)}}if(ac){ac(X)}})()}else{if(ac){ac(X)}}},switchOffAutoHideShow:function(){m=false},ua:M,getFlashPlayerVersion:function(){return{major:M.pv[0],minor:M.pv[1],release:M.pv[2]}},hasFlashPlayerVersion:F,createSWF:function(Z,Y,X){if(M.w3){return u(Z,Y,X)}else{return undefined}},showExpressInstall:function(Z,aa,X,Y){if(M.w3&&A()){P(Z,aa,X,Y)}},removeSWF:function(X){if(M.w3){y(X)}},createCSS:function(aa,Z,Y,X){if(M.w3){v(aa,Z,Y,X)}},addDomLoadEvent:K,addLoadEvent:s,getQueryParamValue:function(aa){var Z=j.location.search||j.location.hash;if(Z){if(/\?/.test(Z)){Z=Z.split("?")[1]}if(aa==null){return L(Z)}var Y=Z.split("&");for(var X=0;X<Y.length;X++){if(Y[X].substring(0,Y[X].indexOf("="))==aa){return L(Y[X].substring((Y[X].indexOf("=")+1)))}}}return""},expressInstallCallback:function(){if(a){var X=c(R);if(X&&l){X.parentNode.replaceChild(l,X);if(Q){w(Q,true);if(M.ie&&M.win){l.style.display="block"}}if(E){E(B)}}a=false}}}}()})();(function(){var $=youdao=window.youdao||{};$.ns=function(namespace,context){var parent=(context==null)?window:context;var arr=namespace.split(".");for(var i=0;i<arr.length;i++){if(!!!parent[arr[i]]){parent[arr[i]]={}}parent=parent[arr[i]]}return parent};$.require_module=function(namespace,context){var parent=(context==null)?window:context;var arr=namespace.split(".");for(var i=0;i<arr.length;i++){if(!!!parent[arr[i]]){throw new Error("required module not found: "+namespace)}parent=parent[arr[i]]}return parent};$.extend=function(namespace,obj){if(!obj){return}var _ns=$.ns(namespace);for(var key in obj){if(obj.hasOwnProperty(key)){_ns[key]=obj[key]}}return _ns}})();(function($){var toStr=Object.prototype.toString;var _=$._;var util={mode:document.compatMode,isString:function(str){return toStr.call(str)==="[object String]"},isFunction:function(fn){return toStr.call(fn)==="[object Function]"},isArray:function(arr){return toStr.call(arr)==="[object Array]"},isInArray:function(arr,ele){var i;if(!this.isArray(arr)){return false}for(i=0;i<arr.length;i++){if(arr[i]==ele){return true}}return false},isEmptyObject:function(obj){var k;for(k in obj){if(obj.hasOwnProperty(k)){return false}}return true},getNumberLength:function(num){if(isNaN(num)){return 0}num=num<0?-num:num;return Math.floor(Math.log(num)/Math.log(10))+1},trim:function(text){return(text||"").replace(/^\s+|\s+$/g,"")},jsonToStr:function(oParam,x){var pa=[];var k;if(!x){var x="&"}for(k in oParam){if(oParam.hasOwnProperty(k)){pa.push(k+"="+oParam[k])}}return pa.join(x)},comboParams:function(oParam){var pa=[];var k;for(k in oParam){if(oParam.hasOwnProperty(k)){if(k==="jsonp"){pa.unshift(k+"="+encodeURIComponent(oParam[k]))}else{pa.push(k+"="+encodeURIComponent(oParam[k]))}}}pa.push("t="+(+new Date()));return pa.join("&")},getModName:function(modNS){if(util.isString(modNS)){var name_list=modNS.split(".");return name_list[name_list.length-1]}},urlToJson:function(url,x){var obj={},options=url;var i;if(!x){x="&"}options=options.replace(/^[?]{1}|[#]{1}$/g,"").split(x);for(i=0,len=options.length;i<len;i++){var e=options[i].split("=");if(e[0].length===0){continue}obj[e[0]]=e.length===1?"":e[1]}return obj},checkFlash:function(){var isIE=(navigator.appVersion.indexOf("MSIE")>=0);var hasFlash=true;var version=[0,0,0];var swf;var d;if(isIE){try{swf=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(swf){d=swf.GetVariable("$version");if(d){d=d.split(" ")[1].split(",");version=[parseInt(d[0],10),parseInt(d[1],10),parseInt(d[2],10)]}}else{hasFlash=false}}catch(e){hasFlash=false}}else{swf=navigator.plugins["Shockwave Flash"];if(!swf){hasFlash=false}else{d=swf.description;if(d){d=d.replace(/^.*\s+(\S+\s+\S+$)/,"$1");version[0]=parseInt(d.replace(/^(.*)\..*$/,"$1"),10);version[1]=parseInt(d.replace(/^.*\.(.*)\s.*$/,"$1"),10);version[2]=/[a-zA-Z]/.test(d)?parseInt(d.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0}}}return{hasFlash:hasFlash,version:version}},getCoordsPosition:function(coordsArray){var maxX,maxY,minX,minY,areaWidth,areaHeight;var i,coords;var dimension={};coords=_.map(coordsArray,function(coord){if(coord<0){return 0}return coord});maxX=minX=parseInt(coords[0],10);maxY=minY=parseInt(coords[1],10);for(i=0;i<coords.length;i+=2){var xx=parseInt(coords[i],10);var yy=parseInt(coords[i+1],10);if(xx>maxX){maxX=xx}if(xx<minX){minX=xx}if(yy>maxY){maxY=yy}if(yy<minY){minY=yy}}areaWidth=maxX-minX;areaHeight=maxY-minY;dimension.left=minX;dimension.top=minY;dimension.width=parseInt(areaWidth,10);dimension.height=parseInt(areaHeight,10);return dimension},setFtCode:function(ftCode,num,flag,action){if(num<0){return ftCode}var arrA=[],arrB=ftCode.split(""),len=Math.max(arrB.length,num);var i;for(i=0;i<len;i++){arrA.push(arrB[i]||0)}arrA[num-1]=action?flag:parseInt(arrA[num-1],10)+flag;return arrA.join("")}};$.extend("youdao.util",util)}(youdao));(function($){var consts={ajaxTimeout:15,codeOfs:88,updateUrl:"http://zhushou.huihui.cn/",logUrl:"http://zhushou.huihui.cn/log",logType:"ARMANI_EXTENSION_ACTION",mmUrl:"http://www.360buy.com/product/140007.html",pageUrl:encodeURIComponent(location.href),elemId:"youdaoGWZS",optionsID:"youdaoGWZS_options",subConsts:{firstHd:"订阅",listHd:"订阅的商品列表",successHd:"订阅成功",successDes:"订阅列表",editHd:"修改订阅设置",subFinishDescribe:"订阅成功",unsubFinishDescribe:"已取消",describe:"订阅的商品",plugClass:"deprice",editFinishDescribe:"修改成功"},captureID:"youdaoGWZS_config",seID:"youdao_gouwu_assistant",serUrl:"productSense",discountUrl:"discountInfo",updateSer:"productSense",baseCss:"http://shared.ydstatic.com/gouwuex/ext/css/",baseUrl:"http://zhushou.huihui.cn/",commonCssName:"extension_3_0_",flashUrl:"http://shared.ydstatic.com/gouwuex/images/extension_2_7/swf/",showTime:0.2,commonName:"youdaoGWZS_",hoverUrl_test:"hoverHistory.js",commonCssName_test:"",basezIndex:2147483646};$.extend("youdao.consts",consts)}(youdao));(function($){var $u=$.require_module("youdao.util");var dom={addClass:function(elem,classNames){if(elem.nodeType!==1){return false}var cn1=elem.className?$u.trim(elem.className).split(/\s+/g):[],cn2=$u.trim(classNames).split(/\s+/g),noin=true;for(var i=0;i<cn2.length;i++){if(!this.hasClass(elem,cn2[i])){cn1.push(cn2[i])}}elem.className=cn1.join(" ")},removeClass:function(elem,classNames){if(elem.nodeType!==1){return false}var cn1=$u.trim(elem.className),cn2=$u.trim(classNames).split(/\s+/g);for(var i=0;i<cn2.length;i++){if(!this.hasClass(elem,cn2[i])){continue}cn1=cn1.replace(cn2[i]," ")}elem.className=$u.trim(cn1)},hasClass:function(elem,className){if(elem.nodeType!==1){return false}if((" "+elem.className+" ").indexOf(" "+className+" ")===-1){return false}return true},getElementsByClass:function(className,tagName,rootContext){var cn=className,tag=tagName||"*",context=rootContext||document;if(arguments.length===2){context=tagName||document;tag="*"}var tagNodes=context.getElementsByTagName(tag),nodesArr=[];for(var i=0,l=tagNodes.length;i<l;i++){if(this.hasClass(tagNodes[i],cn)){nodesArr.push(tagNodes[i])}}return nodesArr},getStyle:function(elem,attr){if(elem.attr){return elem.style[attr]}else{if(elem.currentStyle){return elem.currentStyle[attr]}else{if(document.defaultView&&document.defaultView.getComputedStyle){attr=attr.replace(/([A-Z])/g,"-$1").toLowerCase();return document.defaultView.getComputedStyle(elem,null).getPropertyValue(attr)}else{return""}}}},outWidth:function(el){var pa=["marginLeft","paddingLeft","width","paddingRight","marginRight"],sum=0;for(var i=0;i<pa.length;i++){sum+=parseInt(this.getStyle(el,pa[i]),10)}return sum},outHeight:function(el){var pa=["marginTop","paddingTot","height","paddingBottom","marginBottom"],sum=0;for(var i=0;i<pa.length;i++){sum+=parseInt(this.getStyle(el,pa[i]),10)}return sum},pageX:function(elem){return elem.offsetParent?elem.offsetLeft+dom.pageX(elem.offsetParent):elem.offsetLeft},pageY:function(elem){return elem.offsetParent?elem.offsetTop+dom.pageY(elem.offsetParent):elem.offsetTop},builderFragment:function(htmlStr,callback){var div=document.createElement("div"),frag=document.createDocumentFragment();div.innerHTML=htmlStr;(function(){if(div.firstChild){frag.appendChild(div.firstChild);setTimeout(arguments.callee,0)}else{if(youdao.isFunction(callback)){callback(frag)}}})()},append:function(tag,att,css,html){var object=document.createElement(tag);for(var i in att){object[i]=att[i]}for(var i in css){object.style[i]=css[i]}if(html){object.innerHTML=html}this.appendChild(object);object.append=dom.append;return object}};$.extend("youdao.dom",dom)})(youdao);(function($){function addEvent(element,type,handler){if(element.addEventListener){element.addEventListener(type,handler,false)}else{if(!handler.$$guid){handler.$$guid=addEvent.guid++}if(!element.events){element.events={}}var handlers=element.events[type];if(!handlers){handlers=element.events[type]={};if(element["on"+type]){handlers[0]=element["on"+type]}}handlers[handler.$$guid]=handler;element["on"+type]=handleEvent}}addEvent.guid=1;function removeEvent(element,type,handler){if(element.removeEventListener){element.removeEventListener(type,handler,false)}else{if(element.events&&element.events[type]){delete element.events[type][handler.$$guid]}}}function handleEvent(event){var returnValue=true;event=event||fixEvent(((this.ownerDocument||this.document||this).parentWindow||window).event);var handlers=this.events[event.type];for(var i in handlers){this.$$handleEvent=handlers[i];if(this.$$handleEvent(event)===false){returnValue=false}}return returnValue}function fixEvent(event){event.preventDefault=fixEvent.preventDefault;event.stopPropagation=fixEvent.stopPropagation;return event}fixEvent.preventDefault=function(){this.returnValue=false};fixEvent.stopPropagation=function(){this.cancelBubble=true};var event={stopBubble:function(e){if(e&&e.stopPropagation){e.stopPropagation()}else{window.event.cancelBubble=true}},stopDefault:function(e){if(e&&e.preventDefault){e.preventDefault()}else{window.event.returnValue=false}return false},addEvent:function(elems,type,handle){if(!elems){return}if(elems.nodeType===1||elems.nodeType===9||elems.document){this._addEvent(elems,type,handle);return}for(var i=0;i<elems.length;i++){this._addEvent(elems[i],type,handle)}},_addEvent:addEvent};$.extend("youdao.event",event)})(youdao);(function($){var $u=$.require_module("youdao.util");var $consts=$.require_module("youdao.consts");var _=$._;$.ajax=function(conf){var jsonpCallback="youdaogouwupi"+(+new Date()),params=conf.params||{};params.jsonp=jsonpCallback;var timerHandler=null;window[jsonpCallback]=function(json){window.clearTimeout(timerHandler);if(json===null){if($u.isFunction(conf.error)){conf.error.call(conf.context)}}else{if($u.isFunction(conf.success)){conf.success.call(conf.context,json)}}};var script=document.createElement("script");var isOnerrorTrigger=_.once(function(){if($u.isFunction(conf.error)){conf.error.call(conf.context)}});script.type="text/javascript";var src=$consts.baseUrl+conf.url+"?"+$u.comboParams(params);script.src=src.substr(0,1900);script.charset="utf-8";script.onerror=function(){isOnerrorTrigger()};document.getElementsByTagName("head")[0].appendChild(script);var timeoutHandler=function(){window[jsonpCallback]=function(){};isOnerrorTrigger()};timerHandler=window.setTimeout(timeoutHandler,$consts.ajaxTimeout*1000)}}(youdao));(function($){var Tween={Quad:{easeIn:function(t,b,c,d){return c*(t/=d)*t+b},easeOut:function(t,b,c,d){return -c*(t/=d)*(t-2)+b},easeInOut:function(t,b,c,d){if((t/=d/2)<1){return c/2*t*t+b}return -c/2*((--t)*(t-2)-1)+b},Line:function(t,b,c,d){return c*t/d+b},Back:function(t,b,c,d){var s=2.70158,w=c*((t=t/d-1)*t*((s+1)*t+s)+1)+b;return w}}};$.addAnimate=function(json){var cache=$.require_module("youdao.cache");cache.animate[json.elem]=cache.animate[json.elem]||[];var anim_list=cache.animate[json.elem];if(anim_list&&anim_list.length===0){anim_list.push(json);$.runAnimate(json.elem)}else{anim_list.push(json)}};$.runAnimate=function(elem){var cache=$.require_module("youdao.cache"),anim_list=cache.animate[elem];if(anim_list.length!==0){var data=anim_list.shift(),e;if(data.elem==="body"){e=document.body}else{e=document.getElementById(data.elem)}$.animate(e,data.attr,data.timer,data.atp,function(){data.callback();$.runAnimate.call(data.context,elem)},data.context)}};$.animate=function(elem,attr,timer,atp,callback,context){var util=$.require_module("youdao.util");var spd={vFast:100,fast:150,normal:400,slow:800},t=0,timerId,b=attr[1],c=attr[2]-attr[1],f=15,d=spd[timer]||timer,s=Math.abs(Math.ceil(c/(d/f))),atype=atp||"Line",_unit=attr.length===4?attr[3]:"%";function run(){if(t<d){elem.style[attr[0]]=(Math.ceil(Tween.Quad[atype](t,b,c,d)))+_unit;t+=s}else{clearInterval(timerId);elem.style[attr[0]]=attr[2]+_unit;if(util.isFunction(callback)){callback.call(context)}}}function fade(){if(t<d){var value=Math.ceil(Tween.Quad[atype](t,b,c,d));elem.style.opacity=value/100;elem.style.fiter="alpha(opacity="+value+")";t+=s}else{clearInterval(timerId);elem.style.opacity=attr[2]/100;elem.style.filter="alpha(opacity="+attr[2]+")";if(util.isFunction(callback)){callback.call(context)}}}if(attr[0]==="fade"){timerId=window.setInterval(fade,f)}else{timerId=window.setInterval(run,f)}}})(youdao);(function($){var cache={};$.tmpl=function tmpl(str,data){var fn=!/\W/.test(str)?cache[str]=cache[str]||tmpl(document.getElementById(str).innerHTML):new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+str.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');");return data?fn(data):fn}})(youdao);(function($){var $m=$.ns("youdao.module_manager");var $u=$.require_module("youdao.util");var regedModList=[],_sendModEvent=function(msg){return false},_receiveModEvent=function(evt){return false};$m.regMods=function(mods){var i=0;if(!$u.isArray(mods)){return false}for(l=mods.length;i<l;i++){this.regMod(mods[i])}};$m.regMod=function(mod){if(!!!mod.sendModEvent){mod.sendModEvent=_sendModEvent}if(!!!mod.receiveModEvent){mod.receiveModEvent=_receiveModEvent}regedModList.push(mod)};$m.disp=function(evt){var i;for(i=0,l=regedModList.length;i<l;i++){regedModList[i].receiveModEvent(evt)}}}(youdao));(function($){var cache={};cache.conf={browser:"chrome",version:"2.0",apiVersion:"3.0",vendor:"youdao",position:"down",flag:5,showLen:0,showState:"open",searchData:"请输入想查找的商品",similarTypeWords:"",taobao:false,title:document.title,product:"product",isDiscountOpen:"open",isHoverHistoryOpen:"open",lastDiscountId:0,lastDiscountTime:0,popupFlag:0,logTime:2,fMaxNum:1,tipFlag:0};cache.dom={body:document.body,elem:document.body};cache.animate={};cache.nosyn={};cache.fn={};$.extend("youdao.cache",cache)}(youdao));(function($){var cs=$.require_module("youdao.consts");var util=$.require_module("youdao.util");var code={zero:["0","00","000","0000","00000","000000","0000000","00000000"],strReverse:function(str){var r=[];var i;for(i=0,l=str.length;i<l;i++){r[r.length]=str.charAt(i)}return r.reverse().join("")},encrypt:function(srcStr,m,rvt){var uca=[];var i;if(!util.isString(srcStr)){return""}for(i=0,l=srcStr.length;i<l;i++){uca[uca.length]=code.to(srcStr.charCodeAt(i),m)}return rvt?code.strReverse(uca.join("")):uca.join("")},to:function(n,m){var n1=""+(n+cs.codeOfs).toString(16),len=m-n1.length;if(len>0){return code.zero[len-1]+n1}return n1},decrypt:function(srcStr,m,rvt){if(!util.isString(srcStr)){return""}var uca=[];if(rvt){srcStr=code.strReverse(srcStr)}for(var i=0,j=0;i<srcStr.length;i+=m,j++){var s=srcStr.substring(i,i+m);uca[j]=code.tranFormat(s,m)}return String.fromCharCode.apply(String,uca)},tranFormat:function(n,m){if(n.length!==m){return 0}return parseInt(n.replace(/^0+/g,""),16)-cs.codeOfs}};$.extend("youdao.code",code)})(youdao);(function($){var $u=$.require_module("youdao.util"),cache=$.require_module("youdao.cache");$.run=function(mods,callback,ctx){if($u.isArray(mods)){runMods(mods,callback,ctx)}else{if($u.isString(mods)){runMod(mods,callback,ctx)}}};$.runNoSyn=function(mods){if($u.isArray(mods)){var mod,name,mod_list=[];for(var i=0,len=mods.length;i!=len;i++){mod=mods.pop();name=$u.getModName(mod);if(!cache.nosyn[name]){mod_list.push(mod)}else{$.conf[name]={};$.conf[name].success=(mod_list.length>1)?mod_list.reverse():mod_list;mod_list=[mod]}}$.run(mod_list.reverse())}};$.setCallback=function(key,callbackObj){$.conf[$u.getModName(key)]=callbackObj};function runMod(modNS,callback,ctx){var mod=$.require_module(modNS);if($u.isArray(mod)&&mod.length!==0){runMods(mod,callback,ctx);return}if($u.isFunction(mod)){var name=$u.getModName(modNS),cb={};if($.conf[name]){for(var i in $.conf[name]){cb[i]=function(){$.run($.conf[name][i])}}mod(cb)}else{mod()}}if($u.isFunction(callback)){callback.apply(ctx)}}function runMods(mods,callback,ctx){for(var i=0,len=mods.length;i<len;i++){if(i===len-1){runMod(mods[i],callback,ctx)}else{runMod(mods[i])}}}})(youdao);(function($){var defaultUrl="http://zhushou.huihui.cn/";var defaultTitle="惠惠购物助手，自动比价，查看商品价格走势，让网购不再坑爹！";var defaultContent="我刚试用了@惠惠购物助手，能自动在商品页面显示卓越、当当、京东等商城报价，能省钱，挺好的";var appKey_sina="2610228208";var ralateUid_sina="2137235135";var share={shareTo:function(obj,type,title,content,url,imgUrl){switch(type){case"netease":share.shareToNetease(url?url:defaultUrl,title?title:defaultTitle,content?content.replace(/@惠惠购物助手/g,"#惠惠购物助手#"):defaultContent.replace(/@惠惠购物助手/g,"#惠惠购物助手#"));break;case"qq":share.shareToQQ(url?url:defaultUrl,title?title:defaultTitle,content?content.replace(/@惠惠购物助手/g,"@youdaogouwu"):defaultContent.replace(/@惠惠购物助手/g,"@youdaogouwu"));break;case"sina":share.shareToSina(url?url:defaultUrl,title?title:defaultTitle,content?content:defaultContent,ralateUid_sina,appKey_sina,imgUrl);break;case"renren":share.shareToRenren(url?url:defaultUrl,title?title:defaultTitle,content?content:defaultContent);break;case"kaixin001":share.shareToKaixin001(url?url:defaultUrl,title?title:defaultTitle,content?content:defaultContent);break;case"qqzone":share.shareToQQZone(url?url:defaultUrl,title?title:defaultTitle,content?content:defaultContent);break;default:return false}return false},shareToSina:function(url,title,content,ralateUid,appKey,imgUrl){var shareUrl="http://service.weibo.com/share/share.php";shareUrl+="?url="+encodeURIComponent(url)+"&title="+encodeURIComponent(content)+"&ralateUid="+ralateUid+"&appkey="+appKey;if(imgUrl&&imgUrl.length>0){shareUrl+="&pic="+imgUrl}else{shareUrl+="&pic="}share.openShareWin(shareUrl,700,600)},shareToRenren:function(url,title,content){var shareUrl="http://widget.renren.com/dialog/share";shareUrl+="?resourceUrl="+encodeURIComponent(url)+"&title="+encodeURIComponent(title)+"&description="+encodeURIComponent(content);share.openShareWin(shareUrl,700,600)},shareToKaixin001:function(url,title,content){var shareUrl="http://www.kaixin001.com/rest/records.php";shareUrl+="?url="+encodeURIComponent(url)+"&title="+encodeURIComponent(title)+"&content="+encodeURIComponent(content)+"&style=11";share.openShareWin(shareUrl,700,500)},shareToNetease:function(url,title,content){var shareUrl="http://t.163.com/article/user/checkLogin.do";shareUrl+="?link="+encodeURIComponent(url)+"&info="+encodeURIComponent(content)+" "+encodeURIComponent(url)+"&source="+encodeURIComponent(title)+"&"+new Date().getTime();share.openShareWin(shareUrl,700,500)},shareToQQ:function(url,title,content,relateUid,appKey,imgUrl){var shareUrl="http://v.t.qq.com/share/share.php";shareUrl+="?url="+encodeURIComponent(url)+"&title="+encodeURIComponent(content);share.openShareWin(shareUrl,700,600)},shareToQQZone:function(url,title,content){var shareUrl="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey";shareUrl+="?url="+encodeURIComponent(url)+"&title="+encodeURIComponent(title)+"&summary="+encodeURIComponent(content);share.openShareWin(shareUrl,700,600)},openShareWin:function(shareUrl,width,height){var d=["resizable=yes","width="+width,"height="+height,"location=no","menubar=no","status=no","titlebar=no","toolbar=no","left="+(window.screen.availWidth-width)/2,"top="+(window.screen.availHeight-height)/2];window.open(shareUrl,"",d.join(","))}};$.extend("youdao.share",share)})(youdao);(function($){$.conf={init:[],initGouwuContainer:[],"110011":{head:["logo","subBookmarks","recommand","coupon"],contentBar:["douban","conf","share","priceHistory","morePrice","priceData","historyInfo","resize"],tips:["lowPriceResize","siteCoupon","lowestHistoryPrice"],tipsMust:["feedbackMain"]},"200000":{head:["logo","subBookmarks","recommand","coupon"],contentBar:["conf","feedback"],tips:["siteCoupon"],tipsMust:[]},"110010":{head:["logo","subBookmarks","recommand","coupon"],contentBar:["conf","share","csMore","csPrice","resize"],tips:["siteCoupon"],tipsMust:["feedbackMain"]},"111100":{head:["logo","subBookmarks","recommand","coupon"],contentBar:["sameType","similarType","conf","share","priceHistory","morePrice","resize"],tips:["sameTypeTip","similarTypeTip","siteCoupon","lowestHistoryPrice"],tipsMust:["feedbackMain"]},"110000":{head:["logo","subBookmarks","recommand","coupon"],contentBar:["conf","feedback"],tips:["siteCoupon"],tipsMust:[]},"111000":{head:["logo","subBookmarks","recommand","coupon"],contentBar:["conf","share","priceHistory","resize"],tips:["siteCoupon","lowestHistoryPrice"],tipsMust:["feedbackMain"]},features:[""],featuresCode:"0",action:{"110011":[],"110010":[],"110000":[],"111100":[],"111000":[]},info:{priceData:[],douban:[],sameType:[]}}}(youdao));(function($){var _=$._;var mods=[];var listens={};var Msg=function(name){this.name=name;this.listenList=[];this.index=mods.length;this.self=this;mods.push(this.self)};Msg.prototype={send:function(msg,options){if(!listens[msg]||listens[msg].length===0){return}var ls=listens[msg];var i=0,len=ls.length;for(i;i<len;i++){ls[i].callback(options)}},listen:function(msg,callback){this.listenList.push({msg:msg,callback:callback});if(!listens[msg]){listens[msg]=[]}var func=_.bind(callback,this.self);listens[msg].push({mod:this.self,callback:func})},listens:function(options){var item;if(!options){return}for(item in options){if(options.hasOwnProperty(item)){this.listen(item,options[item])}}}};$.reg=function(name){return new Msg(name)}}(youdao));(function($){var m=$.ns("youdao.modules");var consts=$.require_module("youdao.consts");var cache=$.require_module("youdao.cache");var dom=$.require_module("youdao.dom");var $jq=$.jQuery;var msg=$.reg("css");m.css=function(){var cache,elem,fDiv,showDiv;cache=$.require_module("youdao.cache");cache.dom.elem.append=$.dom.append;elem=cache.dom.elem.append("div",{id:consts.elemId});fDiv=cache.dom.body.append("div",{id:consts.commonName+"features"});showDiv=cache.dom.elem.append("div",{id:consts.elemId+"Show"});cache.dom.elem=elem;cache.dom.show=showDiv;cache.dom.fDiv=fDiv;cache.dom.elem.style.zIndex=consts.basezIndex;cache.dom.fDiv.style.zIndex=consts.basezIndex;cache.dom.show.style.zIndex=consts.basezIndex;var positionWrapCtn=function(){if(cache.conf.ie!==6){cache.dom.bottom=0-document.body.scrollTop}else{cache.dom.bottom=(cache.dom.bottom)?0:1}cache.dom.elem.style.top="auto";cache.dom.elem.style.bottom=cache.dom.bottom+"px";showDiv.style.top="auto";showDiv.style.bottom=(cache.dom.bottom+60)+"px";var elems=dom.getElementsByClass("youdaoGWZSfixed","div",document);if(!elems&&elems.length===0){return}var i=0,len=elems.length,e;for(;i<len;i++){e=elems[i];e.style.bottom=(cache.dom.bottom+60)+"px";e.style.top="auto"}elems=dom.getElementsByClass("youdaoGWZSfixedLayer","div",document);if(!elems&&elems.length===0){return}len=elems.length;for(i=0;i<len;i++){e=elems[i];e.style.bottom=cache.dom.bottom+"px";e.style.top="auto"}};var pageSize=function(){var xScroll,yScroll;if(window.innerHeight&&window.scrollMaxY){xScroll=document.body.scrollWidth;yScroll=window.innerHeight+window.scrollMaxY}else{xScroll=Math.max(document.body.scrollWidth,document.body.offsetWidth);yScroll=Math.max(document.body.scrollHeight,document.body.offsetHeight)}var windowWidth,windowHeight;windowWidth=document.documentElement.clientWidth||document.body.clientWidth;windowHeight=document.documentElement.clientHeight||document.body.clientHeight;var pageHeight=Math.max(yScroll,windowHeight);var pageWidth=Math.max(xScroll,windowWidth);return{page:{width:pageWidth,height:pageHeight},window:{width:windowWidth,height:windowHeight}}};$jq(elem).width(pageSize().windowWidth);if(cache.conf.ie===6||cache.conf.backCompat){positionWrapCtn();$.event.addEvent(window,"scroll",function(event){positionWrapCtn()});document.execCommand("BackgroundImageCache",false,true);$jq("#youdaoGWZS").css("width",pageSize().window.width+"px");msg.listen("resizeWin",function(){$jq("#youdaoGWZS").css("width",pageSize().window.width+"px");positionWrapCtn()})}else{cache.dom.elem.style.position="fixed";cache.dom.show.style.position="fixed"}}})(youdao);(function($){var cache=$.require_module("youdao.cache"),code=$.require_module("youdao.code");var localCapture=({parsers:function(captureConf){var url=document.URL;var zs_conf=captureConf;var url_reg,i,rule,site,rules,len;var parsers;if(zs_conf===undefined){return}rules=captureConf.rules;len=rules.length;for(i=0;i<len;i+=1){rule=rules[i];url_reg=new RegExp(rule.url);if(url_reg.test(url)){parsers=rule.parsers;break}}return parsers},getResult:function(captureConf){var i;var result={};var self=this;var parsers=self.parsers(captureConf);var parser;if(!parsers){result=null;return result}for(parser in parsers){if(parsers.hasOwnProperty(parser)){result[parser]=self.getValue(parsers[parser])}}if(!result.name){result.name=document.title}return result},getValue:function(parser){var selectedValue=this.getSelected(parser);return selectedValue},getSelected:function(querys){var j;var selected="";var slector,attr,pattern,group,type;var innerHtml,temptAttr,temptHtml,reg_pattern,isMached;for(j=0;j<querys.length;j+=1){selector=querys[j].selector;attr=querys[j].attr;pattern=querys[j].pattern;group=querys[j].group;type=querys[j].type;if(attr){temptAttr=$.jQuery(selector).attr(attr);selected=temptAttr}else{if(type==="html"){temptHtml=$.jQuery(selector).html()}else{temptHtml=$.jQuery(selector).text()}innerHtml=$.jQuery.trim(temptHtml);if(pattern!==undefined){reg_pattern=new RegExp(pattern);isMached=reg_pattern.exec(innerHtml);if(isMached!==null){selected=isMached[(group===undefined?0:group)]}}else{selected=innerHtml}}if(selected){break}}return selected},capture:function(captureConf){var self=this;self.captureConf=captureConf;setTimeout(function(){var captureResult,z,u,captureJson,conf;var captureStr;conf=cache.conf;captureResult=self.getResult(self.captureConf);conf.localCapture=JSON.stringify(captureResult);captureStr=unescape(conf.localCapture.replace(/\\(u[0-9a-fA-F]{4})/gm,"%$1"));z=code.encrypt(captureStr,4,true);u=code.encrypt(consts.pageUrl,2,true);captureJson={url:"/api/data",params:{z:z,u:u},context:self,success:function(){},error:function(){}};if(conf.localCapture!=="null"){$.ajax(captureJson)}},10000)}});$.extend("youdao.localCapture",localCapture)}(youdao));(function($){var modules=$.ns("youdao.modules"),cache=$.require_module("youdao.cache"),$jq=$.jQuery,_=$._,localCapture=$.require_module("youdao.localCapture");cache.nosyn.RequestPriceInfo=true;var yixunRegionMapping={"131":"1","2621":"2","2858":"3","158":"4","814":"5","2490":"6","1144":"7","1900":"8","1830":"9","999":"10","2016":"11","1591":"12","2329":"13","1":"14","3225":"15","201":"16","1323":"17","1454":"18","403":"19","556":"20","1718":"21","2652":"22","789":"23","693":"24","3077":"25","2996":"26","2212":"27","299":"28","2160":"29","2130":"30","2878":"31"};$.mod=$.mod||{};modules.RequestPriceInfo=function(callback){var thisDomain;var params={};var hardCodelist=["www.yihaodian.com","www.1mall.com"];var cache=$.require_module("youdao.cache");var consts=$.require_module("youdao.consts");var code=$.require_module("youdao.code");var localConf=cache.localConf;var conf=cache.conf;var self=this;var o=["t="+conf.title,"k=lxsx","d=ls"];var email=localConf.email;var newMsgId=localConf.newMsgId;var pop=localConf.lastDiscountId;var k=code.encrypt(o.join("^&"),4,false);var u=code.encrypt(consts.pageUrl,2,true);var l=1900-u.length;var thisDomain=document.domain;k=(k.length>l)?k.substr(0,l):k;params.browser=cache.localConf.browser||conf.browser;params.version=conf.version;params.vendor=conf.vendor;params.av=conf.apiVersion;params.extensionid=cache.localConf.extensionid||"";params.email=email||"";params.pop=pop||"";params.k=k;if(thisDomain.indexOf("51buy.com")!==-1){var data=/prid=[0-9]+_([0-9]+)/.exec(document.cookie);var prid=(data&&data[1]&&yixunRegionMapping[data[1]])||0;params.rg=prid}if(_.contains(hardCodelist,thisDomain)){u=code.encrypt(encodeURIComponent($jq("[rel=canonical]").attr("href")||location.href),2,true)}params.m=u;if(newMsgId){params.msg=newMsgId||""}var json={url:consts.serUrl,params:params,context:self,success:function(json){cache.data=json;localCapture.capture(cache.data.data);callback.success()},error:function(){cache.data={code:"110000"};callback.success()}};if(cache.conf.test===2){json.params={mmurl:consts.mmUrl}}if(cache.conf.test===1&&cache.localConf.filename){json.params={filename:cache.localConf.filename}}$.ajax(json)}})(youdao);(function($){var modules=$.ns("youdao.modules"),cache=$.require_module("youdao.cache");cache.nosyn.RequestDiscountInfo=true;modules.RequestDiscountInfo=function(callback){var cache=$.require_module("youdao.cache"),consts=$.require_module("youdao.consts"),code=$.require_module("youdao.code"),conf=cache.conf,self=this,o=["t="+conf.title,"k=x","d=s"],k=code.encrypt(o.join("^&"),4,false),u=code.encrypt(consts.pageUrl,2,true),l=1900-u.length;k=(k.length>l)?k.substr(0,l):k;var json={url:consts.discountUrl,params:{browser:cache.localConf.browser||conf.browser,version:conf.version,vendor:conf.vendor,av:conf.apiVersion,m:u,k:k},context:self,success:function(json){cache.data.discountInfo=json;callback.success()},error:function(){cache.data.discountInfo={code:"110000"};callback.success()}};if(cache.conf.test===2){json.params={mmurl:consts.mmUrl}}if(cache.conf.test===1&&cache.localConf.filename){json.params={filename:cache.localConf.filename}}$.ajax(json)}})(youdao);(function($){var m=$.ns("youdao.modules"),cache=$.require_module("youdao.cache");var consts=$.require_module("youdao.consts");cache.nosyn.cssLink=true;m.cssLink=function(callback){var dom=$.require_module("youdao.dom"),css=document.createElement("link");css.type="text/css";css.rel="stylesheet";if(!cache.conf.backCompat){css.href=consts.baseCss+consts.commonCssName+cache.conf.browser+".css";if(cache.conf.ie===6){css.href=consts.baseCss+consts.commonCssName+cache.conf.browser+"_6.css"}}else{css.href=consts.baseCss+consts.commonCssName+"ie_bc.css"}css.href=consts.baseCss+consts.commonCssName+"chrome.css?_t="+(new Date).getTime();document.getElementsByTagName("head")[0].appendChild(css);var div=document.createElement("div");div.className="youdaoGWZSTestCss";document.body.appendChild(div);var CSSload=function(link,callback){var cssLoaded=false;try{if(dom.getStyle(div,"cursor")=="pointer"){cssLoaded=true}}catch(ex){}if(cssLoaded){callback()}else{setTimeout(function(){CSSload(link,callback)},100)}};CSSload(css,callback.success)}})(youdao);(function($){var m=$.ns("youdao.modules");m.info=function(){var consts=$.require_module("youdao.consts");var util=$.require_module("youdao.util");var cache=$.require_module("youdao.cache");var code=$.require_module("youdao.code");var infoConf=cache.conf;var testMod=function(json){if(!json.test){cache.conf.test=0;return}if(json.test==="1"){cache.conf.test=1;consts.baseUrl=json.baseUrl||consts.baseUrl_test;consts.serUrl=json.serUrl||consts.serUrl_test;consts.baseCss=json.baseCss||consts.baseCss_test;consts.commonCssName=json.commonCssName||consts.commonCssName_test;return}};var options=document.getElementById(consts.optionsID);if(options){var json=util.urlToJson(options.innerHTML,";");cache.localConf=json;cache.localConf.position="down";for(var item in json){if(cache.conf[item]&&item!=="apiVersion"){cache.conf[item]=json[item]}}}else{cache.localConf={browser:"360se",vendor:"youdao",version:"1.9"};cache.conf.popupFlag=0}var w=cache.dom.body.style.width;cache.conf.ie=(function(){var undef,v=3,div=document.createElement("div"),all=div.getElementsByTagName("i");while(div.innerHTML="<!--[if gt IE "+(++v)+"]><i></i><![endif]-->",all[0]){}return v>4?v:undef}());if(cache.conf.ie){cache.conf.browser="ie";if(document.compatMode==="BackCompat"){cache.conf.backCompat=true}if(/^[0-9.]+$/.test(cache.localConf.vendor)&&!/^[0-9.]+$/.test(cache.localConf.version)){var t=cache.localConf.vendor;cache.localConf.vendor=cache.localConf.version;cache.localConf.version=t}}else{cache.conf.browser="chrome"}var zhushouSeLink=document.getElementById(consts.seID);if(zhushouSeLink){var linkSrc=zhushouSeLink.src;if(/se360/.test(linkSrc)){cache.localConf.browser="360se"}}};$.conf.init.push("youdao.modules.info")})(youdao);(function($){var m=$.ns("youdao.modules");var cache=$.require_module("youdao.cache");var util=$.require_module("youdao.util");m.metas=function(){var elems=document.getElementsByTagName("meta"),metas={},key,_host=window.location.hostname;for(var i=0,len=elems.length;i<len;i++){key=elems[i].name;if(!util.isString(key)){continue}key=key.toLowerCase();metas[key]=""+elems[i].getAttribute("content");if(key==="keywords"&&/(taobao\.com)|(tmall\.com)/.test(_host)){var tmp=getTaobaoInfo();if(tmp!==""){metas[key]=tmp}cache.conf.taobao=true}if(/(taobao\.com)|(tmall\.com)/.test(_host)){cache.conf.taobao=true}}for(i in metas){cache.conf[i]=metas[i]}function getTaobaoInfo(){var o=document.getElementById("attributes");if(!o){return""}var htmlstr=o.innerHTML||"";var isbn=htmlstr.match(/ISBN[^<]+?(\d+)/);if(isbn){return"@ISBN="+isbn[1]}var ret="";var name=htmlstr.match(/名称[^\"][^<]+/);if(name){ret=name}var brand=htmlstr.match(/品牌[^\"][^<]+/);if(brand){ret+=" "+brand}var model=htmlstr.match(/型号[^\"][^<]+/);if(model){ret+=" "+model}ret=ret.toString();ret=ret.replace("&nbsp;"," ").replace("&nbsp;"," ").replace("&nbsp;"," ");return ret}};$.conf.init.push("youdao.modules.metas")})(youdao);(function($){var msg=$.reg("init");var $jq=$.jQuery;var _=$._;var m=$.ns("youdao.modules");var cache=$.require_module("youdao.cache");cache.nosyn.gouwuInit=true;m.gouwuInit=function(callback){return;var util=$.require_module("youdao.util");var consts=$.require_module("youdao.consts");var elem=cache.dom.elem;var head=document.getElementById(consts.commonName+"head");var div=document.getElementById(consts.commonName+"contentBar");var body=document.body;var name=consts.commonName;cache.nosyn.gouwuInit=true;var code=cache.data.code;var isSale=cache.data.sale;var headStr="";if(isSale){msg.send("galleryDiscount_show");msg.send("initCloseBar")}for(var i in $.conf[code].head){headStr+=$.tm[$.conf[code].head[i]]||""}var str="";for(var i in $.conf[code].contentBar){str+=$.tm[$.conf[code].contentBar[i]]||""}if(cache.data.urlPriceList&&cache.data.urlPriceList.length<cache.conf.showLen){cache.conf.showLen=cache.data.urlPriceList.length}var tmpData=cache.data.urlPriceList;if(tmpData&&tmpData.length!==0){for(var i=0;i<tmpData.length;i++){if(!tmpData[i].num){tmpData[i].num=0}}}var data={data:cache.data,consts:consts,urlPriceList:cache.data.urlPriceList,conf:cache.conf.position||"down",taobao:cache.conf.taobao,name:name,len:cache.conf.showLen,value:cache.conf.searchData,discountInfo:cache.discountInfo};var features=$.conf.features;var getFeatureNo=function(){var localFtCode=cache.localConf.featureCode?cache.localConf.featureCode:"",ftCode=$.conf.featuresCode,length=Math.min(localFtCode.length,ftCode.length),features=$.conf.features;for(var i=0;i<length;i++){if(ftCode.charAt(i)!=="0"&&cache.conf.fMaxNum>parseInt(localFtCode.charAt(i))){if(util.isInArray($.conf[code].head,features[i])||util.isInArray($.conf[code].contentBar,features[i])){return(i+1)}}}if(localFtCode.length<ftCode.length){for(;i<ftCode.length;i++){if(ftCode.charAt(i)!="0"&&(util.isInArray($.conf[code].head,features[i])||util.isInArray($.conf[code].contentBar,features[i]))){return(i+1)}}}return 0};var status=cache.localConf.state||"normal";var featureCode=cache.localConf.featureCode;if(featureCode){featureCode=featureCode.toString()}else{featureCode="0"}if(featureCode.length>1&&status==="update"){cache.conf.flag=1}if(cache.conf.flag){$.tm.event.tmp=$.tm.event[features[cache.conf.flag-1]];$.tm.event[features[cache.conf.flag-1]]=function(){}}if(!(/^\s*$/).test(headStr)){head.innerHTML=_.template(headStr)(data)}for(var i in $.conf[code].head){var hCode=$.conf[code].head[i],fn=$.tm.event[hCode];if(fn&&util.isFunction(fn)){fn()}}if(!(/^\s*$/).test(str)){div.innerHTML=_.template(str)(data)}for(var i in $.conf[code].contentBar){var hCode=$.conf[code].contentBar[i],fn=$.tm.event[hCode];if(fn&&util.isFunction(fn)){fn()}}$jq("#youdaoGWZS_features").remove().appendTo($jq(".youdaoGWBar_mid"));elem.style.opacity=1;elem.style.fiter="alpha(opacity=100)";elem.style.overflow="hidden";document.getElementById(consts.commonName+"close").style.display="block";json={elem:cache.dom.elem.id,attr:["height",0,50,"px"],timer:"fast",atp:"Line",context:this,callback:function(){cache.dom.elem.style.overflow="visible";msg.send("showOver");callback.success()}};if(cache.data.code==="110000"){msg.send("initCloseBar")}$jq(cache.dom.elem).css("height","50px");json.callback()}})(youdao);(function(yd){var m=yd.ns("youdao.modules");yd.mod={};m.render=function(){var $=yd.jQuery;var _=yd._;var mod=yd.mod;var cache=yd.require_module("youdao.cache");var msg=yd.reg("render");var parse=/##parse\(['"](.*)['"]\)/g;var render=function(mod){var tmpl=yd.mod[mod].template||"";return tmpl.replace(parse,function($1,$2){return render($2)})};var tmpl=render("container");var html=_.template(tmpl,{_container:cache.data});$("#youdaoGWZS").html(html);cache.dom.elem=$('div[hui-mod="container"]')[0];$("#youdaoGWZS").find("[hui-mod]").each(function(key,item){var $item=$(item);var name=$item.attr("hui-mod");$item.sMsg=function(data){msg.send(name,data)};$item.lMsg=function(channal,cb){msg.listen(channal,cb)};if($.isFunction(mod[name].event)){mod[name].event($item)}});$(window).bind("resize",function(){msg.send("resizeWin");msg.send("render",{type:"reset"})});msg.send("render",{type:"reset"});setTimeout(function(){msg.send("tips",{type:"start"})},2000);msg.send("showOver");var isSale=cache.data.sale;if(isSale){msg.send("galleryDiscount_show")}}})(youdao);(function(yd){var m=yd.ns("youdao.modules"),consts=yd.require_module("youdao.consts"),cache=yd.require_module("youdao.cache"),util=yd.require_module("youdao.util"),dom=yd.require_module("youdao.dom"),name=consts.commonName;var $,_;$=yd.jQuery;_=yd._;var discountInfo={config:{isNotDiscountOpen:"close",moduleName:"discount",noDataClass:"youdaoGWZS_noMore",showType:"firstShow",curMillis:(new Date().getTime()),popupOpenFlag:1,temptOverflow:undefined,timer:10*10000,element:{$se:$("#"+consts.optionsID),itemQ:"#"+consts.commonName+"recommand",discountInfoQ:".-discount-info",closeDiscInfoQ:".-Dinfo-close",iframe:"-Dinfo-iframe",settingQ:".-Dinfo-setting",cancelQ:".-cm-cancel",confirmQ:".-cm-confirm",closeConfirmQ:".-cm-close",closeDiscountQ:".-cm-closeBt",layerQ:".-cm-layer"}},init:function(config){var selfConfig,data,discountMsg,hasNoDiscountInfo;if(config&&typeof config==="object"){$.extend(discountInfo.config,config)}selfConfig=discountInfo.config;selfConfig.lastDiscountId=parseInt(cache.localConf.lastDiscountId,10);selfConfig.isDiscountOpen=cache.localConf.isDiscountOpen;selfConfig.lastDiscountTime=cache.localConf.lastDiscountTime;selfConfig.popupFlag=cache.conf.popupFlag;selfConfig.hasDiscountInfo=!!(cache.data.pop&&!cache.data.pop.id);data=cache.data;hasNoDiscountInfo=!!!data.pop;if(hasNoDiscountInfo){return}discountMsg=data.pop;setTimeout(function(){if(discountInfo.isShow(discountMsg)){cache.conf.popupFlag=1;discountInfo.renderView()}},10000)},renderView:function(){var dimension,containerTemplate,conf,element,isRecmd;conf=discountInfo.config;isRecmd=cache.data.pop.recmd;if(!isRecmd){discountInfo.updateLocalConf()}dimension=discountInfo.getDimension(cache.data.pop);containerTemplate=_.template(discountInfo.containerTmpl)({hasFixedClass:dimension.hasFixedClass,wrapperWidth:dimension.css.width,wrapperHeight:dimension.css.wrapperHeight,isRecmd:isRecmd});$("body").append(containerTemplate);$(conf.element.discountInfoQ).css(dimension.css);discountInfo.renderIframe();discountInfo.delegateEvent()},renderIframe:function(){var element;element=discountInfo.config.element;setTimeout(function(){var doc,style,iframe;iframe=document.getElementById(element.iframe);try{iframe.contentWindow.document}catch(e){iframe.src="javascript:void((function () {document.open();document.domain='"+document.domain+"';document.close()})())";setTimeout(function(){doc=iframe.contentWindow.document;discountInfo.paintIframe(doc)},1000)}setTimeout(function(){if(iframe.contentDocument){doc=iframe.contentDocument;discountInfo.paintIframe(doc)}else{if(iframe.contentWindow.document){doc=iframe.contentWindow.document;discountInfo.paintIframe(doc)}}},200)},1)},paintIframe:function(doc){var htmlFragement,cssFragement;var $target,logType,logDiv,logAction,logParams,$anchor,anchorList,pop,typeList;pop=cache.data.pop;anchorList=[];typeList=[];htmlFragement=pop.html;cssFragement=pop.css;style=doc.createElement("style");style.type="text/css";if(style.styleSheet){style.styleSheet.cssText=cssFragement}else{style.appendChild(document.createTextNode(cssFragement))}$body=$("body",doc);$head=$("head",doc);$(doc).delegate("a","click",function(){$target=$(this);if(cache.fn&&cache.fn.sendLog&&util.isFunction(cache.fn.sendLog)){logDiv=document.createElement("div");var logParams="discount_info_id="+pop.id;href=$target.attr("href");if(pop.recmd){logParams+="&log_data="+$target.attr("data-log");logParams+="&log_data2="+$target.attr("data-ex")}logDiv.setAttribute("params",logParams);logDiv.setAttribute("href",$target.attr("href"));logAction=pop.recmd?"RECOMMAND_INFO_CLICK":"DISCOUNT_INFO_CLICK";cache.fn.sendLog(logAction,logDiv,"ARMANI_EXTENSION_ACTION")}});setTimeout(function(){$head.append(style);$body.html(htmlFragement);logAction=pop.recmd?"RECOMMAND_TIP":"DISCOUNT_TIP";if(cache.fn&&cache.fn.sendLog&&util.isFunction(cache.fn.sendLog)){logDiv=document.createElement("div");if(pop.recmd){$anchor=$("a",doc);var extras=[];$anchor.each(function(){var href;href=$(this).attr("href");if(!(_.contains(anchorList,href))){anchorList.push(href);typeList.push($(this).attr("data-log"));extras.push($(this).attr("data-ex"))}});var logParams="";_.each(anchorList,function(value,index){logParams+="&url"+index+"="+encodeURIComponent(value)});_.each(typeList,function(value,index){logParams+="&type"+index+"="+encodeURIComponent(value)});_.each(extras,function(value,index){logParams+="&extra"+index+"="+encodeURIComponent(value)});logDiv.setAttribute("params",logParams)}cache.fn.sendLog(logAction,logDiv,"ARMANI_EXTENSION_POPUP")}},2)},isShow:function(discountMsg){var conf,curMillis,deadLine,id,discountShow,limitOneHour,interTime,showTime;conf=discountInfo.config;limitOneHour=2*1000*3600;deadLine=discountMsg.deadLine;id=discountMsg.id;curMillis=conf.curMillis;if(cache.conf.popupFlag===conf.popupOpenFlag){return}if(cache.conf.isDiscountOpen===conf.isNotDiscountOpen){return}if(deadLine!==-1&&curMillis>deadLine){return}if(discountMsg.recmd){return true}if(cache.localConf.hasFeeded==="true"){return}if(id<=conf.lastDiscountId){return}lastDiscountTime=parseInt(conf.lastDiscountTime,10)||0;interTime=curMillis-lastDiscountTime;if(interTime<(limitOneHour*2)){return}return true},updateLocalConf:function(){var conf,data,$se;conf=discountInfo.config;data=cache.data;localConf=cache.localConf;$se=conf.element.$se;if(!conf.lastDiscountId){cache.localConf.lastDiscountId=0}if(!conf.lastDiscountTime){cache.localConf.lastDiscountTime=0}localConf.lastDiscountId=data.pop.id;localConf.lastDiscountTime=conf.curMillis;localConf.isDiscountOpen="open";if(conf.showType==="secondShow"){localConf.discountShow=0}else{localConf.discountShow=1}console.log($se);if($se.length>0&&cache.localConf){$se.html(util.jsonToStr(cache.localConf,";"))}},getDimension:function(popData){var conf,itemOffsetLeft,pageWidth,attr,$item,dimension,itemWidth,targetOffsetLeft;conf=discountInfo.config;dimension={};attr={};attr.width=(popData.width>>0)||350;attr.wrapperHeight=popData.height||224;attr.left=4;attr.top="auto";attr.bottom=55;dimension.css=attr;if(cache.conf.backCompat||cache.conf.ie===6){dimension.hasFixedClass=true;dimension.css.position="absolute";if(cache&&cache.dom){dimension.css.top="auto";dimension.css.bottom=(cache.dom.bottom?cache.dom.bottom+60:60)}}return dimension},delegateEvent:function(){var conf,element,autoDisappearTimer;conf=discountInfo.config;element=conf.element;autoDisappearTimer=setTimeout(function(){discountInfo.hideDiscountInfo(true)},15000);$(document).delegate(element.discountInfoQ,"mouseenter",function(){if(autoDisappearTimer){clearTimeout(autoDisappearTimer)}});$(document).delegate(element.closeDiscInfoQ,"click",function(){if(autoDisappearTimer){clearTimeout(autoDisappearTimer)}discountInfo.hideDiscountInfo()});$(document).delegate(element.settingQ,"click",function(){discountInfo.paintConfirm()});$(document).delegate(element.cancelQ,"click",function(){$(element.layerQ).remove();$("body").css({overflow:conf.temptOverflow})});$(document).delegate(element.closeConfirmQ,"click",function(){$(element.layerQ).remove();$("body").css({overflow:conf.temptOverflow})});$(document).delegate(element.confirmQ,"click",function(){var $closeDiscountBt;$closeDiscountBt=$(element.closeDiscountQ);if($closeDiscountBt[0].checked===true){cache.localConf.isDiscountOpen="close";cache.conf.isDiscountOpen="close";$(element.discountInfoQ).remove()}else{cache.localConf.isDiscountOpen="open";cache.conf.isDiscountOpen="open"}if(element.$se.length>0&&cache.localConf){element.$se.html(util.jsonToStr(cache.localConf,";"))}$(element.layerQ).remove();document.body.style.overflow=conf.temptOverflow})},paintConfirm:function(){var layer,layerWindow,confirmWindow,conf,confirmTemplate,documentHeight,isDiscountOpen;conf=discountInfo.config;documentHeight=document.documentElement.clientHeight+"px";layer=cache.dom.body.append("div",{id:consts.commonName+"layer",className:"youdaoGWZSfixedLayer -cm-layer"},{position:"fixed",width:"100%",background:"none",height:"100%",left:"0",top:"0",zIndex:(consts.basezIndex)});layerWindow=layer.append("div",{},{position:"absolute",left:"0",top:"0",width:"100%",height:"100%",background:"#000000",filter:"Alpha(opacity=40)",opacity:"0.4"});confirmWindow=layer.append("div",{id:consts.commonName+"confirmCloseDiscountInfo"},{position:"absolute",left:"37%",top:"37%"});conf.temptOverflow=document.body.style.overflow;document.body.style.overflow=conf.temptOverflow;if(cache.conf.backCompat||cache.conf.ie===6){layer.style.position="absolute";layer.style.top=document.body.scrollTop+"px";if(!cache.conf.backCompat){layer.style.height=document.documentElement.clientHeight+"px";layer.style.top=document.documentElement.scrollTop+"px"}}confirmTemplate=_.template(discountInfo.confirmTmpl)();confirmWindow.innerHTML=confirmTemplate;isDiscountOpen=cache.conf.isDiscountOpen;document.getElementById(name+isDiscountOpen+"Bt").checked="checked"},hideDiscountInfo:function(isFadeIn){var element=discountInfo.config.element;cache.localConf.discountShow=0;if(element.$se.length>0&&cache.localConf){element.$se.html(util.jsonToStr(cache.localConf,";"))}if(isFadeIn){$(element.discountInfoQ).fadeIn("slow",function(){$(element.discountInfoQ).remove()})}else{$(element.discountInfoQ).remove()}},confirmTmpl:'<div class="youdaoGWZS_top1"> <div class="youdaoGWZS_top2"><span>设置优惠提醒</span><div id="youdaoGWZS_discountClose" class="-cm-close"></div></div></div><div class="youdaoGWZS_dis_content"><div class="youdaoGWZS_dis_left"><div class="youdaoGWZS_logo"></div></div><div class="youdaoGWZS_dis_right"><div class="youdaoGWZS_dis_first">惠惠购物助手为您精选全网最超值的优惠信息，提醒您不错过好机会</div><div class="youdaoGWZS_dis_second">您可以把优惠提醒设置为</div><div class="youdaoGWZS_dis_third"><input id="youdaoGWZS_openBt" type="radio" name="discountConf" value = "开启"clkAction="DISCOUNT_ENABLE_A" class="-cm-openBt"><label for="youdaoGWZS_openBt">开启</label><input id="youdaoGWZS_closeBt" type="radio" name="discountConf"  value = "关闭" clkAction="DISCOUNT_DISABLE_A" class="-cm-closeBt"><label for="youdaoGWZS_closeBt">关闭</label></div><div class="youdaoGWZS_dis_fourth"><input type="button" id="youdaoGWZS_confirmDiscountBtn"value="确定" class="youdaoGWZS_btn -cm-confirm"/><input type="button" id="youdaoGWZS_cancelDiscountBtn"value="取消" class="youdaoGWZS_btn -cm-cancel"/><div style="clear:both"></div></div></div><div style="clear:both"></div></div>',containerTmpl:'<div id="GWZS-discountInfo"class="GWZS-discount-info -discount-info <%= hasFixedClass ? "youdaoGWZSfixed" : "" %>"><div class="hd"><h3>惠惠购物助手 - </h3><% if (isRecmd) { %><h4>猜你喜欢的优惠</h4><% } else { %><h4>优惠实时报</h4><% } %><a href="javascript:void(0)"class="discount-info-close -Dinfo-close"clkaction="DISCOUNT_INFO_CLOSE" title="关闭">关闭</a></div><div class="bd" style="height: <%= wrapperHeight %>px; width: <%= wrapperWidth %>px"> <iframe style="width: 100%; height: 100%;"scrolling="no" marginwidth="0" marginheight="0" frameborder="0" vspace="0" hspace="0" class="-Dinfo-iframe" id="-Dinfo-iframe"></iframe></div><div class="ft"><a href="javascript:void(0)" title="设置"clkaction="DISCOUNT_SET_CLICK_A"class="GWZS-setting -Dinfo-setting">设置</a><a class="GWZS-feedback" title="意见反馈" href="http://zhushou.huihui.cn/suggest" clkAction="DISCOUNT_SUGGEST_CLICK_A" target="_blank">意见反馈</a></div></div>'};m.discountInfo=discountInfo.init}(youdao));(function(yd){var consts,cache,util,moudules,depriceNotify,timer,msg,data;var $,_;$=yd.jQuery;_=yd._;modules=yd.ns("youdao.modules");consts=yd.require_module("youdao.consts");cache=yd.require_module("youdao.cache");util=yd.require_module("youdao.util");msg=yd.reg("depriceRemind");depriceNotify={selectors:{wrapper:"#youdaoGWZS_depriceNotify",close:".notify-close, .deprice-notify-tosee, .deprice-detail a",title:".deprice-notify-title"},messageStack:[],tmpl:'<div id="youdaoGWZS_depriceNotify" style="height: 0px;bottom: 60px; left: 3px;"> <div class="deprice-notify-title" data-count="<%= itemLists.length %>"> <span>惠惠购物助手-降价提醒</span></div><% for (var i = 0; i < len; i ++) { %><% var shop = itemLists[i].shops[0] %><div class="youdaoGWZS_deprice-notify" data-item="<%= itemLists[i].productId %>"><div class="deprice-notify-hd"><a href="javascript:void(0)" class="notify-close" clkaction="DEMSG_CLOSE_CLICK" data-type="<%= itemLists[i].productId %>">关闭</a></div><div class="deprice-notify-bd"><div class="deprice-img"><a href="<%= shop.url %>" target="_blank" clkaction="DEMSG_IMAGE_CLICK"> <img src="<%= shop.img %>"title="<%= shop.title %>"/></a></div><div class="deprice-detail"><h2><a href="<%= shop.url %>" target="_blank" data-type="<%= itemLists[i].productId %>" clkaction="DEMSG_TITLE_CLICK">【<%= shop.cnName %>】<%=  shop.title %></a></h2><p>下降<%= Math.abs(shop.priceChanged) %>元，现价<%= shop.price %>元</p></div></div><a href="<%= shop.url %>" data-type="<%= itemLists[i].productId %>"target="_blank" class="deprice-notify-tosee" clkaction="DEMSG_BUTTON_CLICK">马上去看</a></div><% } %></div>',messageTmpl:'<div class="youdaoGWZS_deprice-notify" data-item="<%= itemMessage.productId %>"><div class="deprice-notify-hd"><a href="javascript:void(0)" class="notify-close" clkAction="DEPRICE_MESSAGE_CLOSE"  data-type="<%= itemMessage.productId %>">关闭</a></div><div class="deprice-notify-bd"><div class="deprice-img"><a href="<%= shop.url %>" target="_blank"> <img src="<%= shop.img %>"title="<%= shop.title %>"/></a></div><div class="deprice-detail"><h2><a href="<%= shop.url %>" target="_blank">【<%= shop.cnName %>】<%=  shop.title %></h2></a><p>下降<%= Math.abs(shop.priceChanged) %>元，现价<%= shop.price %>元</p></div></div><a href="<%= shop.url %>" target="_blank" class="deprice-notify-tosee">马上去看</a></div>',showMessage:function(depriceData){var conf,isIe6,isBackCompat,domBottom;var messageHeight;var selectors;var len;if(depriceData.length>0){len=depriceData.length}else{return}if(len>3){messageHeight=3*150;this.messageStack=depriceData.slice(3,len);len=3}else{messageHeight=depriceData.length*150}selectors=this.selectors;conf=cache.conf;isIe6=conf.ie===6?true:false;isBackCompat=conf.backCompat;template=_.template(this.tmpl)({len:len,itemLists:depriceData});this.delegateEvent();$("body").append(template);if(isBackCompat||isIe6){this.getDimention()}else{$(selectors.wrapper).animate({height:messageHeight,opacity:1},500,function(){$(selectors.wrapper).css({height:"auto"})})}},delegateEvent:function(){var selectors,conf;var self=this;selectors=this.selectors;conf=cache.conf;$(document).delegate(selectors.close,"click",function(){var target,dataType,itemsCount;var template;var logType,logParams,logDiv,logAction;var isAfterTitle;var previouseElem;var titleClass;titleClass="deprice-notify-title";target=$(this);dataType=target.attr("data-type");notifyItem=$('div[data-item="'+dataType+'"]');previouseElem=notifyItem.prev();itemsCount=$(selectors.title).attr("data-count");itemsCount=itemsCount-1;$(".deprice-notify-title").attr("data-count",itemsCount);if(previouseElem.length>0&&previouseElem.hasClass(titleClass)){if(itemsCount<3){previouseElem.fadeOut(300,function(){$(this).remove()})}}notifyItem.fadeOut("slow",function(){var messageStack,topMessage,shopInfo;messageStack=self.messageStack;if(messageStack.length>0){topMessage=messageStack.pop();shopInfo=topMessage.shops[0];template=_.template(self.messageTmpl)({itemMessage:topMessage,shop:shopInfo});notifyItem.replaceWith(template);logType="ARMANI_EXTENSION_POPUP";logAction="DEPRICE_MESSAGE_POPUP";if(cache.fn&&cache.fn.sendLog&&util.isFunction(cache.fn.sendLog)){logDiv=document.createElement("div");logParams="deprice_missage_count="+(messageStack.length+1);logDiv.setAttribute("params",logParams);cache.fn.sendLog(logAction,logDiv,logType)}}else{notifyItem.remove()}})})},getDimention:function(){var domBottom;var selectors;selectors=this.selectors;$(selectors.wrapper).addClass("youdaoGWZSfixed");$(selectors.wrapper).css({position:"absolute"});if(cache&&cache.dom){domBottom=cache.dom.bottom?cache.dom.bottom+60:60;$(selectors.wrapper).animate({bottom:domBottom,opcity:1},1000)}}};msg.listen("showOver",function(){var lastTime,localConf,localConfUpdateTime,updateMessage,logDiv,logParams,isUpdate,hubMessage,options,lastMsgId,logType,logAction,newMsgId,hasShowDeprice;data=cache.data;localConf=cache.localConf||{};hubMessage=data.priceHub||{};hasShowDeprice=localConf.hasShowDeprice;updateMessage=[];if(!hubMessage||(hasShowDeprice==="true")){return}if(localConf.lastMsgId&&localConf.lastMsgId!=="undefined"){lastMsgId=parseInt(localConf.lastMsgId,10)}else{lastMsgId=parseInt(hubMessage.lastMsgId,10)}if(hubMessage.list){_.each(hubMessage.list,function(message){var shopItem;shopItem=message.shops[0];if(shopItem.msgId>lastMsgId){updateMessage.push(message)}});if(updateMessage.length>0){depriceNotify.showMessage(updateMessage);logType="ARMANI_EXTENSION_POPUP";logAction="DEPRICE_MESSAGE_POPUP";if(cache.fn&&cache.fn.sendLog&&util.isFunction(cache.fn.sendLog)){logDiv=document.createElement("div");logParams="msgCount"+updateMessage.length;logDiv.setAttribute("params",logParams);cache.fn.sendLog(logAction,logDiv,logType)}options=document.getElementById(consts.optionsID);if(options&&localConf){localConf.lastMsgId=hubMessage.lastMsgId;if(hubMessage.newMsgId>0){localConf.newMsgId=hubMessage.newMsgId}options.innerHTML=util.jsonToStr(localConf,";")}}}})}(youdao));(function($){var m=$.ns("youdao.modules"),cache=$.require_module("youdao.cache"),consts=$.require_module("youdao.consts"),util=$.require_module("youdao.util");jq=$.jQuery;m.gouwuLog=function(){if(cache.conf.test&&!cache.localConf.log){}var img=new Image();var sendLog=function(action,elem,logType){var isLike=consts.subConsts.plugClass==="prefer"?true:false;var json={action:action,extensionid:cache.localConf.extensionid||"",browser:cache.localConf.browser||cache.conf.browser,discountId:cache.localConf.lastDiscountId,type:logType||consts.logType,fromSite:document.domain,like:isLike,location:cache.conf.position,position:elem.getAttribute("ps")||"no-position",product:cache.conf.product,toSite:elem.getAttribute("href")||"none",vendor:cache.conf.vendor,version:cache.conf.version,referrer:document.referrer};if(elem.tagName==="INPUT"&&elem.getAttribute("type")==="submit"&&json.toSite==="none"){if(json.toSite==="none"){return true}else{elem.removeAttribute("href")}}if(elem.className==="youdaoGWZS_non"||elem.className==="youdaoGWZS_noMore"){return true}var params,parameters=elem.getAttribute("params")||"no-parameters";if(parameters==="no-parameters"){params=util.comboParams(json)}else{params=util.comboParams(json)+"&"+parameters}img.src=consts.logUrl+"?"+params;return true};var startLog=function(type,elem,flag){if(!elem||!elem.tagName){return}var action=elem.getAttribute(type);if(action){switch(flag){case"click":sendLog(action,elem);break;case"mouseover":elem.timerId=setTimeout(function(){sendLog(action,elem)},cache.conf.logTime*1000);break;case"mouseout":if(elem.timerId){clearTimeout(elem.timerId)}break}}startLog(type,elem.parentNode,flag)};jq(document).bind("click",function(e){var hrefAttr;var voidStr;var self=this;var target=e.target||self.srcElement;startLog("clkAction",target,"click");voidStr="javascript:void(0)";if(location.hostname==="buy.yesky.com"){hrefAttr=jq(target).attr("href");if(hrefAttr&&(hrefAttr===voidStr)){e.preventDefault()}}});$.event.addEvent(cache.dom.elem,"mouseover",function(e){e=e||window.event;var target=e.target||e.srcElement;startLog("hoverAction",target,"mouseover")});$.event.addEvent(cache.dom.elem,"mouseout",function(e){e=e||window.event;var target=e.target||e.srcElement;startLog("hoverAction",target,"mouseout")});if(!cache.fn){cache.fn={}}cache.fn.sendLog=sendLog}})(youdao);(function(yd){var $=yd.jQuery;var _=yd._;var cache=yd.require_module("youdao.cache");var code=yd.require_module("youdao.code");var util=yd.require_module("youdao.util");var modules=yd.modules;var data=cache.data;var vendorSelector={};vendorSelector.vendorChoose=function(cfg){var exceptPrice,template,modifyInfo,vendorSelectTmpl,selectors,keymap,initText,initSelectedItems,initPrice,enableClass;var _inputAlert,_checkBox,init,_checkPriceRange,_getExceptPrice,_delegateEvents;customClass=cfg.customClass;exceptEle=cfg.exceptEle;isModify=cfg.isModify;if(isModify){modifyInfo=cfg.vendorList.pop()}vendorList=cfg.vendorList;selectors={chooseQ:".youdaoGWZS_store-choose",storeListQ:".youdaoGWZS_stores-list",customBox:".youdaoGWZS_stores-list .diy-stores ul",customChoose:".youdaoGWZS_stores-list-se",shopsChooseed:".youdaoGWZS_store-choose input"};keymap={"任何商家":"all","惠惠推荐商家":"believe","自定义商家":"custom"};vendorSelectTmpl='<div class="youdaoGWZS_stores-list-cont <%= customClass %>"><div class="youdaoGWZS_store-choose" data-result="<%= initSelectedItems %>" <% if (isModify) { %>data-type="<%= modifyInfo.famous ? "B" : "C" %>"><% } else { %>data-type="<%= priceList[0].famous ? "B" : "C" %>"><% } %><input type="text" name="shops"readonly="readonly"value="<%= initText %>" /><span class="btn-choice <%= enableClass %>">选择</span></div><div class="youdaoGWZS_stores-list"><ul><li><a class="stores-list-selector"data-type="all-stores"href="javascript:void(0)">任何商家</a></li><li><a class="stores-list-selector"data-type="famouse-stores"href="javascript:void(0)">惠惠推荐商家<i class="icon_recommend">&nbsp;</i></a></li><li class="diy-stores"><span>自定义商家</span><ul><li><input type="checkbox" id="allSelect"/><label for="allSelect">全选</label></li><% for (var i = 0, len = priceList.length; i < len; i ++) { %><li><input type="checkbox" id="<%= priceList[i].id %>"data-price="<%= priceList[i].price %>"data-famous="<%= priceList[i].famous%>"data-site="<%= priceList[i].siteDomain%>"name="<%= priceList[i].id %>"class="pr-shop-check"<%= (i === 0) || priceList[i].isChecked ||priceList[i].famous ? "checked" : "" %>/><label for="<%= priceList[i].id %>"><%= priceList[i].siteName %>　<% if (!priceList[i].modify) { %><%= parseFloat(priceList[i].price) %>元<% } %><% if (priceList[i].avaiable === "false") { %>缺货<% } %></label></li><% }  %></ul></li></ul><div class="fta"><a class="youdaoGWZS_btn-cancel youdaoGWZS_stores-list-se"data-value="cancel" href="javascript:void(0)">取消</a><a class="youdaoGWZS_btn-choice  youdaoGWZS_stores-list-se"data-value="custom" href="javascript:void(0)">确定</a></div></div></div>';_delegateEvents=function(){$(document).delegate(selectors.chooseQ,"click.vendor.choose",function(){var thisPrice;thisPrice=vendorList[0];if(vendorList.length>1){$(selectors.storeListQ).toggle()}else{return}});$(document).delegate(selectors.storeListQ+" .stores-list-selector","click.vendor.list",function(){var dataType,anchor,chooseText,exceptPriceResult;dataType=$(this).attr("data-type");if(dataType==="all-stores"){_checkBox("selectAll");$(selectors.chooseQ).attr("data-type","A")}else{_checkBox("cancelAll");$('.diy-stores input[data-famous="true"]').attr("checked",true);if(vendorList[0].famous){$(selectors.chooseQ).attr("data-type","B")}else{$(selectors.chooseQ).attr("data-type","C")}}exceptPriceResult=_getExceptPrice();$(exceptEle).val(exceptPriceResult.defaultPrice);$(selectors.chooseQ).attr("data-result",exceptPriceResult.checkedItems);anchor=$(this);chooseText=$(selectors.chooseQ+" input")[0];chooseText.value=anchor.text();$(selectors.storeListQ).toggle()});$(document).delegate("#allSelect","click.vendor.selectAll",function(){var isChecked=$(this).attr("checked");if(isChecked){_checkBox("selectAll")}else{_checkBox("cancelAll")}});$(document).delegate(selectors.storeListQ+" .pr-shop-check","click.vendor.check",function(){var isChecked=$(this).attr("checked");if(!isChecked){_checkBox("def")}else{_checkBox("checkAll")}});$(document).delegate(selectors.customChoose,"click.vendor.custom",function(e){e.preventDefault();var self=$(this);var input=$("li.diy-stores ul input:checked");var text=self.attr("data-value");var dataType,anchor,chooseText,exceptPriceResult;$(selectors.shopsChooseed).val("自定义商家");$(selectors.chooseQ).attr("data-type","C");if(self.hasClass("youdaoGWZS_btn-choice")){if(!input||input.length===0){_inputAlert(selectors.customBox);return}}if(self.hasClass("youdaoGWZS_btn-cancel")){_checkBox("cancelAll");$('.diy-stores input[data-famous="true"]').attr("checked",true);if(vendorList[0].famous){$(selectors.chooseQ).attr("data-type","B")}else{$(selectors.chooseQ).attr("data-type","C")}exceptPriceResult=_getExceptPrice();$(exceptEle).val(exceptPriceResult.defaultPrice);$(selectors.chooseQ).attr("data-result",exceptPriceResult.checkedItems);chooseText=$(selectors.chooseQ+" input")[0];chooseText.value="惠惠推荐商家"}$(selectors.storeListQ).hide()})};_inputAlert=function(customBox){var colors=["#d9d9d9","#f5ac52"];var i=0;var timer=setInterval(function(){if(i===8){clearInterval(timer);return}$(customBox).css("border-color",colors[++i%2])},80)};_checkBox=function(type){var $all=$("#allSelect");var checkedPriceList=[];var exceptPriceResult;switch(type){case"selectAll":$(".diy-stores input:checkbox").attr("checked",true);break;case"cancelAll":$(".diy-stores input:checkbox").attr("checked",false);break;case"def":$all.attr("checked",false);break;case"checkAll":if(!$("input.pr-shop-check").not(":checked").length){$all.attr("checked",true)}break}exceptPriceResult=_getExceptPrice();$(exceptEle).val(exceptPriceResult.defaultPrice);$(selectors.chooseQ).attr("data-result",exceptPriceResult.checkedItems)};_checkPriceRange=function(price){var exceptPrice,lowestPrice,indexPrice;indexPrice=(price.toString()).indexOf("-");lowestPrice=indexPrice>0?(price.toString()).slice(0,indexPrice):price;if(lowestPrice>10){exceptPrice=lowestPrice-1}else{if(lowestPrice>0.1){exceptPrice=Math.round((lowestPrice-0.1)*100)/100}else{if(lowestPrice){exceptPrice=9999}else{exceptPrice=""}}}return exceptPrice};_getExceptPrice=function(){var checkedPriceList=[];var checkedItemSiteList=[];var defaultPrice,checkedItems;$("input.pr-shop-check:checked").each(function(){checkedPriceList.push($(this).attr("data-price"));checkedItemSiteList.push($(this).attr("data-site"))});if(checkedPriceList.length>1){checkedPriceList.sort(function(a,b){var valA,valB,indexA,indexB;indexA=a.indexOf("-");indexB=b.indexOf("-");valA=indexA>0?a.slice(0,indexA):a;valB=indexB>0?b.slice(0,indexB):b;return valA-valB})}else{if(!checkedPriceList.length){checkedPriceList[0]=0}}defaultPrice=_checkPriceRange(checkedPriceList[0]);checkedItems=checkedItemSiteList.join("@");return{defaultPrice:defaultPrice,checkedItems:checkedItems}};init=(function(){var famousListSite=[];var defaultPriceList=[];if(isModify){if(modifyInfo.listType==="BELIEVE"){initText="惠惠推荐商家";enableClass=""}else{if(modifyInfo.listType==="CUSTOM"){initText="自定义商家";enableClass=""}else{enableClass="enable"}}}else{if(vendorList.length>1){initText="惠惠推荐商家";enableClass=""}else{initText=vendorList[0].siteName;enableClass="enable"}}_.each(vendorList,function(vendor){var siteDomain,dotIndex;dotIndex=(vendor.site).indexOf(".");siteDomain=dotIndex<0?vendor.site:(vendor.site).slice(0,dotIndex);vendor.siteDomain=siteDomain;if(vendor.famous){famousListSite.push(vendor.siteDomain);defaultPriceList.push(vendor.price)}});if(defaultPriceList.length>1){defaultPriceList.sort(function(a,b){return a-b});initPrice=_checkPriceRange(defaultPriceList[0]);initSelectedItems=famousListSite.join("@");if(isModify&&modifyInfo.initSelected){initSelectedItems=modifyInfo.initSelected}}else{if(vendorList[0]){initPrice=_checkPriceRange(vendorList[0].price);initSelectedItems=vendorList[0].siteDomain}}if(isModify){initPrice=modifyInfo.price}}());if(!!!yd.vendorSelector.bindEvents){_delegateEvents();yd.vendorSelector.bindEvents=true}template=_.template(vendorSelectTmpl)({priceList:vendorList,enableClass:enableClass,isModify:isModify,modifyInfo:modifyInfo,initText:initText,initSelectedItems:initSelectedItems,customClass:customClass});return{template:template,initPrice:initPrice,getExceptPrice:_getExceptPrice}};yd.extend("youdao.vendorSelector",vendorSelector)}(youdao));(function(yd){var $=yd.jQuery;var _=yd._;var itemRe;var location=window.location,protocol=location.protocol,hostname=location.hostname,pathname=location.pathname;var cache=yd.require_module("youdao.cache"),consts=yd.require_module("youdao.consts"),code=yd.require_module("youdao.code"),util=yd.require_module("youdao.util");var hoverHistoryInfo={baseInfo:(function(){var domain=document.domain;var url=document.URL;var config={};config.className="body";config.elem="a img, area";config.attr="href";config.depth=3;return config}()),hrefList:{},hrefMouseIn:undefined,isCluster:undefined,priceInfro:{},timeShowBegin:undefined,mapId:undefined,isDataURISupported:(function(){if($.browser.msie&&($.browser.version==="6.0")){return false}if(($.browser.version==="7.0")&&(!document.documentMode)){return false}return true}()),trigger:function(){var timerFirstIn,timerSecondIn,timerDelay;var that=this;var config=this.baseInfo;var tipsId="#youdaoGWZS_hover-tips";$(config.className).delegate(config.elem,"mouseenter",function(event){var self=this;var target=event.target;var coords=target.coords;var href=that.getValidHref(self);var dimension=that.getDimension(target,coords);var isHoverHistoryOpen=true;if(cache.conf.isHoverHistoryOpen==="open"){isHoverHistoryOpen=false}that.hrefMouseIn=href;if(href===undefined||isHoverHistoryOpen){return}if(dimension.mapId){that.mapId=dimension.mapId;that.triggerDiscTipsMap(that.mapId,href,true)}that.triggerDiscTips(self,true);that.removeView();clearTimeout(timerDelay);if(that.hrefList.hasOwnProperty(href)&&that.hrefList[href]!==null){timerSecondIn=setTimeout(function(){that.renderView(that.hrefList[href],href,dimension)},500)}else{timerFirstIn=setTimeout(function(){that.hrefList[href]=null;that.requestData(href,that.hrefList[href],dimension)},300)}});$(config.className).delegate(config.elem,"mouseleave",function(){clearTimeout(timerFirstIn);clearTimeout(timerSecondIn);that.triggerDiscTips(this);if(that.mapId&&that.hrefMouseIn){that.triggerDiscTipsMap(that.mapId,that.hrefMouseIn)}if($(tipsId).length>0){timerDelay=setTimeout(function(){that.removeView();that.hrefMouseIn=""},200)}});$(document).delegate(tipsId,"mouseenter",function(){clearTimeout(timerDelay)});$(document).delegate(tipsId,"mouseleave",function(){that.removeView()});$(document).delegate(".see-guide a","click",function(){that.sentLogInfo("HISTORY_HOVER3_CLICK",0,0,isCluster)})},triggerDiscTipsMap:function(mapId,href,isMouseIn){var classType;var validHref=href.toLowerCase();var mapIndex="youdaoGWZS_"+mapId;var childSelector='div[data-url="'+validHref+'"]';var temptTip=$("#"+mapIndex).children(childSelector);if(temptTip.length>0){classType=temptTip.attr("class").split(" ")[1]+"_mouseIn";if(isMouseIn){temptTip.addClass(classType)}else{temptTip.removeClass(classType)}}},triggerDiscTips:function(imgTag,isMouseIn){var targetImag=$(imgTag);var classType;var targetTip=$(targetImag.next(".youdaoGWZS_gallerTips")[0]);if(targetTip.length>0){classType=targetTip.attr("class").split(" ")[1]+"_mouseIn";if(isMouseIn){$(targetTip).addClass(classType)}else{$(targetTip).removeClass(classType)}}},requestData:function(href,resultObj,dimension){var that=this;var startTime=new Date();var json={url:consts.serUrl,params:{phu:href},success:function(data){var property;var timeCounterRequest;resultObj={};for(property in data){if(data.hasOwnProperty(property)){resultObj[property]=data[property]}}if(resultObj!==null){timeCounterRequest=(new Date())-startTime;resultObj.timeCounterRequest=timeCounterRequest;resultObj.isSendLog=false;that.hrefList[href]=resultObj;that.renderView(resultObj,href,dimension)}},error:function(){that.hrefList[href]=null}};if(!this.isDataURISupported){json.params.type="url"}yd.ajax(json)},getDimension:function(target,coords){var layoutY,layoutX,dimension,mapId,coordsInfo;var mapName,offsetLeft,offsetTop,lengthAppending;var limitLength,subLength;var tipsSizeInfo={};var i;tipsSizeInfo.width=267;tipsSizeInfo.height=222;if(coords!==undefined){mapName="#"+$(target).parent().attr("name");$img=$("[usemap]").filter(function(){return this.useMap.toLowerCase()===mapName.toLowerCase()});mapId=$img.attr("usemap").substring(1);offsetLeft=$img.offset().left;offsetTop=$img.offset().top;coords=coords.split(",");coordsInfo=util.getCoordsPosition(coords);layoutX=parseInt(offsetLeft,10)+coordsInfo.left;layoutY=parseInt(offsetTop,10)+coordsInfo.top;dimension={x:layoutX+coordsInfo.width,y:layoutY,arrowDirection:"left",arrowVeritical:tipsSizeInfo.height/2};limitLength=$(window).width()-dimension.x;if(limitLength<tipsSizeInfo.width){dimension.arrowDirection="right";dimension.x-=parseInt(coordsInfo.width,10);dimension.x-=tipsSizeInfo.width}if(coordsInfo.height>tipsSizeInfo.height){subLength=coordsInfo.height-tipsSizeInfo.height;dimension.y+=subLength/2}dimension.mapId=mapId}else{layoutY=target.clientHeight/2;layoutX=target.clientWidth+15;offsetLeft=$(target).offset().left;dimension={x:parseInt(offsetLeft,10)+layoutX,y:$(target).offset().top,arrowDirection:"left",arrowVeritical:layoutY-15};limitLength=$(window).width()-dimension.x;if(limitLength<tipsSizeInfo.width){dimension.arrowDirection="right";dimension.x-=layoutX;dimension.x-=tipsSizeInfo.width;if(offsetLeft<tipsSizeInfo.width){dimension.arrowDirection="left";lengthAppending=tipsSizeInfo.width-offsetLeft+5;dimension.x+=lengthAppending;dimension.x+=layoutX/2}}if(target.clientHeight>tipsSizeInfo.height){subLength=target.clientHeight-tipsSizeInfo.height;dimension.y+=subLength/2;dimension.arrowVeritical=tipsSizeInfo.height/2}}return dimension},getValidHref:function(targetElem){var config=this.baseInfo;var target=$(targetElem);var href;var regUrl=/^http:/,regUrlBegin=/^\//,regDealDangDang=/^http:\/\/union.dangdang.com/;var i,temptElem,depth=config.depth;var pathnameIndex,pathFolder;var backurl,httpIndex,backurlIndex;if(cache.data!==undefined&&cache.data.itemRe!==undefined){itemRe=new RegExp(cache.data.itemRe)}else{return}for(i=0;i<depth;i+=1){href=target.attr(config.attr);if(href!==undefined&&href!==""){break}target=$(target).parent()}if(regDealDangDang.test(href)){backurlIndex=href.lastIndexOf("&backurl=");backurl=href.substring(backurlIndex);httpIndex=backurl.indexOf("http:");href=backurl.substring(httpIndex)}if(!regUrl.test(href)){if(!regUrlBegin.test(href)){pathnameIndex=pathname.lastIndexOf("/");if(pathnameIndex>0){pathFolder=pathname.substring(0,pathnameIndex);href=pathFolder+"/"+href}else{href="/"+href}}href=protocol+"//"+hostname+href}if(itemRe!==undefined&&!itemRe.test(href)){return}return href},renderView:function(resultObj,href,dimension){var view;var that=this;var priceInfo;if(!this.isEmpty(resultObj)){return}if(href!==that.hrefMouseIn){return}priceInfo=that.viewHelper(resultObj);that.priceInfo=priceInfo;view=_.template(this.view)({dimensionY:dimension.y,dimensionX:dimension.x,arrowDirection:dimension.arrowDirection,arrowVeritical:dimension.arrowVeritical,link:priceInfo.link,type:priceInfo.type,img:resultObj.img,site:resultObj.site,priceInfo:priceInfo,detail:priceInfo.detail,url:resultObj.imgurl,isDataURISupported:that.isDataURISupported});$("body").append(view);this.timeShowBegin=new Date()},viewHelper:function(resultObj){var priceInfo={};var max=resultObj.max,min=resultObj.min,hasLower=resultObj.hasLower,link=resultObj.link,lowestSite=resultObj.lowestSite,lowestPrice=resultObj.lowestPrice,today=resultObj.today;if(lowestPrice){priceInfo.lowestPrice=lowestPrice;priceInfo.lowestClass="youdaoGWZS_hoverHistory_lowest";priceInfo.clusterUrl=resultObj.clusterUrl;priceInfo.isHaveLowest=true}else{priceInfo.lowestPrice="暂无";priceInfo.lowestClass="";priceInfo.isHaveLowest=false}if(link&&link.type==="guide"){priceInfo.type="guide"}else{if(link&&link.type==="discount"){priceInfo.type="discount"}else{priceInfo.type=""}}priceInfo.link=link;priceInfo.todayValue=today;priceInfo.maxValue=max;priceInfo.minValue=min;priceInfo.showToday=false;priceInfo.hasLower=hasLower;priceInfo.lowestSite=lowestSite+"更低价";if(max===min){priceInfo.showToday=true;priceInfo.todayOnly=true;priceInfo.todayText="今日："}else{if(max===today){priceInfo.maxText="今日最高：";priceInfo.minText="最低："}else{if(min===today){priceInfo.todayMin=true;priceInfo.maxText="最高：";priceInfo.minText="今日最低："}else{priceInfo.showToday=true;priceInfo.todayText="今日：";priceInfo.maxText="最高：";priceInfo.minText="最低："}}}return priceInfo},isEmpty:function(obj){var k;return((function(){for(k in obj){return k}})()!==null?true:false)},removeView:function(){var showTime;var timeCounterRequest;var thisItem=this.hrefList[this.hrefMouseIn];if($("#youdaoGWZS_hover-tips").length>0){$("#youdaoGWZS_hover-tips").remove()}if(thisItem&&!thisItem.isSendLog){showTime=(new Date())-this.timeShowBegin;if(showTime>1000){showTime=Math.round(showTime/100)/10;timeCounterRequest=thisItem.timeCounterRequest;timeCounterRequest=Math.round(timeCounterRequest/100)/10;isCluster=thisItem.lowestPrice?1:0;this.sentLogInfo("HISTORY_HOVER3",timeCounterRequest,showTime,isCluster);thisItem.isSendLog=true}this.timeShowBegin=undefined}},sentLogInfo:function(action,responseTime,showTime,isCluster){var logType="ARMANI_EXTENSION_ACTION";var logAction=action;var temptImg=new Image();var json,params;var priceInfo;priceInfo=this.priceInfo;json={action:action,browser:cache.localConf.browser||cache.conf.browser,extensionid:cache.localConf.extensionid||"",cluster:isCluster,vendor:cache.conf.vendor,type:logType,murl:this.hrefMouseIn};if(responseTime){json.t1=responseTime}if(showTime){json.t2=showTime}if(priceInfo.link){json.linktype=encodeURIComponent(priceInfo.link.type);json.anchor=priceInfo.link.anchor;json.target=encodeURIComponent(priceInfo.link.target)}if(priceInfo.hasLower){json.hasLower=true}params=util.comboParams(json);temptImg.src=consts.logUrl+"?"+params;return true},view:'<<div id="youdaoGWZS_hover-tips" style="position:absolute; top:<%= dimensionY %>px;left:<%= dimensionX %>px; "class="clearfix youdaoGWZS_hover-tips<%= type %>"><div class="youdaoGWZS_hover-tips-hd"></div><h3><span class="logo"></span><span>价格预览</span></h3><% if (isDataURISupported) { %><img src="data:image/png;base64,<%= img %>" /><% } else { %><img src="<%= url %>" /><% } %><% if (!priceInfo.todayOnly) { %><ul><li><span><%= priceInfo.maxValue %></span></li><li class="min <%= priceInfo.todayMin ? "todayMin ":""  %>" ><span><%= priceInfo.minValue %></span></li></ul><% } %><div class="other-vendor-wrapper"><p class="other-vendor-content"style="<% if (!priceInfo.isHaveLowest) { %>margin-top: 12px;<% } %>"> <% if (priceInfo.isHaveLowest) { %><a class="<%= priceInfo.lowestClass %>" target="_blank"clkAction = "HISTORY_HOVER3_BUTTON_CLICK" href="<%= priceInfo.clusterUrl %>"><i></i><%= priceInfo.hasLower ? priceInfo.lowestSite : "其他商家最低价" %>：<%= priceInfo.lowestPrice %></a><a class="see-other-vendor" target="_blank" clkAction = "HISTORY_HOVER3_BUTTON_CLICK" href="<%= priceInfo.clusterUrl %>">去看看</a><% } else { %><span><i></i> 其他商家最低价：暂无</span><% } %></p></div><% if (link) { %><div class="see-guide"><a href="<%= link.target %>" target="_blank"><%= link.anchor %></a><i></i></div><% } %><p class="mothsAgo"><span class="longTime">2月前</span><span>1月前</span></p><% if (priceInfo.showToday) { %><p class="todayPrice"><span><%= priceInfo.todayValue %></span></p><% } %><span class="<%= arrowDirection %> arrow "style="top:<%= arrowVeritical %>px"></span></div>'};hoverHistoryInfo.trigger()}(youdao));(function(yd){var $=yd.jQuery;var _=yd._;var cache=yd.require_module("youdao.cache"),consts=yd.require_module("youdao.consts"),code=yd.require_module("youdao.code"),util=yd.require_module("youdao.util");var msg=yd.reg("galleryDiscount");var items={};var sale;var galleryDiscount={traverseImg:function(items){var mapCollection={};var isInterval;var that=this;$("a img").each(function(){var target=$(this),$img=target;var href;var i,j,length=items.length;var marginTop,itemInfor;var imgSiblings,blockTarget,positionValue;var isUseAP=false;var isBackCompt=cache.conf.backCompat;var domain=document.domain;if(($img.height()<60)||($img.width()<70)){return}for(i=0;i<3;i+=1){href=target.attr("href");if(href){href=href.toLowerCase()}if(href!==undefined&&href!==""){break}target=$(target).parent()}for(i=0;i<length;i+=1){if(href&&!items[i].hasShow&&href.indexOf(items[i].url)!==-1){imgSiblings=$img.siblings();if(imgSiblings.length>0){imgSiblings.each(function(){var sibling=$(this);if(sibling.css("position")==="absolute"){isUseAP=true}})}else{isUseAP=false}blockTarget=$img.parent();if(!isUseAP){for(j=0;j<3;j+=1){positionValue=$(blockTarget).css("width");if(positionValue!=="auto"){break}blockTarget=$(blockTarget).parent()}$(blockTarget).css({position:"relative"})}itemInfor=that.getInforItem(items[i]);marginTop=$img.height()+5;marginLeft=$img.width()+20;temptView=_.template(that.itemInAnchorViw)({discount:itemInfor.discount,type:itemInfor.type,flag:itemInfor.flag,color:itemInfor.color,content:itemInfor.content,marginTop:marginTop,marginLeft:marginLeft,isUseAP:isUseAP});$img.parent().append(temptView);items[i].hasShow=true;break}}$(document).delegate(".youdaoGWZS_gallerTips","click",function(e){e.preventDefault()})});$("img[usemap]").each(function(){var validHrefList=[];var imgSelector=$(this).attr("usemap");var mapId=imgSelector.substring(1);var mapIndex="youdaoGWZS_"+mapId;var imgPositionLeft=$(this).offset().left;var imgPositionTop=$(this).offset().top;var areaSleletor='[name="'+mapId+'"] area';var mapParent=$("#"+mapId).parent();var docScrollTop=$(document).scrollTop();var actualTop=imgPositionTop-docScrollTop;var isDisplay=true;if(!imgPositionLeft&&!actualTop){isDisplay=false;isInterval=true}$(areaSleletor).each(function(){var validItem={};var self=this;var areaHref=($(self).attr("href")),areaCoords=$(self).attr("coords").split(","),areaPosition=util.getCoordsPosition(areaCoords);var i,itemInfor,length=items.length;if(!areaHref){return}for(i=0;i<length;i++){if(areaHref.indexOf(items[i].url)!==-1){itemInfor=that.getInforItem(items[i]);validItem.href=areaHref;validItem.left=areaPosition.left;validItem.top=areaPosition.top;validItem.desc=itemInfor.desc;validItem.style=itemInfor.style;validItem.discount=itemInfor.discount;validItem.price=itemInfor.price;validItem.content=itemInfor.content;validHrefList.push(validItem);items[i].url="hasShow";break}}});if(validHrefList.length>0){mapCollection[mapIndex]={};mapCollection[mapIndex].id=mapIndex;mapCollection[mapIndex].imgSelector=imgSelector;mapCollection[mapIndex].left=imgPositionLeft;mapCollection[mapIndex].top=imgPositionTop;mapCollection[mapIndex].validList=validHrefList;mapCollection[mapIndex].isDisplay=isDisplay}});that.renderMapTips(mapCollection,isInterval);if(!util.isEmptyObject(mapCollection)){that.listenResizeEvent(mapCollection)}},listenResizeEvent:function(mapCollection){$(window).bind("resize",function(){$("img[usemap]").each(function(){var mapIndex="youdaoGWZS_"+$(this).attr("usemap").substring(1);var imgPositionLeft=$(this).offset().left;var imgPositionTop=$(this).offset().top;if(mapCollection.hasOwnProperty(mapIndex)){$("#"+mapIndex).css({top:imgPositionTop,left:imgPositionLeft})}})})},getInforItem:function(item){var tyle,content,temptView,flag,color;var itemInfor={};type=item.type;switch(type){case"lowest":style="price-lowest";content="折";color="#fff";flag=true;break;case"fall":style="price-decline";content="折";flag=true;color="#006f00";break;case"steady":style="price-stable";content="平稳";color="#666";break;case"rise":style="price-rise";content="上涨";color="#fff";break;default:style="price-stable";content="平稳";color="#666";break}itemInfor.style=style;itemInfor.color=color;itemInfor.flag=flag;itemInfor.content=content;itemInfor.discount=item.discount;itemInfor.price=item.price;itemInfor.href=item.href;return itemInfor},renderMapTips:function(mapCollection,isInterval){var mapItem,itemTemptView;var i,listLength,temptItem,temptDiv;var that=this;var isCoo8Site,overflowValue,firstChildElem,scrollTopValue;var listenList=[];firstChildElem=$($("body").children()[0]);overflowValue=firstChildElem.css("overflow");scrollTopValue=firstChildElem.scrollTop();isCoo8Site=(overflowValue==="auto")?true:false;for(mapItem in mapCollection){if(mapCollection.hasOwnProperty(mapItem)){temptItem=mapCollection[mapItem];listLength=temptItem.validList.length;temptDiv=document.createElement("div");temptDiv.id=temptItem.id;listenList.push(temptItem.imgSelector);temptDiv.style.position="absolute";temptDiv.style.top=temptItem.top+scrollTopValue+"px";temptDiv.style.left=temptItem.left+"px";temptDiv.style.display=temptItem.isDisplay?"block":"none";for(i=0;i<listLength;i++){itemTemptView=_.template(that.itemView)({top:temptItem.validList[i].top,left:temptItem.validList[i].left,style:temptItem.validList[i].style,flag:temptItem.validList[i].flag,discount:temptItem.validList[i].discount,href:temptItem.validList[i].href,content:temptItem.validList[i].content});$(temptDiv).append(itemTemptView)}if(!isCoo8Site){$("body").append(temptDiv)}else{firstChildElem.append(temptDiv)}}}if(isInterval){setInterval(function(){var i,len,selector;var imgUseMap,offsetLeft,offsetTop,imgSelector;for(i=0,len=listenList.length;i<len;i+=1){imgUseMap=listenList[i];imgSelector='img[usemap="'+imgUseMap+'"]';offsetLeft=$($(imgSelector)[0]).offset().left;offsetTop=$($(imgSelector)[0]).offset().top-scrollTopValue;mapId=imgUseMap.substring(1);mapIndex="#youdaoGWZS_"+mapId;if(offsetLeft&&offsetTop){$(mapIndex).css({display:"block",left:offsetLeft,top:offsetTop})}else{$(mapIndex).css({display:"none",left:0,top:0})}}},100)}},itemView:'<div style=" top:<%= top %>px; left: <%= left %>px;"title="惠惠购物助手独家提供价格信息"hoverAction="PRICETAG_HOVER" class="youdaoGWZS_gallerTips youdaoGWZS_<%= style %>"data-url="<%= href %>" data-purpose="GWZS_galleryTip"><span class="disc-num" style="margin-left: 2px"><%= discount %></span><span><%= content %></span></div>',itemInAnchorViw:'<div style="<% if (!isUseAP) { %>top:0px; left: 0px;<% } else { %>margin-top:-<%=  marginTop %>px;_margin-left: -<%= marginLeft %>; _margin-top: 0;<% } %>text-align:center;"title="惠惠购物助手独家提供价格信息"hoverAction="PRICETAG_HOVER" class="youdaoGWZS_gallerTips youdaoGWZS_<%= style %>"data-purpose="GWZS_galleryTip"><span class="disc-num" style="margin-left: 2px; position: static;text-align: center;line-height: 25px;font-size: 12px; font-weight: bolder;display: inline;color: <%= color %>;"><%= discount %></span><span style="position: static;text-align: center;line-height: 25px;font-size: 12px; font-weight: bolder;display: inline;color: <%= color %>;"><%= content %></span></div>'};msg.listen("galleryDiscount_show",function(){var isOpen=cache.conf.isHoverHistoryOpen;sale=cache.data.sale;items=cache.data.sale?cache.data.sale.items:null;if(isOpen==="open"&&items){galleryDiscount.traverseImg(items)}})}(youdao));(function($){var m=$.ns("youdao.modules"),cache=$.require_module("youdao.cache");cache.nosyn.loadin=true;m.loadin=function(callback){var dom=$.require_module("youdao.dom"),consts=$.require_module("youdao.consts");elem=cache.dom.elem;callback.success()}})(youdao);(function($){var m=$.ns("youdao.modules"),cache=$.require_module("youdao.cache");cache.nosyn.loadout=true;consts=$.require_module("youdao.consts");var $jq=$.jQuery;var util=$.require_module("youdao.util");m.loadout=function(callback){var cache=$.require_module("youdao.cache");var dom=$.require_module("youdao.dom");var elem=cache.dom.elem;var self=this,w=dom.outWidth(elem),json={elem:consts.elemId,attr:["fade",100,0,"px"],timer:"vFast",atp:"Line",callback:function(){callback.success()},context:self};var options_html;var options=[];if(cache.localConf.browser==="360se"&&cache.data.conf){options=cache.data.conf.option_360se;options_html='<span style="display: none" id="youdaoGWZS_options">'+cache.data.conf.option_360se+"<span>";$jq("body").append(options_html);options=util.urlToJson(options,";");$jq.each(options,function(key,val){cache.localConf[key]=val});cache.conf.popupFlag=0}json.callback()}})(youdao);(function(youdao,undefined){var STATUS={DEFINED:"The module is just DEFINED",INITIALIZED:"The module is compiled and module.exports is available."};if(youdao.define){return}function isFunction(obj){return Object.prototype.toString.call(obj)==="[object Function]"}var moduleCache={};var parent;var entryModuleIdentifier=null;entryModuleIdentifier="./main.js";if(!entryModuleIdentifier){throw new Error("No data-main attribute in script tag.")}function require(identifier){if(!moduleCache[identifier]){throw new Error("Module "+identifier+" is not defined.")}var foreign=moduleCache[identifier];if(foreign.module.status!==STATUS.INITIALIZED){initializeModule(identifier)}return foreign.module.exports}function initializeModule(identifier){var current=moduleCache[identifier],module=current.module,exports=module.exports,factory=module.factory;module.parent=parent;parent=current;if(isFunction(factory)){var ret=factory(require,exports,module);if(ret!==undefined){module.exports=ret}}else{module.exports=moduleCache[identifier].factory}module.status=STATUS.INITIALIZED}function define(identifier,dependencies,factory){if(moduleCache[identifier]){throw new Error("Module "+identifier+" has been defined already.")}if(typeof factory==="undefined"){factory=dependencies}if(isFunction(factory)||factory===Object(factory)){moduleCache[identifier]={module:{id:identifier,exports:{},uri:"",dependencies:[],parent:undefined,factory:factory,status:STATUS.DEFINED}};if(identifier===entryModuleIdentifier){initializeModule(identifier)}}else{throw new Error("factory of module "+identifier+" must be an object or a function.")}}youdao.define=define})(window.youdao);youdao.define("modules/comment/comment.html",function(){return' <li hui-mod="comment" hui-type="hoverMod" class="hui-shopping-comment hui-fz12">\n    <a class="hui-sp hui-sp11" target="_blank"  clkaction="REVIEWTAG_CLICK" hoveraction="REVIEWTAG_HOVER" href="<%= _comment.urlPrefix %>">\n        <span class="hui-icon-cont"><em class="hui-sp hui-sp7"></em></span><br />\n        差评(<em class="hui-shopping-lh"><%=_comment.total%></em>)\n    </a>\n</li>\n'});youdao.define("modules/comment/comment.js",function(require,exports){var yd=youdao;var $=yd.jQuery;var _=yd._;var tmpl=require("modules/comment/comment.html");var mod=yd.mod;var name="comment";mod[name]={template:tmpl,event:function(){var $mod=$('hui-mod=["'+name+'"]');var q={}}}});youdao.define("modules/container/container.html",function(){return' <div hui-mod="container" class="hui-shoppingtool\n    <% if (_container.code === "110000") { %>\n    hui-shopping-min\n    <% } %>\n    ">\n    <table width="100%" cellspacing="0" cellpadding="0" border="0">\n        <tbody>\n            <tr>\n                <td class="hui-shopping-nav">\n                    <ul>\n                        ##parse("logo")\n                        ##parse("subBookmarks")\n                    <% if (_container.coupons) { %>\n                        <% _quan = _container.coupons %>\n                        ##parse("quan")\n                    <% } %>\n                    </ul>\n                </td>\n                <td hui-type="midBox" class="hui-shopping-cont">\n\n                    <ul hui-type="shop-ext" class="hui-shopping-ext">\n\n                        ##parse("faq")\n                    <% if (_container.douban) { %>\n                        <% _douban = _container.douban %>\n                        ##parse("douban")\n                    <% } %>\n                    <% if (_container.reviewTags) { %>\n                        <% _comment = _container.reviewTags %>\n                        ##parse("comment")\n                    <% } else if (_container.code === "111100") {%>\n                    <% _taosimilar = _container.sameType %>\n                        ##parse("taosimilar")\n                    <% _taosame = _container.sameType %>\n                        ##parse("taosame")\n                    <% } %>\n\n                    <% if (_container.priceHistory) { %>\n                        <% _pricestate = {data: _container.priceHistoryTip, tip: _container.isHisLowest} %>\n                        <% _pricestate.defXml = _container.priceHistory %>\n                        <% _pricestate.yearXml = _container.priceHistoryOneYear %>\n                        ##parse("pricestate")\n                    <% } %>\n\n                    </ul>\n\n                    <% if (_container.shopList && _container.shopList.length ) { %>\n                        <% _csprice = _container.shopList %>\n                        ##parse("csprice")\n                    <% } else if (_container.urlPriceList && _container.urlPriceList.length ) { %>\n                    <% _price = { list: _container.urlPriceList, tip: _container.hasLower } %>\n                    <% _price.more = _container.detailUrl %>\n                        ##parse("price")\n                    <% } else if (_container.priceHistoryTip && _container.priceHistoryTip.long ) { %>\n                        <% _historyInfo = _container.priceHistoryTip %>\n                        ##parse("historyInfo")\n                    <% } %>\n                        \n                </td>\n                <td class="hui-sp hui-sp4">\n                    <a hui-type="switch" clkaction="CLOSE_CLICK" class="hui-sp hui-sp5" hidefocus="true" href="#"></a>\n                </td>\n            </tr>\n        </tbody>\n    </table>\n</div>\n'});youdao.define("modules/container/container.js",function(require,exports){var yd=youdao;var cache=yd.require_module("youdao.cache");var consts=yd.require_module("youdao.consts");var util=yd.require_module("youdao.util");var msg=yd.reg("recommand");var $=yd.jQuery;var _=yd._;var tmpl=require("modules/container/container.html");var mod=yd.mod;var name="container";mod[name]={template:tmpl,event:function($mod){var q={switchBtn:'[hui-type="switch"]',hoverMod:'[hui-type="hoverMod"]',minBox:'td[hui-type="midBox"]',ext:'ul[hui-type="shop-ext"]',lightBox:"div.hui-shopping-lightbox"};var activeCss="hui-active";var rightCss="hui-active-right";var $hoverBtn;var timer;$mod.delegate(q.switchBtn,"click",function(e){e.preventDefault();var currentCss="hui-minishoppingtool";$mod.toggleClass(currentCss)}).delegate(q.hoverMod,"mouseenter",function(e){var $self=$(this);clearTimeout(this.timer);this.timer=setTimeout(function(){$self.addClass(activeCss);var $lightBox=$self.find(q.lightBox);var offset=$lightBox.offset();var left=(offset)?offset.left:0;var right=left+$lightBox.width();if(right>$(window).width()){$self.addClass(rightCss)}$mod.sMsg({type:"enter-mod",$elem:$self,hoverCSS:activeCss})},200)}).delegate(q.hoverMod,"mouseleave",function(e){var $self=$(this);clearTimeout(this.timer);this.timer=setTimeout(function(){$self.removeClass(activeCss);$self.removeClass(rightCss);$mod.sMsg({type:"leave-mod",$elem:$self,hoverCSS:activeCss})},200)});$mod.lMsg("render",function(args){if(args.type!=="reset"){return}$mod.sMsg({type:"hide"});var extW=$mod.find(q.ext).width();var priceWrapWidth=$mod.find(q.minBox).width()-extW;$mod.sMsg({type:"priceWrapWidth",width:priceWrapWidth})})}}});youdao.define("modules/csprice/csprice.html",function(){return' <ul hui-mod="csprice" class="hui-shopping-csext hui-fr hui-fz12">\n    <% _.each(_csprice, function (item, num) { %>\n\n    <li hui-type="hoverMod" class="hui-shopping-cs\n            <% if (item.isDiscount) {%>\n            hui-cs-all\n            <% } %>\n    ">\n    <a class="hui-cs-item hui-sp hui-sp11"\n    <% if (item.isDiscount) { %>\n    hoverAction="CS_SALE_HOVER" clkAction="CS_SALE_CLICK"\n    <% } else if (num === 0) { %>\n    hoverAction="CS_ALL_HOVER" clkAction="CS_ALL_CLICK"\n    <% } else { %>\n    hoverAction="CS_B2C_HOVER" clkAction="CS_B2C_CLICK"\n    <% } %>\n        target="_blank" href="<%=item.moreurl%>">\n            <%=item.siteName%>\n            <% if (item.isDiscount) {%>\n            最低<span class="hui-fwb hui-shopping-lh"><%=item.lowestDiscount%></span>\n            <% } else { %>\n                <% if (num === 0) { %>\n                <span class="hui-fwb hui-shopping-lh"><%=item.resultNum%>款</span>\n                <% } %>\n            <% } %>\n        </a>\n        <div class="hui-shopping-lightbox">\n                <div class="hui-shopping-lightbox-hd"></div>\n                <div class="hui-shopping-lightbox-title hui-color333 hui-fwb"><%=item.siteName%></div>\n                        <div id="youdaoGWZSSubList">\n            <ul class="hui-item-list hui-clearfix">\n                <% _.each(item.items, function (one, key) { %>\n                <% if (key > 2) return; %>\n                <li class="\n                <% if (key === 2) { %>\n                    hui-item-list-last\n                <% } %>\n                ">\n                    <div class="hui-item-thumb">\n                        <% if (one.isHistoricLowest) { %>\n                        <span class="hui-icon-lszd"></span>\n                        <% } %>\n                        <a target="_blank" \n    <% if (item.isDiscount) { %>\n    hoverAction="CS_SALE_HOVER" clkAction="CS_SALE_CLICK"\n    <% } else if (num === 0) { %>\n    hoverAction="CS_ALL_HOVER" clkAction="CS_ALL_CLICK"\n    <% } else { %>\n    hoverAction="CS_B2C_HOVER" clkAction="CS_B2C_CLICK"\n    <% } %>\n                             href="<%=one.url %>" title="<%=one.name%>">\n                             \n                            <img src="<%=one.imgUrl %>" width="90" height="90" />\n                        </a>\n                    </div>\n                    <div class="hui-item-detail">\n                        <a target="_blank"\n    <% if (item.isDiscount) { %>\n    hoverAction="CS_SALE_HOVER" clkAction="CS_SALE_CLICK"\n    <% } else if (num === 0) { %>\n    hoverAction="CS_ALL_HOVER" clkAction="CS_ALL_CLICK"\n    <% } else { %>\n    hoverAction="CS_B2C_HOVER" clkAction="CS_B2C_CLICK"\n    <% } %>\n                            href="<%=one.url %>" title="<%=one.name%>">\n                            <%=one.title%>\n                        </a>\n                        <p class="hui-fwb hui-shopping-lh">\n                        <%=one.price%>元\n                        </p>\n                        <% if (one.discount) { %>\n                        <div class="hui-item-discount hui-sp hui-sp20"><%=one.discount%>折</div>\n                        <% } %>\n                    </div>\n                </li>\n                <% }); %>\n            </ul>\n            <div class="hui-item-ft">\n                <a class="hui-color999" \n                <% if (item.isDiscount) {%>\n                clkAction="CS_SALE_MORE_CLICK"\n                <% } else if (num === 0) { %>\n                clkAction="CS_ALL_MORE_CLICK"\n                <% } else { %>\n                clkAction="CS_B2C_MORE_CLICK"\n                <% } %>\n                    target="_blank" href="<%=item.moreurl %>">去看更多<span class="hui-sp hui-sp16"></span></a>\n            </div>\n        </div>\n        </div>\n    </li>\n    <% }); %>\n</ul>\n'});youdao.define("modules/csprice/csprice.js",function(require,exports){var yd=youdao;var $=yd.jQuery;var _=yd._;var tmpl=require("modules/csprice/csprice.html");var mod=yd.mod;var name="csprice";mod[name]={template:tmpl,event:function($mod){var $items=$mod.find('li[hui-type="hoverMod"]');var checkCount=function(args){var width=args.width;if(width<=0){$mod.css("display","none")}$mod.show();$items.show();var num=$items.length;if($mod.width()<width){return}while(num>0&&$mod.width()>width){$items.eq(--num).css("display","none")}};var hide=function(){$mod.hide()};var filter=function(args){var fn={priceWrapWidth:checkCount,hide:hide};if(fn[args.type]){fn[args.type](args)}};$mod.lMsg("container",filter)}}});youdao.define("modules/douban/douban.html",function(){return' <li hui-mod="douban" hui-type="hoverMod" class="hui-shopping-douban hui-fz12">\n    <a class="hui-sp hui-sp11" target="_blank" hoverAction="DOUBAN_HOVER" href="<%=_douban.doubanUrl%>">\n    <span class="hui-icon-cont"><em class="hui-sp hui-sp27"></em></span><br />\n    豆瓣<span class="hui-shopping-lh"><%=_douban.doubanRate %></span>\n    </a>\n        <div class="hui-shopping-lightbox">\n            <div class="hui-shopping-lightbox-hd"></div>\n            <div class="hui-shopping-lightbox-title hui-color333 hui-fwb">豆瓣书评</div>\n            <div class="hui-douban-cont">\n                <div class="hui-douban-rates">\n                    <span class="hui-sp hui-sp28">\n                        <em class="hui-sp hui-sp29" style="width:<%=_douban.doubanRate * 10%>%;"></em>\n                    </span><b class="hui-fwb hui-shopping-lh hui-fz16 hui-douban-point"><%=_douban.doubanRate%></b> <span class="hui-color999">(<%=_douban.doubanRateCount%>人)</span>\n                </div>\n                <% if (_douban.doubanReview && _douban.doubanReview.summary) { %>\n                <dl class="hui-douban-comment">\n                    <dt class="hui-fwb">\n                        本书热门评论\n                    </dt>\n                    <dd>\n                        <%=_douban.doubanReview.summary%>\n                        <a class="hui-color999" target="_blank" clkAction="DOUBAN_DETAIL_CLICK" href="<%=_douban.doubanReview.url%>" title="更多">更多>></a>\n                    </dd>\n                </dl>\n                <div class="hui-douban-extinfo hui-color999"><em class="hui-sp hui-sp30"></em><%=_douban.doubanReview.author%> <em class="hui-sp hui-sp31"></em><%=_douban.doubanReview.pubdate%></div>\n                <% } else { %>\n                <div class="hui-douban-nocomment hui-color999">本书暂无热门评论</div>\n                <% } %>\n            </div>\n            <div class="hui-douban-ft">\n                <a target="_blank" clkAction="DOUBAN_DETAIL_CLICK" href="<%=_douban.doubanUrl%>">去看该书详情<span class="hui-sp hui-sp16"></span></a>\n            </div>\n        </div>\n</li>\n'});youdao.define("modules/douban/douban.js",function(require,exports){var yd=youdao;var $=yd.jQuery;var _=yd._;var tmpl=require("modules/douban/douban.html");var mod=yd.mod;var name="douban";mod[name]={template:tmpl,event:function($mod){}}});youdao.define("modules/faq/faq.html",function(){return' <li hui-mod="faq" hui-type="hoverMod" class="hui-shopping-faq hui-fz12">\n    <a class="hui-sp hui-sp11" clkAction="FEEDBACK_CLICK" href="http://zhushou.huihui.cn/suggest" target="_blank" title="意见反馈">\n        <span class="hui-icon-cont"><em class="hui-sp hui-sp8"></em></span><br />\n        反馈\n    </a>\n</li>\n'});youdao.define("modules/faq/faq.js",function(require,exports){var yd=youdao;var $=yd.jQuery;var _=yd._;var tmpl=require("modules/faq/faq.html");var mod=yd.mod;var name="faq";mod[name]={template:tmpl,event:function($mod){}}});youdao.define("modules/feed/feed.html",function(){return' <li hui-mod="feed" hui-type="hoverMod" class="hui-shopping-feed">\n    <a class="hui-sp hui-sp11" href="">\n        <span class="hui-sp hui-sp3"></span>\n    </a>\n    <div class="hui-shopping-lightbox">\n        <div class="hui-sp hui-sp12"></div>\n        <div class="hui-shopping-lightbox-title hui-color333 hui-fwb">订阅的商品列表</div>\n        <div id="youdaoGWZSSubList">\n            <ul class="hui-clearfix">\n                <li>\n                    <div class="hui-feed-thumb">\n                        <span class="hui-sp hui-sp17"></span>\n                        <a href="#">\n                            <img src="http://zhushou.huihui.cn/images/coupon/11c26206d101fd84b052a09205753690.png" width="90" height="90" />\n                        </a>\n                    </div>\n                    <div class="hui-feed-detail">\n                        <a href="#">双立人26寸全铁无烟平t底锅</a>\n                        <p class="hui-fwb hui-shopping-lh">7888.00元</p>\n                    </div>\n                    <div class="hui-feed-setnav">\n                        <a class="hui-sp hui-sp18" href="#"></a>\n                        <div class="hui-feed-setnav-line"></div>\n                        <a class="hui-sp hui-sp19" href="#"></a>\n                    </div>\n                </li>\n                <li>\n                    <div class="hui-feed-thumb">\n                        <span class="hui-sp hui-sp17"></span>\n                        <a href="#">\n                            <img src="http://zhushou.huihui.cn/images/coupon/11c26206d101fd84b052a09205753690.png" width="90" height="90" />\n                        </a>\n                    </div>\n                    <div class="hui-feed-detail">\n                        <a href="#">双立人26寸全铁无烟平t底锅</a>\n                        <p class="hui-fwb hui-shopping-lh">7888.00元</p>\n                    </div>\n                    <div class="hui-feed-setnav">\n                        <a class="hui-sp hui-sp18" href="#"></a>\n                        <div class="hui-feed-setnav-line"></div>\n                        <a class="hui-sp hui-sp19" href="#"></a>\n                    </div>\n                </li>\n                <li class="hui-feedlist-last">\n                    <div class="hui-feed-thumb">\n                        <span class="hui-sp hui-sp17"></span>\n                        <a href="#">\n                            <img src="http://zhushou.huihui.cn/images/coupon/11c26206d101fd84b052a09205753690.png" width="90" height="90" />\n                        </a>\n                    </div>\n                    <div class="hui-feed-detail">\n                        <a href="#">双立人26寸全铁无烟平t底锅</a>\n                        <p class="hui-fwb hui-shopping-lh">7888.00元</p>\n                    </div>\n                    <div class="hui-feed-setnav">\n                        <a class="hui-sp hui-sp18" href="#"></a>\n                        <div class="hui-feed-setnav-line"></div>\n                        <a class="hui-sp hui-sp19" href="#"></a>\n                    </div>\n                </li>\n                <li>\n                    <div class="hui-feed-thumb">\n                        <span class="hui-sp hui-sp17"></span>\n                        <a href="#">\n                            <img src="http://zhushou.huihui.cn/images/coupon/11c26206d101fd84b052a09205753690.png" width="90" height="90" />\n                        </a>\n                    </div>\n                    <div class="hui-feed-detail">\n                        <a href="#">双立人26寸全铁无烟平t底锅</a>\n                        <p class="hui-fwb hui-shopping-lh">7888.00元</p>\n                    </div>\n                    <div class="hui-feed-setnav">\n                        <a class="hui-sp hui-sp18" href="#"></a>\n                        <div class="hui-feed-setnav-line"></div>\n                        <a class="hui-sp hui-sp19" href="#"></a>\n                    </div>\n                </li>\n                <li>\n                    <div class="hui-feed-thumb">\n                        <span class="hui-sp hui-sp17"></span>\n                        <a href="#">\n                            <img src="http://zhushou.huihui.cn/images/coupon/11c26206d101fd84b052a09205753690.png" width="90" height="90" />\n                        </a>\n                    </div>\n                    <div class="hui-feed-detail">\n                        <a href="#">双立人26寸全铁无烟平t底锅</a>\n                        <p class="hui-fwb hui-shopping-lh">7888.00元</p>\n                    </div>\n                    <div class="hui-feed-setnav">\n                        <a class="hui-sp hui-sp18" href="#"></a>\n                        <div class="hui-feed-setnav-line"></div>\n                        <a class="hui-sp hui-sp19" href="#"></a>\n                    </div>\n                </li>\n                <li class="hui-feedlist-last">\n                    <div class="hui-feed-thumb">\n                        <span class="hui-sp hui-sp17"></span>\n                        <a href="#">\n                            <img src="http://zhushou.huihui.cn/images/coupon/11c26206d101fd84b052a09205753690.png" width="90" height="90" />\n                        </a>\n                    </div>\n                    <div class="hui-feed-detail">\n                        <a href="#">双立人26寸全铁无烟平t底锅</a>\n                        <p class="hui-fwb hui-shopping-lh">7888.00元</p>\n                    </div>\n                    <div class="hui-feed-setnav">\n                        <a class="hui-sp hui-sp18" href="#"></a>\n                        <div class="hui-feed-setnav-line"></div>\n                        <a class="hui-sp hui-sp19" href="#"></a>\n                    </div>\n                </li>\n            </ul>\n            <div class="hui-shopping-feed-page hui-tac">\n                <a class="hui-sp hui-sp13" href="#"></a> <span class="hui-feed-pages"><em class="hui-shopping-lh">1</em>  /  8</span> <a class="hui-sp hui-sp14" href="#"></a>\n            </div>\n        </div>\n        <div class="hui-nofeedtips hui-colorb2">\n            暂无订阅<br />\n            您订阅的商品可在此快速查看和管理\n        </div>\n    </div>\n</li>\n'});youdao.define("modules/feed/feed.js",function(require,exports){var yd=youdao;var cache=yd.require_module("youdao.cache");var $=yd.jQuery;var _=yd._;var tmpl=require("modules/feed/feed.html");var mod=yd.mod;var name="feed";mod[name]={template:tmpl,event:function($mod){}};var default_conf={q:"/api/pricehub/",itemOffsetX:133,itemOffsetY:185,colums:3,perItems:6,perOffset:399,startPos:0,port:""};function AjaxSlide(conf){this.conf=$.extend({},default_conf,conf);this.init()}AjaxSlide.prototype={init:function(){var self=this;var cfg=self.conf;var pos=self.conf.startPos;self.rightPage=0;self.cacheLists=[];self.lastRequestStart=self.rightPage*cfg.perItems;self.doRequest("detail",function(data){self.total=data.total;self.initWrapper(data);if(self.pageType==="noData"){return}self.rightPage=1;self.currentLeft=0;self.initCurQueue(data);self.lastRequestStart=self.rightPage*cfg.perItems;self.doRequest("detail",self.initCurQueue,{email:cfg.email,start:(self.rightPage*cfg.perItems)})},{email:cfg.email,start:self.rightPage})},doRequest:function(type,callback,params){var self=this;var cfg=self.conf;yd.consts.baseUrl="http://zhushou.huihui.cn";yd.ajax({url:cfg.q+type,contex:self,params:params||"",success:function(data){if($.isFunction(callback)){callback.call(self,data)}}})},initWrapper:function(data){var subLists=data.items;if(subLists.length){if(subLists.length<=this.conf.colums){this.pageType="half"}else{this.pageType="full"}}else{this.pageType="noData"}this.dealPageNum();this.conf.renderWrapper.call(this,this.pageType,this.totalPages)},initCurQueue:function(data){var subLists=data.items;var cfg=this.conf;var self=this;if(!!!data.total){return}_.each(subLists,function(item){var offset;offset=self.getOffset(item.index);item.offsetLeft=offset.left;item.offsetTop=offset.top});this.cacheLists.push.apply(this.cacheLists,subLists);this.total=data.total;this.updateMaxLeft();this.subLists=subLists;cfg.renderItems.call(this,subLists)},updateMaxLeft:function(){var total=this.total;var cfg=this.conf;this.maxLeft=Math.floor(total/cfg.perItems)*cfg.perOffset},getOffset:function(index){var offsetLeft,offsetTop;var cfg=this.conf;offsetLeft=Math.floor(index/cfg.perItems)*cfg.itemOffsetX*cfg.colums+(index%cfg.colums)*cfg.itemOffsetX;offsetTop=(Math.floor(index/cfg.colums)%2)*cfg.itemOffsetY;return{left:offsetLeft,top:offsetTop}},dealPageNum:function(){var total=this.total;var cfg=this.conf;this.totalPages=(total%cfg.perItems)?Math.ceil((total+1)/cfg.perItems):Math.ceil(total/cfg.perItems)},prevPage:function(){var cfg=this.conf;var exceptLeft=-((this.rightPage-2)*cfg.perOffset);if(exceptLeft===0){this.rightPage=1}else{this.rightPage=this.rightPage-1}this.currentLeft=exceptLeft},nextPage:function(){var cfg=this.conf;var exceptLeft=-(this.rightPage*cfg.perOffset);if(Math.abs(exceptLeft)===this.maxLeft){this.rightPage=this.totalPages}else{this.rightPage=this.rightPage+1}this.currentLeft=exceptLeft;var nextPageItem=this.rightPage*cfg.perItems;if(this.cacheLists.length!==this.total){var requestStart=this.cacheLists.length;if(this.lastRequestStart!==requestStart){this.lastRequestStart=requestStart;this.doRequest("detail",this.initCurQueue,{email:cfg.email,start:requestStart})}}var thisPageItem=(this.rightPage-1)*cfg.perItems;if(!!!this.cacheLists[thisPageItem]){this.currentLeft=exceptLeft+cfg.perOffset;this.rightPage=this.rightPage-1;console.log(991);return false}return true},delItem:function(thisIndex){var self=this;var cfg=self.conf;var params=this.getAjaxParams(thisIndex);this.doRequest("del",function(){self.cacheLists.splice(thisIndex,1);var cacheLists=self.cacheLists;var len=cacheLists.length;var i=thisIndex;var offset;this.total=this.total-1;if(!!!len){self.pageType="noData";self.conf.renderWrapper.call(self,self.pageType,self.totalPages);return}for(;i<len;i++){offset=self.getOffset(i);cacheLists[i].offsetLeft=offset.left;cacheLists[i].offsetTop=offset.top;cacheLists[i].index=cacheLists[i].index-1}if(cacheLists.length!==self.total){var requestStart=cacheLists.length;if(self.lastRequestStart!==requestStart){self.lastRequestStart=requestStart;self.doRequest("detail",self.initCurQueue,{email:cfg.email,start:requestStart})}}self.updateMaxLeft();self.dealPageNum();var isPrev;if(self.totalPages<self.rightPage){isPrev=true;self.prevPage()}cfg.dealDel.call(this,thisIndex,cacheLists,isPrev)},params)},modifyItem:function(thisIndex){var self;var self=this;var cfg=self.conf;var params=this.getAjaxParams(thisIndex,true);this.doRequest("query",function(data){self.switchEditData(data,params)},params)},switchEditData:function(queryData,params){var priceList=[];var selectorInfo={};var modifyInfo={};var btnInfo={};var productInfo=params.productid.split(":");if(productInfo[0]==="c"){modifyInfo.clusterId=productInfo[1];modifyInfo.iscluster=true}else{modifyInfo.itemId=productInfo[1]}selectorInfo.famous=true;var checkedCustomList;if(queryData.subType==="CUSTOM"){checkedCustomList=queryData.subedSites.split(",");selectorInfo.initSelected=checkedCustomList.length?checkedCustomList.join("~"):" ";selectorInfo.famous=false}selectorInfo.listType=queryData.subType;selectorInfo.price=queryData.expectPrice;_.each(queryData.subableSites,function(item,index){var formateItem;formateItem={famous:item.famous,site:item.domain,siteName:item.siteName,avaiable:true,modify:true,isChecked:true,price:queryData.expectPrice,id:index};priceList.push(formateItem)});priceList.push(selectorInfo);modifyInfo.priceList=priceList;btnInfo.x=850;btnInfo.y=$("#youdaoGWZSSubList").offset().top;btnInfo.type="sub";btnInfo.isModify=true;btnInfo.modifyInfo=modifyInfo;msg.send("subscribe",btnInfo)},getAjaxParams:function(index,isQuery){var params={};var subInfo=this.cacheLists[index];if(subInfo.itemid&&subInfo.itemid!=="undefined"){if(isQuery){params.productid=(subInfo.isCluster?"c:":"s:")+subInfo.itemid}else{params.id=subInfo.itemid;params.cluster=subInfo.isCluster?true:false}}cf=cache.localConf||{};email=cf.email||cache.data.email||"";params.extensionid=cf.extensionid||"";params.email=email;params.m=encodeURIComponent(subInfo.url);return params}}});youdao.define("modules/historyInfo/historyInfo.html",function(){return' <div hui-mod="historyInfo" class="hui-shopping-historyInfo hui-fz12">\n    <span>\n    <%=_historyInfo.long%>\n    </span>\n</div>\n'});youdao.define("modules/historyInfo/historyInfo.js",function(require,exports){var yd=youdao;var $=yd.jQuery;var _=yd._;var tmpl=require("modules/historyInfo/historyInfo.html");var mod=yd.mod;var name="historyInfo";mod[name]={template:tmpl,event:function($mod){$mod.show()}}});youdao.define("modules/logo/logo.html",function(){return' <li hui-mod="logo" class="hui-shopping-logo hui-active" hui-type="hoverMod">\n    <a class="hui-sp hui-sp11" clkaction="LOGO_CLICK" hoveraction="LOGO_HOVER" hidefocus="true" title="惠惠购物助手" href="http://www.huihui.cn/?keyfrom=zhushou_logo" target="_blank"><span class="hui-sp hui-sp1"></span></a>\n</li>\n'});youdao.define("modules/logo/logo.js",function(require,exports){var yd=youdao;var $=yd.jQuery;var _=yd._;var tmpl=require("modules/logo/logo.html");var mod=yd.mod;var name="logo";mod[name]={template:tmpl,event:function($mod){var timer;var clearHoverCss=function(args){clearTimeout(timer);timer=setTimeout(function(){var $elem=args.$elem;var name=$elem.attr("hui-mod");if(name&&name==="logo"){return}$mod.removeClass(args.hoverCSS)},300)};var addHoverCss=function(args){clearTimeout(timer);timer=setTimeout(function(){var $elem=args.$elem;var name=$elem.attr("hui-mod");if(name&&name==="logo"){return}$mod.addClass(args.hoverCSS)},300)};var fn={"enter-mod":clearHoverCss,"leave-mod":addHoverCss};var filter=function(args){if(args.type&&fn[args.type]&&$.isFunction(fn[args.type])){fn[args.type](args)}};$mod.lMsg("container",filter)}}});youdao.define("modules/onceTip/onceTip.html",function(){return' <div class="hui-old-sp3 <%=name%>onceTip">\n    <a class="hui-old-sp3 <%=name%>onceTip_close"\n        clkAction="WELCOME_CLOSE_CLICK" href="#">\n        <span> </span>\n    </a>\n    <a class="hui-old-sp3 <%=name%>onceTip_btn" target="_blank"\n        clkAction="WELCOME_BUTTON_CLICK"\n        href="http://zhushou.huihui.cn/installed?type=welcome">\n    </a>\n</div>\n'});youdao.define("modules/onceTip/onceTip.js",function(require,exports){var yd=youdao;var $=yd.jQuery;var _=yd._;var tmpl=require("modules/onceTip/onceTip.html");var cache=yd.require_module("youdao.cache");var consts=yd.require_module("youdao.consts");var util=yd.require_module("youdao.util");var name=consts.commonName;var msg=yd.reg("oncetip");var showOnceTip=function(tmpl){var logType="ARMANI_EXTENSION_POPUP";var logAction="WELCOME_POPUP";if(cache.fn&&cache.fn.sendLog&&util.isFunction(cache.fn.sendLog)){var temp=document.createElement("div");cache.fn.sendLog(logAction,temp,logType)}var onceTip={tmpl:tmpl,mainDom:"#youdaoGWZS",closeBt:"."+name+"onceTip_close",entryBt:"."+name+"onceTip_btn",selfDom:"."+name+"onceTip",close:function(){$(onceTip.selfDom).remove()}};var html=_.template(onceTip.tmpl)({name:name});$(onceTip.mainDom).append(html);$(onceTip.closeBt).live("click",function(e){e.preventDefault();onceTip.close()});$(onceTip.entryBt).live("click",function(e){onceTip.close()})};msg.listen("showOver",function(){var status=cache.localConf.state||"normal";if(status==="install"){if(!/http:\/\/zhushou\.huihui\.cn\/installed/g.test(document.referrer)){showOnceTip(tmpl)}cache.localConf.state="normal"}var sE=document.getElementById(consts.optionsID);if(sE&&cache.localConf){sE.innerHTML=util.jsonToStr(cache.localConf,";")}})});youdao.define("modules/plugHistory/tmpl.html",function(){return' <ul id="hui-plughistory" class="hui-new-sp <%=name%>plug-history <%= consts.plugClass %>">\n\n    <li class="hui-plughistory-ico hui-btn">\n    logo\n    </li>\n\n    <li hui-type="hui-plughistory-sec" class="hui-plughistory-sec hui-btn">\n\n    <a href="#"  hoverAction="HISTORY2_HOVER" \n        class="<%=name%>plug-history-btn hui-old-sp1">\n        <em class="hui-new-sp hui-<%=_pricestate.data.style%>"></em>\n        <%=text%>\n    </a>\n\n    <div class="hui-old-sp-ie hui-shopping-lightbox hui-plug-history-box hui-history-box">\n        <div class="hui-plughistory-hd">\n            <span class="hui-history-logo history-newlogo hui-new-sp"></span>\n            <ul>\n                <li class="hui-history-time">\n                <a hui-type="year-history" clkAction="CHANGE_ALL_TIME" href="#">全部时间</a>\n                </li>\n                <li class="hui-history-time">\n                <a class="hui-history-active" clkAction="CHANGE_TWOMONTH" hui-type="def-history" href="#">两个月</a>\n                </li>\n            </ul>\n        </div>\n\n        <div class="hui-flash" id="hui-plughistory-flash">\n        </div>\n\n        <div class="hui-plughistory-ft hui-tac">\n            <a href="javascript:void(0)" btnType="BUTTON" data-type="deprice-inside"\n                class="hui-old-sp1 deprice-btn subscribe \n                <% if (isSubscribe) {%>deSubscribe<% } %>\n                " clkaction="<% if(isSubscribe){%>PRICEHUB_BUTTON_UNSUB_CLICK<% } else { %>PRICEHUB_BUTTON_SUB_CLICK<% } %>">降价提醒</a>\n        <div class="hui-bottom-line"></div>\n        </div>\n    </div>\n\n    </li><li class="hui-plughistory-deprice hui-btn" hui-type="hui-plughistory-sec">\n    <a href="javascript:void(0)" btnType="DIRECT"\n        data-type="deprice-outside" class="deprice-btn subscribe \n        <% if (isSubscribe) {%>deSubscribe<% } %> hui-deprice-secbtn" \n        clkaction="<% if(isSubscribe){ %>RICEHUB_DIRECT_UNSUB_CLICK<% } else { %>PRICEHUB_DIRECT_SUB_CLICK<% } %>">\n        <em class="hui-new-sp hui-deprice-icon"></em>\n        <span class="deprice-txt-succ"> 订阅成功 </span>\n        <span class="deprice-txt-sub"> 降价提醒 </span>\n        <span class="deprice-txt-cancel"> 取消订阅 </span>\n    </a>\n    </li>\n\n    <% if (isShowTip) { %> \n    <li>\n    <span class="hui-old-sp2 sub-<%= consts.plugClass %>-tip -sub-tip"></span>\n    </li>\n    <% } %>\n</ul>\n'});youdao.define("modules/plugHistory/plugHistory.js",function(require,exports){var yd=youdao;var cache=yd.require_module("youdao.cache");var consts=yd.require_module("youdao.consts");var util=yd.require_module("youdao.util");var modules=yd.require_module("youdao.modules");var name=consts.commonName;var _=yd._;var $=yd.jQuery;var msg=yd.reg("plugHistory");var baseUrl=consts.flashUrl;var showFlash=function(data){var flashvars={data:data};var params={menu:"false",scale:"Scale",wmode:"opaque",allowFullscreen:"true",allowScriptAccess:"always",bgcolor:"#FFFFFF"};var attributes={id:"hui-plughistory-flash","class":"hui-falsh"};swfobject.embedSWF(baseUrl+"trendchart_3_0_2.swf","hui-plughistory-flash","390","200","9.0.0",baseUrl+"expressInstall.swf",flashvars,params,attributes)};var timer;var subscribeBtn=".deprice-btn";var cancelCSS="deSubscribe";var historyQ=".youdaoGWZS_plug-history-box";var tmpl=require("modules/plugHistory/tmpl.html");var plugHistorySelec='li[hui-type="hui-plughistory-sec"]';var plugHistoryBoxSelec="."+name+"plug-history-box";var offsetLeftPlug,offsetTopPlug;var plugHistory={tmpl:tmpl,hoverCSS:name+"plug-history-active",event:function(){$(plugHistorySelec).live("mouseenter",function(){var $self=$(this);$self.addClass("hui-plughistory-active")}).live("mouseleave",function(){var $self=$(this);$self.removeClass("hui-plughistory-active")});$("."+name+"plug-history-btn").live("click",function(e){e.preventDefault()});$(plugHistoryBoxSelec).live("mouseover",function(){if(timer){clearTimeout(timer)}}).live("mouseout",function(){})}};$(document).delegate(".-sub-tip","click",function(){$(this).remove()});$(document).delegate(subscribeBtn,"click",function(e){var plugHistoryBoxSelec="."+name+"plug-history-box";var $self=$(this);var $dom=$(historyQ);var btnType=$self.attr("btnType");var depriceType=$self.attr("data-type");var btnInfo={};btnInfo.x=$self.offset().left+80;btnInfo.y=$self.offset().top+10;btnInfo.type=$self.hasClass(cancelCSS)?"cancel":"sub";btnInfo.$elem=$self;if(depriceType==="deprice-outside"){btnInfo.x=btnInfo.x+250}else{if(depriceType==="deprice-inside"){btnInfo.y=$self.offset().top-70}}if($self.hasClass(cancelCSS)){btnInfo.type="cancel"}else{btnInfo.type="sub";$(plugHistorySelec).removeClass("hui-plughistory-active");$('li[hui-mod="pricestate"]').removeClass("hui-active")}btnInfo.callback=function(statu){var args={};args.statu=statu;args.btnType=btnType;msg.send("changeSubStatus",args)};msg.send("subscribe",btnInfo)});msg.listens({showOver:function(){if(cache.data.pricePositionTag){cache.conf.flag=1;cache.data.priceHub=cache.data.priceHub||{};var hasShownTip;if(cache.localConf){hasShownTip=true}else{hasShownTip=cache.localConf.hasShownTip}var isShowTip;if(!!!hasShownTip){isShowTip=true;cache.localConf.hasShownTip=true;msg.send("showSubTip")}var html=_.template(plugHistory.tmpl)({name:name,historyPriceClassify:cache.data.priceHistoryTip.style,text:cache.data.priceHistoryTip["short"],consts:consts.subConsts,isShowTip:isShowTip,priceHistoryTip:cache.data.priceHistoryTip["long"],isSubscribe:cache.data.priceHub.cur});var $pageElem=$(cache.data.pricePositionTag).filter(":first");$pageElem.after(html);if(document.domain==="taobao.com"||document.domain==="tmall.com"){$(".youdaoGWZS_plug-history-hd").hide()}var sE=document.getElementById(consts.optionsID);if(sE&&cache.localConf){sE.innerHTML=util.jsonToStr(cache.localConf,";")}showFlash(cache.data.priceHistory);plugHistory.event();var $mod=$('ul.youdaoGWZS_plug-history li[hui-type="hui-plughistory-sec"]:first');var $timeBtns=$mod.find("a[hui-type]");var actCss="hui-history-active";var historyState="def";$mod.delegate("a[hui-type='def-history']","click",function(e){e.preventDefault();if(historyState==="def"){return}$timeBtns.removeClass(actCss);historyState="def";$(this).addClass(actCss);showFlash(cache.data.priceHistory)}).delegate("a[hui-type='year-history']","click",function(e){e.preventDefault();if(historyState==="year"){return}$timeBtns.removeClass(actCss);historyState="year";$(this).addClass(actCss);showFlash(cache.data.priceHistoryOneYear)})}},changeSubStatus:function(args){var statu=args.statu;var btnType=args.btnType;var btnLog;if(statu==="sub"){$(subscribeBtn).removeClass(cancelCSS);$(".deprice-btn[btntype='BAR']").attr("clkaction","PRICEHUB_BAR_SUB_CLICK");$(".deprice-btn[btntype='DIRECT']").attr("clkaction","PRICEHUB_DIRECT_SUB_CLICK").find("span[hui-type='deprice-txt']").html("降价提醒").data("hoverTxt","添加订阅");$(".deprice-btn[btntype='BUTTON']").attr("clkaction","PRICEHUB_BUTTON_SUB_CLICK")}else{$(subscribeBtn).addClass(cancelCSS);$(".deprice-btn[btntype='BAR']").attr("clkaction","PRICEHUB_BAR_UNSUB_CLICK");$(".deprice-btn[btntype='DIRECT']").attr("clkaction","PRICEHUB_DIRECT_UNSUB_CLICK").find("span[hui-type='deprice-txt']").html("订阅成功").data("hoverTxt","取消订阅");$(".deprice-btn[btntype='BUTTON']").attr("clkaction","PRICEHUB_BUTTON_UNSUB_CLICK")}}});$(document).delegate("li[hui-type='hui-deprice']","mouseenter",function(e){e.preventDefault();$(this).addClass("hui-deprice-active")}).delegate("li[hui-type='hui-deprice']","mouseleave",function(e){e.preventDefault();$(this).removeClass("hui-deprice-active")})});youdao.define("modules/price/price.html",function(){return' <div hui-mod="price" class="hui-shopping-datacont hui-fz12">\n    <ul hui-type="price-wrapper" class="hui-shopping-datalist hui-fz12">\n\n        <% _.each(_price.list, function (item, num) { %>\n        <li class="hui-datalist" hui-type="hoverMod">\n            <a hidefocus="true" hoveraction="B2C_HOVER" clkaction="B2C_CLICK" class="hui-datalist-item hui-sp hui-sp11" href="<%=item.items[0].cpsUrl%>" target="_blank">\n                <span class="hui-price-ptitle hui-color333 hui-ff2\n                    <% if (!item.available) {%>\n                    hui-colorb2\n                    <% } %>\n                    ">\n                    <em class="hui-fz16 hui-fwb"><%=item.price%></em>元\n                </span>\n                <span class="hui-shopname"><%=item.siteName%>\n                    <% if (item.shopPromotion) { %>\n                    <em class="hui-sp hui-sp9"></em>\n                    <% } %>\n                </span>\n            </a>\n            <% if (num === 0 && _price.tip) {%>\n            <div hui-type="tip" class="hui-shopping-commontips">\n                更低价\n                <div class="hui-sp hui-sp22"></div>\n            </div>\n            <% } %>\n            <div class="hui-shopping-lightbox">\n                <div class="hui-shopping-lightbox-hd"></div>\n                <div class="hui-shopping-lightbox-title hui-color333 hui-fwb">更多同款商品（不同颜色、规格等）</div>\n                <ul class="hui-lightbox-price">\n                    <% _.each(item.items, function (onePrice) { %>\n                    <% if (!onePrice.available) { %>\n                    <li class="hui-colorb2 hui-clearfix">\n                    <a clkaction="B2C_ITEM_CLICK" class="hui-lightbox-price-itemb hui-clearfix" title="<%=onePrice.name%>" target="_blank" href="<%=onePrice.cpsUrl%>">\n                        <span class="hui-fr"><%=onePrice.price%>元<br />(缺货)</span>\n                        <span class="hui-datalist-title hui-fl">\n                            <%=onePrice.shortName%></a>\n                            <% if (onePrice.itemPromotion) { %>\n                            <span class="hui-shopping-lh">\n                            <em class="hui-sp hui-sp9"></em><%=onePrice.itemPromotion.info%>\n                            </span>\n                            <% } %>\n                        </span>\n                    </li>\n                        <% } else { %>\n                    <li class="hui-clearfix">\n                    <a clkaction="B2C_ITEM_CLICK" class="hui-lightbox-price-item hui-clearfix" title="<%=onePrice.name%>" target="_blank" href="<%=onePrice.cpsUrl%>">\n                        <span class="hui-fr"><%=onePrice.price%>元<br /></span>\n                        <span class="hui-datalist-title hui-fl">\n                            <%=onePrice.shortName%>\n                            <% if (onePrice.itemPromotion) { %>\n                            <span class="hui-shopping-lh">\n                            <em class="hui-sp hui-sp9"></em><%=onePrice.itemPromotion.info%>\n                            </span>\n                            <% } %>\n                        </span>\n                    </a>\n                    </li>\n                    <% } %>\n                    <% }) %>\n                </ul>\n                <div class="hui-lightbox-price-ft hui-tac">\n                    <% if (item.famous) { %>\n                    <em class="hui-sp hui-sp10"></em>\n                    <% } %>\n                    <%=item.siteName%>\n                    <% if (item.shipping) {%>\n                    :<span class="hui-shopping-lh"><%=item.shipping%></span>\n                    <% } %>\n                </div>\n            </div>\n\n        </li>\n        <% }) %>\n    </ul>\n\n    <% if (_price.list.length > 1) { %>\n    <a hidefocus="true" clkaction="MOREB2C_CLICK" hui-type="more-price" class="hui-shopping-readmore hui-fz12" target="_blank" href="<%=_price.more%>" title="更多报价">更多报价 &gt;&gt;</a>\n    <% } %>\n</div>\n'});youdao.define("modules/price/price.js",function(require,exports){var yd=youdao;var $=yd.jQuery;var _=yd._;var tmpl=require("modules/price/price.html");var mod=yd.mod;var name="price";mod[name]={template:tmpl,event:function($mod){var backCompat=yd.cache.conf&&(yd.cache.conf.backCompat||(yd.cache.conf.ie===6));var q={wrapper:"ul[hui-type='wrapper']"};var $items=$mod.find('li[hui-type="hoverMod"]');var $more=$mod.find('a[hui-type="more-price"]');var $tip=$mod.find('div[hui-type="tip"]');var checkCount=function(args){var width=(backCompat)?args.width-120:args.width-40;if(width<=0){$mod.css("display","none")}$mod.show();$items.show();$more.hide();var num=$items.length;if($mod.width()<width){return}$more.show();while(num>0&&$mod.width()>width){$items.eq(--num).css("display","none")}};var hide=function(){$mod.hide()};var filter=function(args){var fn={priceWrapWidth:checkCount,hide:hide};if(fn[args.type]){fn[args.type](args)}};$mod.lMsg("container",filter);if($tip.length>0){$mod.sMsg({type:"showTips",$tip:$tip})}}}});youdao.define("modules/pricestate/pricestate.html",function(){return' <li hui-mod="pricestate" hui-type="hoverMod" class="hui-shopping-pricestate hui-fz12">\n    <a class="hui-sp hui-sp11" hoveraction="HISTORY_HOVER" href="#">\n        <span class="hui-icon-cont">\n            <em class="hui-sp hui-sp6 hui-<%=_pricestate.data.style%>"></em>\n        </span><br />\n        <%= _pricestate.data.short%>\n    </a>\n\n    <% if (_pricestate.tip) { %>\n    <div hui-type="tip" class="hui-shopping-commontips">\n        历史最低价\n        <div class="hui-sp hui-sp22"></div>\n    </div>\n    <% } %>\n\n    <div class="hui-shopping-lightbox">\n        <div class="hui-shopping-lightbox-hd"></div>\n        <div id="youdaoGWZShistory" class="hui-history-box">\n        </div>\n    </div>\n</li>\n'});youdao.define("modules/pricestate/historyInfo.html",function(){return' <div class="hui-plughistory-hd">\n    <span class="hui-history-logo">价格走势</span>\n    <ul>\n        <li class="hui-history-time">\n        <a hui-type="year-history" clkAction="CHANGE_ALL_TIME" href="#">全部时间</a>\n        </li>\n        <li class="hui-history-time">\n        <a class="hui-history-active" clkAction="CHANGE_TWOMONTH" hui-type="def-history" href="#">两个月</a>\n        </li>\n    </ul>\n</div>\n\n<div id="hui-history-flash">\n</div>\n\n<div class="hui-plughistory-ft">\n    <a href="javascript:void(0)" btnType="BUTTON" data-type="deprice-inside"\n        class="hui-old-sp1 deprice-btn subscribe \n        <% if (isSubscribe) {%>deSubscribe<% } %>\n        " clkaction="<% if(isSubscribe){%>PRICEHUB_BUTTON_UNSUB_CLICK<% } else { %>PRICEHUB_BUTTON_SUB_CLICK<% } %>">降价提醒</a>\n</div>\n'});youdao.define("modules/pricestate/pricestate.js",function(require,exports){var yd=youdao;var $=yd.jQuery;var _=yd._;var tmpl=require("modules/pricestate/pricestate.html");var info=require("modules/pricestate/historyInfo.html");var cache=yd.require_module("youdao.cache");var consts=yd.require_module("youdao.consts");var util=yd.require_module("youdao.util");var msg=yd.reg("subBookmarks");var mod=yd.mod;var name="pricestate";mod[name]={template:tmpl,event:function($mod){priceHistory($mod);var $tip=$mod.find('div[hui-type="tip"]');var left;if($tip.length>0){$mod.sMsg({type:"showTips",$tip:$tip})}if(document.domain==="taobao.com"||document.domain==="tmall.com"){$mod.addClass("hui-taobao-history")}}};var showFlash=function(xml){var baseUrl=consts.flashUrl;var data=xml;var flashvars={data:data};var params={menu:"false",scale:"Scale",wmode:"opaque",allowFullscreen:"true",allowScriptAccess:"always",bgcolor:"#FFFFFF"};var attributes={id:"hui-history-flash","class":"hui-falsh"};swfobject.embedSWF(baseUrl+"trendchart_3_0_2.swf","hui-history-flash","390","200","9.0.0",baseUrl+"expressInstall.swf",flashvars,params,attributes)};var priceHistory=function($mod){var name=consts.commonName;var timer=consts.showTime*1000;var data=cache.data.coupons;var hoverCss="youdaoGWZS_ico_historyActive";var historyState="def";cache.data.priceHub=cache.data.priceHub||{};var hasFlash=util.checkFlash().hasFlash;var json={logo:"价格走势",priceHistoryTip:cache.data.priceHistoryTip["long"],name:name,hasFlash:hasFlash,isSubscribe:cache.data.priceHub.cur};var str=info;if(!hasFlash){var logType="ARMANI_EXTENSION_ACTION";var logAction="HISTORY_NOFLASH";if(cache.fn&&cache.fn.sendLog&&util.isFunction(cache.fn.sendLog)){cache.fn.sendLog(logAction,document.createElement("div"),logType)}}var html=_.template(str)(json);$("#youdaoGWZShistory").html(html);if(document.domain==="taobao.com"||document.domain==="tmall.com"){$(".youdaoGWZS_plug-history-hd").hide()}showFlash(cache.data.priceHistory);var $timeBtns=$mod.find("a[hui-type]");var actCss="hui-history-active";$mod.delegate("a[hui-type='def-history']","click",function(e){e.preventDefault();if(historyState==="def"){return}$timeBtns.removeClass(actCss);historyState="def";$(this).addClass(actCss);showFlash(cache.data.priceHistory)}).delegate("a[hui-type='year-history']","click",function(e){e.preventDefault();if(historyState==="year"){return}$timeBtns.removeClass(actCss);historyState="year";$(this).addClass(actCss);showFlash(cache.data.priceHistoryOneYear)})}});youdao.define("modules/quan/quan.html",function(){return' <li hui-mod="quan" hui-type="hoverMod" class="hui-shopping-quan hui-fz12">\n    <a class="hui-sp hui-sp11" target="_blank" clkaction="QUAN_CLICK" hoveraction="QUAN_HOVER" href="<%=_quan.list[0].url%>">\n        <span class="hui-sp hui-sp2"></span>\n    </a>\n    <% if (_quan.tip) { %>\n    <% if (_quan.tip.length > 6) { %>\n    <div hui-type="tip" class="hui-shopping-commontips hui-shopping-deftips">\n        当前商家有券\n    <% } else { %>\n    <div hui-type="tip" class="hui-shopping-commontips">\n        <%=_quan.tip %>\n    <% } %>\n        <div class="hui-sp hui-sp22"></div>\n    </div>\n    <% } %>\n\n    <div class="hui-shopping-lightbox">\n        <div class="hui-shopping-lightbox-hd"></div>\n        <div class="hui-shopping-lightbox-title hui-color333 hui-fwb">热门优惠券</div>\n            <div class="hui-sp hui-sp15 hui-clearfix">\n                <div class="hui-fl hui-tac hui-quan-thumb">\n\n                    <a class="" target="_blank" clkaction="QUAN_IMAGE_CLICK" href="<%=_quan.list[0].url%>" title="<%=_quan.list[0].name%>">\n                        <img src="<%=_quan.list[0].imageURL%>" title="<%=_quan.list[0].name%>" width="140" height="100" />\n                    </a>\n                </div>\n                <div class="hui-quan-detail hui-tac">\n                    <a class="hui-btn-quanget hui-ff2 hui-fz16" target="_blank" clkaction="QUAN_BUTTON_CLICK" href="<%=_quan.list[0].url%>" title="<%=_quan.list[0].name%>">立即领取</a>\n                    <p class="hui-color999"><span class="hui-sp hui-sp26"></span><%=_quan.list[0].fetchCount%>人已领取</p>\n                </div>\n            </div>\n            <ul class="hui-quan-list">\n                <% _.each(_quan.list, function (item, num) { %>\n                <% if (num !== 0) { %>\n                <li class="hui-clearfix\n                <% if (num === _quan.list.length - 1) { %>\n                    hui-no-border\n                <% } %>\n                ">\n                    <span class="hui-fr hui-color999"><span class="hui-sp hui-sp26"></span><%=item.fetchCount%>人已领取</span>\n                    <a class="hui-quan-list-title hui-fl" clkaction="QUAN_LINK_CLICK" target="_blank" href="<%=item.url%>"><span class="hui-quan-dot">·</span>\n                        <%=item.bName%> - <%=item.name%>\n                    </a>\n                </li>\n                <% } %>\n                <% }) %>\n            </ul>\n            <div class="hui-quan-ft">\n                <a target="_blank" clkaction="QUAN_MORE_CLICK" href="http://quan.163.com/?from=extension">去看更多<span class="hui-sp hui-sp16"></span></a>\n            </div>\n    </div>\n</li>\n'});youdao.define("modules/quan/quan.js",function(require,exports){var yd=youdao;var $=yd.jQuery;var _=yd._;var tmpl=require("modules/quan/quan.html");var mod=yd.mod;var name="quan";mod[name]={template:tmpl,event:function($mod){var $tip=$mod.find('div[hui-type="tip"]');if($tip.length>0){$mod.sMsg({type:"showTips",$tip:$tip})}}}});youdao.define("modules/subBookmarks/subBookmarks.html",function(){return' <% consts = consts || {} %>\n<% consts.commonName = "youdaoGWZS_" %>\n<li hui-mod="subBookmarks" hui-type="hoverMod" class="hui-shopping-subBookmarks <%= consts.commonName %>sub-bookmarks-ico <%= consts.subConsts.plugClass%>">\n    <a id="<%= consts.commonName %>sub-bookmarks" href="#4" class="hui-sp hui-sp11" clkAction="SUBLIST_HOVER" hoverAction="SUBLIST_HOVER">\n        <span class="hui-sp hui-sp3"></span>\n    </a>\n    <div class="hui-shopping-lightbox">\n        <div class="hui-shopping-lightbox-hd"></div>\n        <div class="hui-shopping-lightbox-title hui-color333 hui-fwb">降价提醒订阅列表</div>\n    <div id="youdaoGWZSSubList" class="youdaoGWZS_sublist">\n    </div>\n    </div>\n</li>\n\n\n'});youdao.define("modules/recommand/wrapper.html",function(){return' <% if (type !== "noData") { %>\n    <div class="sublist-viewport <%= type === "full" ? "fullHeight" : "halfHeight" %>">\n        <% if (recommendType !== "bookmarks") { %>\n            <h3 class="header">\n                <% if (recommendType === "ITEMCF") { %>\n                    根据您的浏览历史，和您兴趣相同的用户还看了 \n                <% } else { %>\n                    根据您的浏览历史，最新降价推荐\n                <% } %>\n            </h3>\n        <% } %>\n        <ul>\n        </ul>\n        </div>\n                <div class="paging-wrapper">\n                    <a href="javascript:void(0)" clkaction="<%= logType %>_PREV_CLICK"\n                        class="-prev prev-page-unable prev-page" title="前一页"></a>\n                    <span class="page-number">\n                        <span class="-right-page right-page">1</span>\n                        /<span class="-total-pages total-pages"><%= totalPages %></span>\n                    </span>\n                    <a href="javascript:void(0)" clkaction="<%= logType %>_NEXT_CLICK"\n                        class="-next next-page  <%= totalPages === 1 ? "next-page-unable" : "" %>"\n                        title="后一页">后一页</a>\n                </div>\n<% } else { %>\n        <div class="hui-nosubBookmarkstips hui-colorb2">\n        <% if (recommendType !== "bookmarks") { %>\n            <p class="sublist-nodata">根据您的浏览历史，暂无相关商品推荐</p>\n        <% } else { %>\n            <p>暂无<%= consts.firstHd %></p>\n            <p>您<%= consts.firstHd %>的商品可在此快速查看和管理</p>\n        <% } %>\n        </div>\n<% } %>\n\n\n'});youdao.define("modules/recommand/content.html",function(){return' <% for (var i = 0; i < subList.length ; i ++) { %>\n<li style="left:<%= subList[i].offsetLeft %>px; top:<%= subList[i].offsetTop  %>px;"\n    data-index="<%= subList[i].index || i %>">\n    <div class="image-wrapper">\n        <a href="<%= subList[i].url %>" clkaction="<%= subList.logType %>_ITEM_CLICK" target="_blank"\n            title="<%= subList[i].title %>">\n            <img src="<%= subList[i].imgUrl %>" alt="<%= subList[i].title %>"/>\n        </a>\n        <% if (subList[i].price <= subList[i].expectPrice) { %>\n            <i class="is-reach">已达到</i>\n        <% } %>\n    </div>\n    <div class="title-wrapper">\n        <a href="<%= subList[i].url %>"\n            clkaction="<%= subList.logType %>_ITEM_CLICK" target="_blank"\n            title="<%= subList[i].title %>">\n            <%= subList[i].title %>\n        </a>\n    </div>\n    <div class="price-wrapper">\n        <% if (subList[i].price === "-1") { %>\n        <span class="hui-colorb2">暂无报价</span>\n        <% } else { %>\n        <span><%= subList[i].price %>元</span>\n        <% } %>\n    </div>\n    <% if (subList[i].priceTrend !== undefined) { %>\n        <div class="hui-subBookmarks-setnav">\n            <a class="hui-sp hui-sp18" href="#" clkaction="<%= subList.logType %>_UNSUB_CLICK" hui-type="delete"></a>\n            <div class="hui-subBookmarks-setnav-line"></div>\n            <a class="hui-sp hui-sp19" href="#" clkaction="<%= subList.logType %>_MODIFY_CLICK" hui-type="modify"></a>\n        </div>\n    <% } else if (subList[i].description !== ""){ %>\n        <b <%if (subList[i].isLowest) { %> class="lowest"<% } %>>\n            <%= subList[i].description %>\n        </b>\n    <% } %>\n</li>\n<% } %>\n'});youdao.define("modules/common/ajaxSlide.js",function(require,exports,module){var yd=youdao;var $=yd.jQuery;var _=yd._;var cache=yd.require_module("youdao.cache");var default_conf={q:"/api/pricehub/",isAjax:true,itemOffsetX:116,itemOffsetY:170,colums:3,defaultType:"detail",perItems:6,perOffset:348,startPos:0,port:""};function AjaxSlide(conf){this.conf=$.extend({},default_conf,conf);this.init()}module.exports=AjaxSlide;AjaxSlide.prototype={init:function(){var self=this;var cfg=self.conf;var pos=self.conf.startPos;self.rightPage=0;self.cacheLists=[];self.lastRequestStart=self.rightPage*cfg.perItems;self.doRequest(cfg.defaultType,function(data){self.total=data.total;self.initWrapper(data);if(self.pageType==="noData"){return}self.rightPage=1;self.currentLeft=0;self.initCurQueue(data);self.lastRequestStart=self.rightPage*cfg.perItems;if(cfg.isAjax){self.doRequest(cfg.defaultType,self.initCurQueue,{email:cfg.email,start:(self.rightPage*cfg.perItems)})}},{email:cfg.email,start:self.rightPage})},doRequest:function(type,callback,params){var self=this;var cfg=self.conf;yd.ajax({url:cfg.q+type,contex:self,params:params||"",success:function(data){if($.isFunction(callback)){callback.call(self,data)}}})},initWrapper:function(data){var subLists=data.items;if(subLists.length){if(subLists.length<=this.conf.colums){this.pageType="half"}else{this.pageType="full"}}else{this.pageType="noData"}this.dealPageNum();this.conf.renderWrapper.call(this,this.pageType,this.totalPages,data.type)},initCurQueue:function(data){var subLists=data.items;var cfg=this.conf;var self=this;if(!!!data.total){return}_.each(subLists,function(item,index){var offset;offset=self.getOffset(item.index||index);item.offsetLeft=offset.left;item.offsetTop=offset.top});this.cacheLists.push.apply(this.cacheLists,subLists);this.total=data.total;this.updateMaxLeft();this.subLists=subLists;this.listType=data.type;cfg.renderItems.call(this,subLists)},updateMaxLeft:function(){var total=this.total;var cfg=this.conf;this.maxLeft=Math.floor(total/cfg.perItems)*cfg.perOffset},getOffset:function(index){var offsetLeft,offsetTop;var cfg=this.conf;offsetLeft=Math.floor(index/cfg.perItems)*cfg.itemOffsetX*cfg.colums+(index%cfg.colums)*cfg.itemOffsetX;offsetTop=(Math.floor(index/cfg.colums)%2)*cfg.itemOffsetY;return{left:offsetLeft,top:offsetTop}},dealPageNum:function(){var total=this.total;var cfg=this.conf;this.totalPages=(total%cfg.perItems)?Math.ceil((total+1)/cfg.perItems):Math.ceil(total/cfg.perItems)},prevPage:function(){var cfg=this.conf;var exceptLeft=-((this.rightPage-2)*cfg.perOffset);if(exceptLeft===0){this.rightPage=1}else{this.rightPage=this.rightPage-1}this.currentLeft=exceptLeft},nextPage:function(){var cfg=this.conf;var exceptLeft=-(this.rightPage*cfg.perOffset);if(Math.abs(exceptLeft)===this.maxLeft){this.rightPage=this.totalPages}else{this.rightPage=this.rightPage+1}this.currentLeft=exceptLeft;var nextPageItem=this.rightPage*cfg.perItems;if(this.cacheLists.length!==this.total){var requestStart=this.cacheLists.length;if(this.lastRequestStart!==requestStart){this.lastRequestStart=requestStart;this.doRequest("detail",this.initCurQueue,{email:cfg.email,start:requestStart})}}var thisPageItem=(this.rightPage-1)*cfg.perItems;if(!!!this.cacheLists[thisPageItem]){this.currentLeft=exceptLeft+cfg.perOffset;this.rightPage=this.rightPage-1;return false}return true},delItem:function(thisIndex){var self=this;var cfg=self.conf;var params=this.getAjaxParams(thisIndex);this.doRequest("del",function(){self.cacheLists.splice(thisIndex,1);var cacheLists=self.cacheLists;var len=cacheLists.length;var i=thisIndex;var offset;this.total=this.total-1;if(!!!len){self.pageType="noData";self.conf.renderWrapper.call(self,self.pageType,self.totalPages);return}for(;i<len;i++){offset=self.getOffset(i);cacheLists[i].offsetLeft=offset.left;cacheLists[i].offsetTop=offset.top;cacheLists[i].index=cacheLists[i].index-1}if(cacheLists.length!==self.total){var requestStart=cacheLists.length;if(self.lastRequestStart!==requestStart){self.lastRequestStart=requestStart;self.doRequest("detail",self.initCurQueue,{email:cfg.email,start:requestStart})}}self.updateMaxLeft();self.dealPageNum();var isPrev;if(self.totalPages<self.rightPage){isPrev=true;self.prevPage()}cfg.dealDel.call(this,thisIndex,cacheLists,isPrev)},params)},modifyItem:function(thisIndex){var self;var self=this;var cfg=self.conf;var params=this.getAjaxParams(thisIndex,true);this.doRequest("query",function(data){cfg.switchEditData(data,params)},params)},getAjaxParams:function(index,isQuery){var params={};var subInfo=this.cacheLists[index];if(subInfo.itemid&&subInfo.itemid!=="undefined"){if(isQuery){params.productid=(subInfo.isCluster?"c:":"s:")+subInfo.itemid}else{params.id=subInfo.itemid;params.cluster=subInfo.isCluster?true:false}}cf=cache.localConf||{};email=cf.email||cache.data.email||"";params.extensionid=cf.extensionid||"";params.email=email;params.m=encodeURIComponent(subInfo.url);return params}}});youdao.define("modules/subBookmarks/subBookmarks.js",function(require,exports,module){var yd=youdao;var cache=yd.require_module("youdao.cache");var consts=yd.require_module("youdao.consts");var util=yd.require_module("youdao.util");var msg=yd.reg("subBookmarks");var $=yd.jQuery;var _=yd._;var prefixName=consts.commonName;var modeName=prefixName+"sub-bookmarks";var modeClass=prefixName+"sublist";var iconHtml=require("modules/subBookmarks/subBookmarks.html");var wrapperHtml=require("modules/recommand/wrapper.html");var mod=yd.mod;var name="subBookmarks";mod[name]={template:iconHtml,event:function($mod){subBookmarks($mod)}};var subBookmarks=function($mod){var selector={icoQ:"[hui-mod='subBookmarks']",listViewPortQ:"."+modeClass+" .sublist-viewport ul",listWrapper:"#youdaoGWZSSubList",contentWrapperQ:"#youdaoGWZSSubList .youdaoGWZS_content",itemQ:"."+modeClass+" .sublist-viewport li",prevBtnQ:"."+modeClass+" .paging-wrapper .-prev",nextBtnQ:"."+modeClass+" .paging-wrapper .-next",rightPageQ:"."+modeClass+" .paging-wrapper .-right-page",totalPageQ:"."+modeClass+" .paging-wrapper .-total-pages",modifyQ:"a[hui-type='modify']",deleteQ:"a[hui-type='delete']",unablePrev:"prev-page-unable",unableNext:"next-page-unable",subHalfWidth:"sublist-halfWidth",subFullWidth:"sublist-fullWidth",subNoList:"has-no-subList",modeFlag:modeName};var modeFlag=document.getElementById(selector.modeFlag);var modeWrapper=modeFlag.parentNode;var timer=consts.showTime*1000;var subList=cache.data.subscribes;var activeClass="youdaoGWZS_ico_active";var hasSubList,animateId,getMaxIndex,getSubList,getItemInfo;var str=wrapperHtml;function renderWrapper(type,totalPages,wrapperType){var json;json={css:"youdao",logo:consts.subConsts.listHd,consts:consts.subConsts,totalPages:totalPages,dataType:"bookmarks",logType:"SUBLIST",recommendType:wrapperType||"bookmarks",type:type};html=_.template(str)(json);$(selector.listWrapper).html(html);if(type!=="noData"){$(selector.listWrapper).removeClass(selector.subHalfWidth);$(selector.listWrapper).addClass(selector.subFullWidth);if(type==="full"){$(selector.contentWrapperQ).css({height:427})}else{$(selector.contentWrapperQ).css({height:202})}}else{$(selector.listWrapper).removeClass(selector.subFullWidth);$(selector.listWrapper).addClass(selector.subHalfWidth);$(selector.contentWrapperQ).addClass(selector.subNoList)}}function renderItems(subLists){var itemTmpl=require("modules/recommand/content.html");subLists.logType="SUBLIST";$(selector.listViewPortQ).append(_.template(itemTmpl)({subList:subLists}))}function switchEditData(queryData,params){var priceList=[];var selectorInfo={};var modifyInfo={};var btnInfo={};var productInfo=params.productid.split(":");if(productInfo[0]==="c"){modifyInfo.clusterId=productInfo[1];modifyInfo.iscluster=true}else{modifyInfo.itemId=productInfo[1]}selectorInfo.famous=true;var checkedCustomList;if(queryData.subType==="CUSTOM"){checkedCustomList=queryData.subedSites.split(",");selectorInfo.initSelected=checkedCustomList.length?checkedCustomList.join("@"):" ";selectorInfo.famous=false}selectorInfo.listType=queryData.subType;selectorInfo.price=queryData.expectPrice;_.each(queryData.subableSites,function(item,index){var formateItem;formateItem={famous:item.famous,site:item.domain,siteName:item.siteName,avaiable:true,modify:true,isChecked:true,price:queryData.expectPrice,id:index};priceList.push(formateItem)});priceList.push(selectorInfo);modifyInfo.priceList=priceList;btnInfo.x=850;btnInfo.y=$("#youdaoGWZSSubList").offset().top;btnInfo.type="sub";btnInfo.isModify=true;btnInfo.modifyInfo=modifyInfo;msg.send("subscribe",btnInfo)}function dealDel(thisIndex,cacheList,isPrev){var $thisItem=$("."+modeClass+' li[data-index="'+thisIndex+'"]');var $nextAllList=$thisItem.nextAll();$thisItem.remove();$nextAllList.each(function(index,item){var $item=$(item);var itemIndex=$item.attr("data-index")-1;$item.animate({left:cacheList[itemIndex].offsetLeft+"px",top:cacheList[itemIndex].offsetTop+"px"});$item.attr("data-index",itemIndex)});if(isPrev){if(_ajaxSlide.rightPage===1){$(selector.prevBtnQ).addClass("prev-page-unable")}if(animateId){clearTimeout(animateId)}$(selector.listViewPortQ).stop();$(selector.listViewPortQ).animate({left:_ajaxSlide.currentLeft},600);$(selector.rightPageQ).html(_ajaxSlide.rightPage)}if(_ajaxSlide.rightPage===_ajaxSlide.totalPages){$(selector.nextBtnQ).addClass(selector.unableNext)}$(selector.totalPageQ).html(_ajaxSlide.totalPages)}var timeId;msg.listen("clearShowBox",function(){clearTimeout(timeId);$(modeWrapper).removeClass(activeClass)});var _ajaxSlide;var AjaxSlide=require("modules/common/ajaxSlide.js");$(document).delegate(selector.icoQ,"mouseenter",function(){var isInitSlide=cache.conf.isInitSlide;var cf=cache.localConf||{};if(!$(modeWrapper).hasClass(activeClass)){$(modeWrapper).addClass(activeClass);if(isInitSlide){if(cache.conf.rePaintSubList){_ajaxSlide.init();cache.conf.rePaintSubList=false}return}_ajaxSlide=new AjaxSlide({email:cf.email||cache.data.email||"",renderWrapper:renderWrapper,dealDel:dealDel,switchEditData:switchEditData,renderItems:renderItems});cache.conf.isInitSlide=true;cache.conf.rePaintSubList=false}});$(document).delegate(selector.icoQ,"mouseleave",function(){timeId=setTimeout(function(){$(modeWrapper).removeClass(activeClass)},200)});$(document).delegate(selector.prevBtnQ,"click",function(){var $this=$(this);if($this.hasClass(selector.unablePrev)){return}_ajaxSlide.prevPage();if(_ajaxSlide.rightPage===1){$this.addClass("prev-page-unable")}if(animateId){clearTimeout(animateId)}$(selector.listViewPortQ).stop();$(selector.listViewPortQ).animate({left:_ajaxSlide.currentLeft},600);$(selector.rightPageQ).html(_ajaxSlide.rightPage);if($(selector.nextBtnQ).hasClass(selector.unableNext)){$(selector.nextBtnQ).removeClass(selector.unableNext)}});$(document).delegate(selector.nextBtnQ,"click",function(){var $this=$(this);if($this.hasClass(selector.unableNext)){return}if(!_ajaxSlide.nextPage()){return}if(_ajaxSlide.rightPage===_ajaxSlide.totalPages){$this.addClass(selector.unableNext)}$(selector.listViewPortQ).stop();$(selector.listViewPortQ).animate({left:_ajaxSlide.currentLeft},600);$(selector.rightPageQ).html(_ajaxSlide.rightPage);if($(selector.prevBtnQ).hasClass(selector.unablePrev)){$(selector.prevBtnQ).removeClass(selector.unablePrev)}});$(document).delegate(selector.itemQ,"mouseenter",function(){$(this).addClass("active")});$(document).delegate(selector.itemQ,"mouseleave",function(){$(this).removeClass("active")});$mod.delegate(selector.modifyQ,"click",function(e){e.preventDefault();var $this=$(this);var $thisItem=$this.closest("li");var thisIndex=$thisItem.attr("data-index");_ajaxSlide.modifyItem(thisIndex)});$(document).delegate(selector.deleteQ,"click",function(e){e.preventDefault();var $this=$(this);var $thisItem=$this.closest("li");var thisIndex=$thisItem.attr("data-index");_ajaxSlide.delItem(thisIndex)})}});youdao.define("modules/taosame/taosame.html",function(){return' <% if (_taosame.sameTypeNum !== 0) {%>\n<li hui-mod="taosame" hui-type="hoverMod" class="hui-shopping-taosame hui-fz12">\n    <a class="hui-sp hui-sp11" clkaction="TBSAME_SAME_CLICK" href="<%= _taosame.sameTypeUrl %>" target="_block">\n<% } else { %>\n<li hui-mod="taosame" class="hui-shopping-taosame hui-fz12 hui-taosame-noitem">\n    <a class="hui-sp hui-sp11" href="javascript:void(0);">\n<% } %>\n        <span class="hui-icon-cont"><em class="hui-sp hui-sp23 \n                <% if (_taosame.sameTypeNum === 0) {%>\n                hui-sp25\n                <% } %>\n                "></em></span><br />\n        淘宝同款(<em class="hui-shopping-lh"><%=_taosame.sameTypeNum%>件</em>)\n    </a>\n    <% if (_taosame.sameTypeNum !== 0) {%>\n    <div hui-type="tip" class="hui-shopping-commontips">\n        <% if (_taosame.sameTypeNum <= 1000) {%>\n        <%=_taosame.sameTypeNum%>件\n        <% } else { %>\n        >1000件\n        <%}%>\n        <div class="hui-sp hui-sp22"></div>\n    </div>\n    <%}%>\n</li>\n'});youdao.define("modules/taosame/taosame.js",function(require,exports){var yd=youdao;var $=yd.jQuery;var _=yd._;var tmpl=require("modules/taosame/taosame.html");var mod=yd.mod;var name="taosame";mod[name]={template:tmpl,event:function($mod){var $tip=$mod.find("div[hui-type='tip']");if($tip&&$tip.length){$mod.sMsg({type:"showTips",$tip:$tip})}}}});youdao.define("modules/taosimilar/taosimilar.html",function(){return' <li hui-mod="taosimilar" hui-type="hoverMod" class="hui-shopping-taosimilar hui-fz12">\n    <a class="hui-sp hui-sp11" clkaction="TBSMAE_SILIMAR_CLICK" href="<%=_taosimilar.similarTypeUrl%>" target="_blank" title="淘宝相似款">\n    <span class="hui-icon-cont"><em class="hui-sp hui-sp24"></em></span><br />\n    淘宝相似款\n    </a>\n</li>\n'});youdao.define("modules/taosimilar/taosimilar.js",function(require,exports){var yd=youdao;var $=yd.jQuery;var _=yd._;var tmpl=require("modules/taosimilar/taosimilar.html");var mod=yd.mod;var name="taosimilar";mod[name]={template:tmpl,event:function($mod){}}});youdao.define("modules/test/test.html",function(){return' <div class="testDiv">\n    test module!\n</div>\n'});youdao.define("modules/test/test.js",function(require,exports){var yd=youdao;var $=yd.jQuery;var _=yd._;var tmpl=require("modules/test/test.html");yd.t=yd.t||{};yd.t.test=tmpl;var html=_.template(tmpl)();var $mod=$(html);var name=$mod.find("textarea").attr("data-module")});youdao.define("modules/show_tips.js",function(require,exports){var yd=youdao;var $=yd.jQuery;var _=yd._;var mod=yd.mod;var cache=yd.require_module("youdao.cache");var msg=yd.reg("tips");var tipsArr={};var priorityQueue=["price","quan","pricestate","taosame"];var times=24;var setOff=[1,2,3,4,5,6,5,4,3,2,1,0,1,2,3,4,5,6,5,4,3,2,1,0];var timeList=[60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60];var pushTipsArr=function(name){return function(args){if(args.type!=="showTips"){return}var $tip=args.$tip;var left=($tip.closest("[hui-type='hoverMod']").width()-$tip.width()-10)/2;$tip.css({left:left});$tip.hide();tipsArr[name]=$tip}};var shaking=function($tip,top,num){if(num===0){$tip.css("top",top+"px");return}setTimeout(function(){$tip.css("top",(top-setOff[times-num])+"px");shaking($tip,top,--num)},timeList[times-num])};msg.listens({price:pushTipsArr("price"),quan:pushTipsArr("quan"),taosame:pushTipsArr("taosame"),pricestate:pushTipsArr("pricestate"),tips:function(){var once=false;_.each(priorityQueue,function(item,num){if(once){}if(num>=3){return}if(tipsArr[item]){var $tip=tipsArr[item];$tip.show();var top=parseInt($tip.css("top"));shaking(tipsArr[item],top,times);once=true}})}})});youdao.define("youdao.js",function(require,exports,module){var yd=youdao;yd.runNoSyn(["youdao.conf.init","youdao.modules.gouwuLog","youdao.modules.cssLink","youdao.modules.css","youdao.modules.RequestPriceInfo","youdao.modules.loadout","youdao.modules.render","youdao.modules.discountInfo"])});youdao.define("modules/depriceRemind/miniDepriceRemind.html",function(){return' <div id="youdaoGWZS_deprice_remind_mini"\n    class="<%= state ==="sub" ? "sub-succ" : "unsub-succ" %>\n    -deprice-dialog"\n    style="left:<%= dimensionX%>px; top:<%=dimensionY%>px;">\n    <div class="deprice-mini-wrapper">\n            <% if (state === "sub") { %>\n            <div class="succss-top-border"></div>\n            <div class="success-feed-box">\n                <div class="hui-hd"><span class="deprice-icon <%= state %>"></span><%= consts.subFinishDescribe %></div>\n                <ul class="hui-bd">\n                    <li>通知邮箱：<%= email %></li>\n                    <li>订阅商家：<%= shopInfo %></li>\n                    <li>目标价格：低于<%= expect %>元提醒</li>\n                    <li>\n                    <a href="javascript:void(0)" hui-type="edit-deprice" class="btn-setfeed"\n                    clkaction="PRICEHUB_MODIFY_CLICK">\n                    修改订阅设置»\n                </a></li>\n                </ul>\n            </div>\n            <% } else if (state === "edit-succ") { %>\n                    <div class="cancel-feed-box"><span class="deprice-icon <%= state %>"></span><span><%= consts.editFinishDescribe %></span></div>\n            <% } else { %>\n                    <div class="cancel-feed-box"><span class="deprice-icon <%= state %>"></span><%= consts.unsubFinishDescribe %></div>\n            <% } %>\n        </div>\n</div>\n'});youdao.define("modules/depriceRemind/depriceRemind.html",function(){return' <div id="youdaoGWZS_deprice_remind"\n    class="youdaoGWZS_dr_remind youdaoGWZS_dr_stat_sub \n    -deprice-dialog"\n    style="left:<%= dimensionX%>px; top:<%=dimensionY%>px;">\n    <div class="youdaoGWZS-remindbox-topb"></div>\n    <div class="youdaoGWZS_dr_dialog-hd">\n        <span>\n            <% if (state === "sub") { %>\n            <%= consts.firstHd %>\n            <% } else if (state === "success") { %>\n            <%= consts.successHd %>\n            <% } else { %>\n            <%= consts.editHd %>\n            <% } %>\n        </span>\n        <a href="javascript:void(0)" class="youdaoGWZS_dr_close \n            youdaoGWZS_dr_close_box"> </a>\n    </div>\n\n    <div class="youdaoGWZS_dr_dialog-bd">\n\n        <% if (state === "success") { %>\n        <p>\n        <span class="success-icon"></span>\n        <span class="success-hd"><%= consts.successHd %>！</span>\n        点击下图位置，可随时查看<%= consts.successDes %>\n        </p>\n        <div class="youdaoGWZS_dr_succ_<%= consts.plugClass %>">\n        </div>\n\n        <% } else { %>\n        <p>一旦商品降价，您将收到助手和邮件通知，第一时间获知价格变化。</p>\n\n        <ul class="input-wrap hui-clearfix">\n            <li>\n            <label for="youdaoGWZS_text_email"\n                class="emailTitle label-title">通知邮箱：</label>\n            <div class="youdaoGWZS_dr_r">\n                <input type="text" name="youdaoGWZS_text_email"\n                id="youdaoGWZS_text_email" class="text-input"\n                def-data="请输入您常用的邮箱地址"\n                value="<%=email%>">\n            <div class="youdaoGWZS_common_tips youdaoGWZS_dr_tips">\n                <b></b>请填写邮箱地址</div>\n            </div>\n            </li>\n            <% if (state !== "sub") { %>\n            <li class="remind-setting">\n            <label class="label-title">订阅商家：</label>\n            <%= vendorChooseTmpl %>\n            </li>\n            <li>\n                <label class="label-title">目标价格：</label><input type="text" style="width:92px;" name="price" class="text-input" \n                value="<%= initPrice%>"/> 元\n            </li>\n            <% } %>\n        </ul>\n        <% } %>\n    </div>\n\n    <div class="youdaoGWZS_dr_dialog-ft">\n        <a href="javascript:void(0)"\n            class="<%= state === "success" ? "-closeDialog" : "youdaoGWZS_dr_subscript" %>"\n            clkaction="PRICEHUB_SUBMIT_CLICK">确　定\n        </a>\n        <a href="javascript:void(0)" class="youdaoGWZS_dr_enter \n            youdaoGWZS_dr_close_box" clkaction="PRICEHUB_CONFIRM_CLICK">\n            完成\n        </a>\n    </div>\n</div>\n'});youdao.define("modules/depriceRemind/depriceRemind.js",function(require,exports){var yd=youdao;var $=yd.jQuery;var _=yd._;var cache=yd.require_module("youdao.cache");var code=yd.require_module("youdao.code");var vendorChoose=yd.require_module("youdao.vendorSelector").vendorChoose;var util=yd.require_module("youdao.util");var modules=yd.modules;var data=cache.data;var msg=yd.reg("depriceRemind");var miniTmpl=require("modules/depriceRemind/miniDepriceRemind.html");var tmpl=require("modules/depriceRemind/depriceRemind.html");var depriceRemind=(function(){var $dr,$email,$price,state,hasEmail,$elem,timeID,_params,_options,btnInfo;_options={domQ:"#youdaoGWZS_deprice_remind",miniDomQ:"#youdaoGWZS_deprice_remind_mini",emailQ:"#youdaoGWZS_text_email",priceQ:'input[name="price"]',subCSS:"youdaoGWZS_dr_stat_sub",cancelCSS:"youdaoGWZS_dr_stat_cancel",errCSS:"youdaoGWZS_dr_stat_error",succCSS:"youdaoGWZS_dr_stat_succ",closeQ:"#youdaoGWZS_deprice_remind .youdaoGWZS_dr_close_box",subQ:"#youdaoGWZS_deprice_remind .youdaoGWZS_dr_subscript",editQ:'#youdaoGWZS_deprice_remind_mini a[hui-type="edit-deprice"]',storeChooseQ:".youdaoGWZS_store-choose"};$dr=null;$email=null;$price=null;state="sub";hasEmail=false;$elem=null;timeID=null;_params={subUrl:"/api/pricehub/add",cancelUrl:"/api/pricehub/del"};var _render=function(){_init.baseEnv();if(!!!_params.email&&btnInfo.type==="sub"){paintDialog(btnInfo.type);return}if(!!_params.email){hasEmail=true}if(btnInfo.isModify){paintDialog("edit")}else{paintMiniDialog(btnInfo.type)}};var paintMiniDialog=function(state,args){args=args||{};var txtArr={ALL:"全部商家",BELIEVE:"惠惠推荐商家",CUSTOM:"自定义商家"};var shopInfo=cache.data.thisSite.siteName||"当前商家";if(args&&args.isCluster){shopInfo=txtArr[args.listType]}var templateView;templateView=_.template(miniTmpl)({dimensionX:btnInfo.x-200,dimensionY:btnInfo.y,state:state,shopInfo:shopInfo,email:args.email||"",expect:args.expect||"",consts:consts.subConsts});if($dr&&$dr.length){$dr.remove()}$("body").append(templateView);$dr=$(_options.miniDomQ).hide()};var paintDialog=function(state){var templateView,bodyMargin;templateView=_.template(tmpl)({dimensionX:btnInfo.x,dimensionY:btnInfo.y,consts:consts.subConsts,price:_params.price,email:_params.email,state:state,vendorChooseTmpl:_params.vendorChooseTmpl,initPrice:_params.initPrice});$("body").append(templateView);$dr=$(_options.domQ);$email=$(_options.emailQ);bodyMargin=$("body").position().left;var top=$(window).height()/2+$(document).scrollTop();$dr.css({left:(btnInfo.x-440+bodyMargin)+"px",top:top-$dr.height()/2})};$(document).delegate(_options.editQ,"click",function(){$dr.remove();clearTimeout(timeID);state="edit";paintDialog("edit")});$(document).delegate(_options.closeQ+", .-closeDialog","click",function(e){$dr.remove()});$(document).delegate(_options.subQ,"click",function(){var itemType,itemsSiteList,exceptPrice;if(state==="edit"||btnInfo.isModify){$price=$(_options.priceQ);itemsSiteList=$(_options.storeChooseQ).attr("data-result");itemType=$(_options.storeChooseQ).attr("data-type");exceptPrice=$price.val();_params.exceptPrice=exceptPrice;_params.siteList=itemsSiteList;_params.listType=itemType;if(_checkEmail()&&_checkPrice()){_getPost[btnInfo.type]()}}else{if(_checkEmail()){_getPost[btnInfo.type]()}}});$(document).delegate(_options.emailQ,"focus",function(event){if($email.hasClass("init")){$email.removeClass("init");$email.val("")}});var _checkEmail=function(){var value=$email.val().replace(/\s/g,"");var emailReg=/^([a-zA-Z0-9_-]|\.)+@([a-zA-Z0-9_-])+((\.[a-zA-Z0-9_-]{2,5}){1,2})$/;if(value===""||!emailReg.test(value)){$dr.addClass(_options.errCSS);return false}_params.email=value;$dr.removeClass(_options.errCSS);return true};var _inputAlert=function(customBox){var colors=["#d9d9d9","#f5ac52"];var i=0;var timer=setInterval(function(){if(i===8){clearInterval(timer);return}$(customBox).css("border-color",colors[++i%2])},80)};var _checkPrice=function(){var customBox=_options.priceQ;var value=$price.val().replace(/\s/g,"");var priceReg=/(^\d+\.{0,1}\d+$)|(^\d$)/g;var diyStore=".youdaoGWZS_stores-list";if(!priceReg.test(value)){_inputAlert(customBox);$price.val(_params.initPrice);return false}if($(diyStore).is(":visible")){_inputAlert(diyStore);return false}return true};var _init={baseEnv:function(){var vendorChooseMod,urlPriceList,mmurl,modifyInfo;var cf=cache.localConf||{};var itemInfor=cache.data.thisItem||{};var thisSite=cache.data.thisSite||{};var priceInfo=cache.data.thisPrice||{};var cluster=cache.data.clsuter||{};var hubInfo=cache.data.priceHub||{};var thisPrice={};_params.extensionid=cf.extensionid||"";_params.email=cf.email||cache.data.email||"";_params.remberEmail=true;_params.priceList=[];if(btnInfo.isModify){modifyInfo=btnInfo.modifyInfo;_params.itemId=modifyInfo.itemId;_params.clusterId=modifyInfo.clusterId||"";_params.iscluster=modifyInfo.iscluster;$.extend(_params.priceList,modifyInfo.priceList)}else{urlPriceList=cache.data.urlPriceList||{};thisPrice.avaiable=priceInfo.avaiable;thisPrice.price=priceInfo.price;thisPrice.id=itemInfor.id;thisPrice.site=thisSite.site;thisPrice.famous=thisSite.famous;thisPrice.siteName=thisSite.siteName;mmurl=code.encrypt(itemInfor.url,2,true);_params.mmurl=mmurl;_params.itemId=itemInfor.id;_params.clusterId=hubInfo.clusterId||"";$.extend(_params.priceList,urlPriceList);_params.priceList.unshift(thisPrice);if(_params.priceList.length>1){_params.iscluster=true;_params.clusterId=cluster.clusterId}else{_params.iscluster=false}}vendorChooseMod=vendorChoose({vendorList:_params.priceList,customClass:"deprice-vendors",exceptEle:".remind-price input",isModify:btnInfo.isModify});_params.vendorChooseTmpl=vendorChooseMod.template;_params.initPrice=vendorChooseMod.initPrice},common:function(){var type=btnInfo.type;$elem=btnInfo.$elem;if(btnInfo.callback){_callback.succ=btnInfo.callback}else{_callback.succ=function(){}}clearTimeout(timeID);_init[btnInfo.type](btnInfo)},sub:function(){var bodyMargin,str;if(!!!_params.email||btnInfo.isModify){str=$email.val().replace(/\s/g,"");if(!str){$email.addClass("init");$email.val($email.attr("def-data"))}}else{_getPost[btnInfo.type]()}},cancel:function(){var bodyMargyoudaoGWZS_deprice_remindin;var bodyMargin=$("body").position().left;_getPost[btnInfo.type]()}};var _getPost={sub:function(){var params,json,mmurl,subUrl;params={extensionid:_params.extensionid,email:_params.email,expect:_params.exceptPrice||_params.initPrice,iscluster:_params.iscluster};if(!!!btnInfo.isModify){params.m=_params.mmurl}if(_params.clusterId&&_params.clusterId!=="undefined"){params.id=_params.clusterId;subUrl=_params.subUrl+"/cluster"}else{params.id=_params.itemId;subUrl=_params.subUrl+"/item"}if(_params.listType==="C"){params.sites=_params.listType+"@"+_params.siteList}else{params.sites="B"}json={url:subUrl,params:params,context:self,success:_callback[btnInfo.type],error:_callback[btnInfo.type]};if(_params.remberEmail){cache.localConf.email=_params.email}$("#"+consts.optionsID).html(util.jsonToStr(cache.localConf,";"));setTimeout(function(){yd.ajax(json)},0)},cancel:function(){var params,json,cancelUrl;params={};params.email=_params.email;if(_params.itemId&&_params.itemId!=="undefined"){params.id=_params.itemId;params.cluster=false}if(_params.clusterId&&_params.clusterId!=="undefined"){params.id=_params.clusterId;params.cluster=true}params.m=_params.mmurl;params.extensionid=_params.extensionid;json={url:_params.cancelUrl,params:params,context:self,success:_callback[btnInfo.type],error:_callback[btnInfo.type]};setTimeout(function(){yd.ajax(json)},0)}};var _callback={sub:function(data){if(!data||!data.success){return}paintMiniDialog("sub",data);if(hasEmail){if(state==="edit"||btnInfo.isModify){$dr.remove();paintMiniDialog("edit-succ",data);state="sub"}$dr.show();timeID=setTimeout(function(){$dr.remove()},3*1000)}else{$dr.remove();paintMiniDialog("sub",data);$dr.show();timeID=setTimeout(function(){$dr.remove()},3*1000)}cache.conf.rePaintSubList=true;_callback.succ("cancel")},cancel:function(data){if(!data.success){return}clearTimeout(timeID);$dr.show();_callback.succ("sub");cache.conf.rePaintSubList=true;timeID=setTimeout(function(){$dr.remove()},3*1000)},succ:function(){}};var output={show:function(info){btnInfo=info;_render(btnInfo);_init.common(btnInfo)},_destructor:function(){}};return output}());msg.listens({subscribe:function(btnInfo){var subDialog;subDialog=$(".-deprice-dialog");if(!!subDialog.length){return}depriceRemind.show(btnInfo)}})});youdao.define("./main.js",function(require,modules,exports){var comment=require("modules/comment/comment.js");var container=require("modules/container/container.js");var csprice=require("modules/csprice/csprice.js");var douban=require("modules/douban/douban.js");var faq=require("modules/faq/faq.js");var feed=require("modules/feed/feed.js");var historyInfo=require("modules/historyInfo/historyInfo.js");var logo=require("modules/logo/logo.js");var onceTip=require("modules/onceTip/onceTip.js");var plugHistory=require("modules/plugHistory/plugHistory.js");var price=require("modules/price/price.js");var pricestate=require("modules/pricestate/pricestate.js");var quan=require("modules/quan/quan.js");var subBookmarks=require("modules/subBookmarks/subBookmarks.js");var taosame=require("modules/taosame/taosame.js");var taosimilar=require("modules/taosimilar/taosimilar.js");var test=require("modules/test/test.js");var tips=require("modules/show_tips.js");var gouwuInit=require("youdao.js");var mod3=require("modules/depriceRemind/depriceRemind.js")})}());